function Ax(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Ix(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pm={exports:{}},Cl={},Tm={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=Symbol.for("react.element"),Mx=Symbol.for("react.portal"),Lx=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),zx=Symbol.for("react.profiler"),Ox=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),Fx=Symbol.for("react.forward_ref"),Vx=Symbol.for("react.suspense"),$x=Symbol.for("react.memo"),Ux=Symbol.for("react.lazy"),Kc=Symbol.iterator;function _x(t){return t===null||typeof t!="object"?null:(t=Kc&&t[Kc]||t["@@iterator"],typeof t=="function"?t:null)}var Rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Em=Object.assign,Dm={};function ln(t,s,r){this.props=t,this.context=s,this.refs=Dm,this.updater=r||Rm}ln.prototype.isReactComponent={};ln.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};ln.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Am(){}Am.prototype=ln.prototype;function Oo(t,s,r){this.props=t,this.context=s,this.refs=Dm,this.updater=r||Rm}var Ho=Oo.prototype=new Am;Ho.constructor=Oo;Em(Ho,ln.prototype);Ho.isPureReactComponent=!0;var Gc=Array.isArray,Im=Object.prototype.hasOwnProperty,Fo={current:null},Mm={key:!0,ref:!0,__self:!0,__source:!0};function Lm(t,s,r){var n,a={},l=null,i=null;if(s!=null)for(n in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)Im.call(s,n)&&!Mm.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:da,type:t,key:l,ref:i,props:a,_owner:Fo.current}}function qx(t,s){return{$$typeof:da,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Vo(t){return typeof t=="object"&&t!==null&&t.$$typeof===da}function Kx(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var Wc=/\/+/g;function Jl(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Kx(""+t.key):s.toString(36)}function Ba(t,s,r,n,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case da:case Mx:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+Jl(i,0):n,Gc(a)?(r="",t!=null&&(r=t.replace(Wc,"$&/")+"/"),Ba(a,s,r,"",function(d){return d})):a!=null&&(Vo(a)&&(a=qx(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Wc,"$&/")+"/")+t)),s.push(a)),1;if(i=0,n=n===""?".":n+":",Gc(t))for(var o=0;o<t.length;o++){l=t[o];var c=n+Jl(l,o);i+=Ba(l,s,r,c,a)}else if(c=_x(t),typeof c=="function")for(t=c.call(t),o=0;!(l=t.next()).done;)l=l.value,c=n+Jl(l,o++),i+=Ba(l,s,r,c,a);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function fa(t,s,r){if(t==null)return t;var n=[],a=0;return Ba(t,n,"","",function(l){return s.call(r,l,a++)}),n}function Gx(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},za={transition:null},Wx={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:za,ReactCurrentOwner:Fo};function Bm(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:fa,forEach:function(t,s,r){fa(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return fa(t,function(){s++}),s},toArray:function(t){return fa(t,function(s){return s})||[]},only:function(t){if(!Vo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ln;fe.Fragment=Lx;fe.Profiler=zx;fe.PureComponent=Oo;fe.StrictMode=Bx;fe.Suspense=Vx;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wx;fe.act=Bm;fe.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Em({},t.props),a=t.key,l=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=Fo.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)Im.call(s,c)&&!Mm.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:da,type:t.type,key:a,ref:l,props:n,_owner:i}};fe.createContext=function(t){return t={$$typeof:Hx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ox,_context:t},t.Consumer=t};fe.createElement=Lm;fe.createFactory=function(t){var s=Lm.bind(null,t);return s.type=t,s};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Fx,render:t}};fe.isValidElement=Vo;fe.lazy=function(t){return{$$typeof:Ux,_payload:{_status:-1,_result:t},_init:Gx}};fe.memo=function(t,s){return{$$typeof:$x,type:t,compare:s===void 0?null:s}};fe.startTransition=function(t){var s=za.transition;za.transition={};try{t()}finally{za.transition=s}};fe.unstable_act=Bm;fe.useCallback=function(t,s){return St.current.useCallback(t,s)};fe.useContext=function(t){return St.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return St.current.useDeferredValue(t)};fe.useEffect=function(t,s){return St.current.useEffect(t,s)};fe.useId=function(){return St.current.useId()};fe.useImperativeHandle=function(t,s,r){return St.current.useImperativeHandle(t,s,r)};fe.useInsertionEffect=function(t,s){return St.current.useInsertionEffect(t,s)};fe.useLayoutEffect=function(t,s){return St.current.useLayoutEffect(t,s)};fe.useMemo=function(t,s){return St.current.useMemo(t,s)};fe.useReducer=function(t,s,r){return St.current.useReducer(t,s,r)};fe.useRef=function(t){return St.current.useRef(t)};fe.useState=function(t){return St.current.useState(t)};fe.useSyncExternalStore=function(t,s,r){return St.current.useSyncExternalStore(t,s,r)};fe.useTransition=function(){return St.current.useTransition()};fe.version="18.3.1";Tm.exports=fe;var h=Tm.exports;const yr=Ix(h),Yx=Ax({__proto__:null,default:yr},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=h,Xx=Symbol.for("react.element"),Jx=Symbol.for("react.fragment"),Zx=Object.prototype.hasOwnProperty,e0=Qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t0={key:!0,ref:!0,__self:!0,__source:!0};function zm(t,s,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(n in s)Zx.call(s,n)&&!t0.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Xx,type:t,key:l,ref:i,props:a,_owner:e0.current}}Cl.Fragment=Jx;Cl.jsx=zm;Cl.jsxs=zm;Pm.exports=Cl;var e=Pm.exports,Om={exports:{}},Vt={},Hm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(z,Y){var W=z.length;z.push(Y);e:for(;0<W;){var O=W-1>>>1,A=z[O];if(0<a(A,Y))z[O]=Y,z[W]=A,W=O;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var Y=z[0],W=z.pop();if(W!==Y){z[0]=W;e:for(var O=0,A=z.length,F=A>>>1;O<F;){var B=2*(O+1)-1,se=z[B],oe=B+1,Re=z[oe];if(0>a(se,W))oe<A&&0>a(Re,se)?(z[O]=Re,z[oe]=W,O=oe):(z[O]=se,z[B]=W,O=B);else if(oe<A&&0>a(Re,W))z[O]=Re,z[oe]=W,O=oe;else break e}}return Y}function a(z,Y){var W=z.sortIndex-Y.sortIndex;return W!==0?W:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,x=!1,b=!1,f=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(z){for(var Y=r(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=z)n(d),Y.sortIndex=Y.expirationTime,s(c,Y);else break;Y=r(d)}}function j(z){if(f=!1,y(z),!b)if(r(c)!==null)b=!0,q(w);else{var Y=r(d);Y!==null&&_(j,Y.startTime-z)}}function w(z,Y){b=!1,f&&(f=!1,N(S),S=-1),x=!0;var W=p;try{for(y(Y),m=r(c);m!==null&&(!(m.expirationTime>Y)||z&&!T());){var O=m.callback;if(typeof O=="function"){m.callback=null,p=m.priorityLevel;var A=O(m.expirationTime<=Y);Y=t.unstable_now(),typeof A=="function"?m.callback=A:m===r(c)&&n(c),y(Y)}else n(c);m=r(c)}if(m!==null)var F=!0;else{var B=r(d);B!==null&&_(j,B.startTime-Y),F=!1}return F}finally{m=null,p=W,x=!1}}var C=!1,k=null,S=-1,P=5,R=-1;function T(){return!(t.unstable_now()-R<P)}function E(){if(k!==null){var z=t.unstable_now();R=z;var Y=!0;try{Y=k(!0,z)}finally{Y?I():(C=!1,k=null)}}else C=!1}var I;if(typeof g=="function")I=function(){g(E)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=E,I=function(){K.postMessage(null)}}else I=function(){v(E,0)};function q(z){k=z,C||(C=!0,I())}function _(z,Y){S=v(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,q(w))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var W=p;p=Y;try{return z()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=p;p=z;try{return Y()}finally{p=W}},t.unstable_scheduleCallback=function(z,Y,W){var O=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?O+W:O):W=O,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=W+A,z={id:u++,callback:Y,priorityLevel:z,startTime:W,expirationTime:A,sortIndex:-1},W>O?(z.sortIndex=W,s(d,z),r(c)===null&&z===r(d)&&(f?(N(S),S=-1):f=!0,_(j,W-O))):(z.sortIndex=A,s(c,z),b||x||(b=!0,q(w))),z},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(z){var Y=p;return function(){var W=p;p=Y;try{return z.apply(this,arguments)}finally{p=W}}}})(Fm);Hm.exports=Fm;var s0=Hm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=h,Ft=s0;function Z(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vm=new Set,Vn={};function Pr(t,s){Xr(t,s),Xr(t+"Capture",s)}function Xr(t,s){for(Vn[t]=s,t=0;t<s.length;t++)Vm.add(s[t])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=Object.prototype.hasOwnProperty,n0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yc={},Qc={};function a0(t){return Di.call(Qc,t)?!0:Di.call(Yc,t)?!1:n0.test(t)?Qc[t]=!0:(Yc[t]=!0,!1)}function l0(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function i0(t,s,r,n){if(s===null||typeof s>"u"||l0(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Pt(t,s,r,n,a,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];mt[s]=new Pt(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var $o=/[\-:]([a-z])/g;function Uo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace($o,Uo);mt[s]=new Pt(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace($o,Uo);mt[s]=new Pt(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace($o,Uo);mt[s]=new Pt(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _o(t,s,r,n){var a=mt.hasOwnProperty(s)?mt[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(i0(s,r,a,n)&&(r=null),n||a===null?a0(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var Is=r0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ya=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),qo=Symbol.for("react.strict_mode"),Ai=Symbol.for("react.profiler"),$m=Symbol.for("react.provider"),Um=Symbol.for("react.context"),Ko=Symbol.for("react.forward_ref"),Ii=Symbol.for("react.suspense"),Mi=Symbol.for("react.suspense_list"),Go=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),_m=Symbol.for("react.offscreen"),Xc=Symbol.iterator;function yn(t){return t===null||typeof t!="object"?null:(t=Xc&&t[Xc]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Zl;function Tn(t){if(Zl===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Zl=s&&s[1]||""}return`
`+Zl+t}var ei=!1;function ti(t,s){if(!t||ei)return"";ei=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=o);break}}}finally{ei=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Tn(t):""}function o0(t){switch(t.tag){case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return t=ti(t.type,!1),t;case 11:return t=ti(t.type.render,!1),t;case 1:return t=ti(t.type,!0),t;default:return""}}function Li(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ir:return"Fragment";case Ar:return"Portal";case Ai:return"Profiler";case qo:return"StrictMode";case Ii:return"Suspense";case Mi:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Um:return(t.displayName||"Context")+".Consumer";case $m:return(t._context.displayName||"Context")+".Provider";case Ko:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Go:return s=t.displayName||null,s!==null?s:Li(t.type)||"Memo";case zs:s=t._payload,t=t._init;try{return Li(t(s))}catch{}}return null}function c0(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Li(s);case 8:return s===qo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function d0(t){var s=qm(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ba(t){t._valueTracker||(t._valueTracker=d0(t))}function Km(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=qm(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function Xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bi(t,s){var r=s.checked;return Ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Jc(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=Zs(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Gm(t,s){s=s.checked,s!=null&&_o(t,"checked",s,!1)}function zi(t,s){Gm(t,s);var r=Zs(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Oi(t,s.type,r):s.hasOwnProperty("defaultValue")&&Oi(t,s.type,Zs(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Zc(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Oi(t,s,r){(s!=="number"||Xa(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rn=Array.isArray;function _r(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zs(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function Hi(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ue({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ed(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(Z(92));if(Rn(r)){if(1<r.length)throw Error(Z(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:Zs(r)}}function Wm(t,s){var r=Zs(s.value),n=Zs(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function td(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Ym(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fi(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Ym(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ja,Qm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function $n(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var An={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m0=["Webkit","ms","Moz","O"];Object.keys(An).forEach(function(t){m0.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),An[s]=An[t]})});function Xm(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||An.hasOwnProperty(t)&&An[t]?(""+s).trim():s+"px"}function Jm(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Xm(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var u0=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vi(t,s){if(s){if(u0[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Z(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Z(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Z(62))}}function $i(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Wo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,qr=null,Kr=null;function sd(t){if(t=ha(t)){if(typeof _i!="function")throw Error(Z(280));var s=t.stateNode;s&&(s=El(s),_i(t.stateNode,t.type,s))}}function Zm(t){qr?Kr?Kr.push(t):Kr=[t]:qr=t}function eu(){if(qr){var t=qr,s=Kr;if(Kr=qr=null,sd(t),s)for(t=0;t<s.length;t++)sd(s[t])}}function tu(t,s){return t(s)}function su(){}var si=!1;function ru(t,s,r){if(si)return t(s,r);si=!0;try{return tu(t,s,r)}finally{si=!1,(qr!==null||Kr!==null)&&(su(),eu())}}function Un(t,s){var r=t.stateNode;if(r===null)return null;var n=El(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,s,typeof r));return r}var qi=!1;if(Ts)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){qi=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{qi=!1}function h0(t,s,r,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var In=!1,Ja=null,Za=!1,Ki=null,x0={onError:function(t){In=!0,Ja=t}};function g0(t,s,r,n,a,l,i,o,c){In=!1,Ja=null,h0.apply(x0,arguments)}function p0(t,s,r,n,a,l,i,o,c){if(g0.apply(this,arguments),In){if(In){var d=Ja;In=!1,Ja=null}else throw Error(Z(198));Za||(Za=!0,Ki=d)}}function Tr(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function nu(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function rd(t){if(Tr(t)!==t)throw Error(Z(188))}function f0(t){var s=t.alternate;if(!s){if(s=Tr(t),s===null)throw Error(Z(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return rd(a),t;if(l===n)return rd(a),s;l=l.sibling}throw Error(Z(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:s}function au(t){return t=f0(t),t!==null?lu(t):null}function lu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=lu(t);if(s!==null)return s;t=t.sibling}return null}var iu=Ft.unstable_scheduleCallback,nd=Ft.unstable_cancelCallback,y0=Ft.unstable_shouldYield,b0=Ft.unstable_requestPaint,Ke=Ft.unstable_now,j0=Ft.unstable_getCurrentPriorityLevel,Yo=Ft.unstable_ImmediatePriority,ou=Ft.unstable_UserBlockingPriority,el=Ft.unstable_NormalPriority,N0=Ft.unstable_LowPriority,cu=Ft.unstable_IdlePriority,Sl=null,fs=null;function v0(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Sl,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:C0,w0=Math.log,k0=Math.LN2;function C0(t){return t>>>=0,t===0?32:31-(w0(t)/k0|0)|0}var Na=64,va=4194304;function En(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tl(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,l=t.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=En(o):(l&=i,l!==0&&(n=En(l)))}else i=r&~a,i!==0?n=En(i):l!==0&&(n=En(l));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,l=s&-s,a>=l||a===16&&(l&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-ls(s),a=1<<r,n|=t[r],s&=~a;return n}function S0(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P0(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-ls(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=S0(o,s)):c<=s&&(t.expiredLanes|=o),l&=~o}}function Gi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function du(){var t=Na;return Na<<=1,!(Na&4194240)&&(Na=64),t}function ri(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function ma(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-ls(s),t[s]=r}function T0(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ls(r),l=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~l}}function Qo(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-ls(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var Te=0;function mu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uu,Xo,hu,xu,gu,Wi=!1,wa=[],_s=null,qs=null,Ks=null,_n=new Map,qn=new Map,Hs=[],R0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ad(t,s){switch(t){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":_n.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":qn.delete(s.pointerId)}}function jn(t,s,r,n,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},s!==null&&(s=ha(s),s!==null&&Xo(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function E0(t,s,r,n,a){switch(s){case"focusin":return _s=jn(_s,t,s,r,n,a),!0;case"dragenter":return qs=jn(qs,t,s,r,n,a),!0;case"mouseover":return Ks=jn(Ks,t,s,r,n,a),!0;case"pointerover":var l=a.pointerId;return _n.set(l,jn(_n.get(l)||null,t,s,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,qn.set(l,jn(qn.get(l)||null,t,s,r,n,a)),!0}return!1}function pu(t){var s=dr(t.target);if(s!==null){var r=Tr(s);if(r!==null){if(s=r.tag,s===13){if(s=nu(r),s!==null){t.blockedOn=s,gu(t.priority,function(){hu(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oa(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Yi(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ui=n,r.target.dispatchEvent(n),Ui=null}else return s=ha(r),s!==null&&Xo(s),t.blockedOn=r,!1;s.shift()}return!0}function ld(t,s,r){Oa(t)&&r.delete(s)}function D0(){Wi=!1,_s!==null&&Oa(_s)&&(_s=null),qs!==null&&Oa(qs)&&(qs=null),Ks!==null&&Oa(Ks)&&(Ks=null),_n.forEach(ld),qn.forEach(ld)}function Nn(t,s){t.blockedOn===s&&(t.blockedOn=null,Wi||(Wi=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,D0)))}function Kn(t){function s(a){return Nn(a,t)}if(0<wa.length){Nn(wa[0],t);for(var r=1;r<wa.length;r++){var n=wa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(_s!==null&&Nn(_s,t),qs!==null&&Nn(qs,t),Ks!==null&&Nn(Ks,t),_n.forEach(s),qn.forEach(s),r=0;r<Hs.length;r++)n=Hs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)pu(r),r.blockedOn===null&&Hs.shift()}var Gr=Is.ReactCurrentBatchConfig,sl=!0;function A0(t,s,r,n){var a=Te,l=Gr.transition;Gr.transition=null;try{Te=1,Jo(t,s,r,n)}finally{Te=a,Gr.transition=l}}function I0(t,s,r,n){var a=Te,l=Gr.transition;Gr.transition=null;try{Te=4,Jo(t,s,r,n)}finally{Te=a,Gr.transition=l}}function Jo(t,s,r,n){if(sl){var a=Yi(t,s,r,n);if(a===null)hi(t,s,n,rl,r),ad(t,n);else if(E0(a,t,s,r,n))n.stopPropagation();else if(ad(t,n),s&4&&-1<R0.indexOf(t)){for(;a!==null;){var l=ha(a);if(l!==null&&uu(l),l=Yi(t,s,r,n),l===null&&hi(t,s,n,rl,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else hi(t,s,n,null,r)}}var rl=null;function Yi(t,s,r,n){if(rl=null,t=Wo(n),t=dr(t),t!==null)if(s=Tr(t),s===null)t=null;else if(r=s.tag,r===13){if(t=nu(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return rl=t,null}function fu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j0()){case Yo:return 1;case ou:return 4;case el:case N0:return 16;case cu:return 536870912;default:return 16}default:return 16}}var Vs=null,Zo=null,Ha=null;function yu(){if(Ha)return Ha;var t,s=Zo,r=s.length,n,a="value"in Vs?Vs.value:Vs.textContent,l=a.length;for(t=0;t<r&&s[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&s[r-n]===a[l-n];n++);return Ha=a.slice(t,1<n?1-n:void 0)}function Fa(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ka(){return!0}function id(){return!1}function $t(t){function s(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ka:id,this.isPropagationStopped=id,this}return Ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),s}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=$t(on),ua=Ue({},on,{view:0,detail:0}),M0=$t(ua),ni,ai,vn,Pl=Ue({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vn&&(vn&&t.type==="mousemove"?(ni=t.screenX-vn.screenX,ai=t.screenY-vn.screenY):ai=ni=0,vn=t),ni)},movementY:function(t){return"movementY"in t?t.movementY:ai}}),od=$t(Pl),L0=Ue({},Pl,{dataTransfer:0}),B0=$t(L0),z0=Ue({},ua,{relatedTarget:0}),li=$t(z0),O0=Ue({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=$t(O0),F0=Ue({},on,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V0=$t(F0),$0=Ue({},on,{data:0}),cd=$t($0),U0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=q0[t])?!!s[t]:!1}function tc(){return K0}var G0=Ue({},ua,{key:function(t){if(t.key){var s=U0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(t){return t.type==="keypress"?Fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W0=$t(G0),Y0=Ue({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=$t(Y0),Q0=Ue({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),X0=$t(Q0),J0=Ue({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=$t(J0),eg=Ue({},Pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tg=$t(eg),sg=[9,13,27,32],sc=Ts&&"CompositionEvent"in window,Mn=null;Ts&&"documentMode"in document&&(Mn=document.documentMode);var rg=Ts&&"TextEvent"in window&&!Mn,bu=Ts&&(!sc||Mn&&8<Mn&&11>=Mn),md=" ",ud=!1;function ju(t,s){switch(t){case"keyup":return sg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function ng(t,s){switch(t){case"compositionend":return Nu(s);case"keypress":return s.which!==32?null:(ud=!0,md);case"textInput":return t=s.data,t===md&&ud?null:t;default:return null}}function ag(t,s){if(Mr)return t==="compositionend"||!sc&&ju(t,s)?(t=yu(),Ha=Zo=Vs=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bu&&s.locale!=="ko"?null:s.data;default:return null}}var lg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!lg[t.type]:s==="textarea"}function vu(t,s,r,n){Zm(n),s=nl(s,"onChange"),0<s.length&&(r=new ec("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var Ln=null,Gn=null;function ig(t){Iu(t,0)}function Tl(t){var s=zr(t);if(Km(s))return t}function og(t,s){if(t==="change")return s}var wu=!1;if(Ts){var ii;if(Ts){var oi="oninput"in document;if(!oi){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),oi=typeof xd.oninput=="function"}ii=oi}else ii=!1;wu=ii&&(!document.documentMode||9<document.documentMode)}function gd(){Ln&&(Ln.detachEvent("onpropertychange",ku),Gn=Ln=null)}function ku(t){if(t.propertyName==="value"&&Tl(Gn)){var s=[];vu(s,Gn,t,Wo(t)),ru(ig,s)}}function cg(t,s,r){t==="focusin"?(gd(),Ln=s,Gn=r,Ln.attachEvent("onpropertychange",ku)):t==="focusout"&&gd()}function dg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tl(Gn)}function mg(t,s){if(t==="click")return Tl(s)}function ug(t,s){if(t==="input"||t==="change")return Tl(s)}function hg(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var cs=typeof Object.is=="function"?Object.is:hg;function Wn(t,s){if(cs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Di.call(s,a)||!cs(t[a],s[a]))return!1}return!0}function pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fd(t,s){var r=pd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pd(r)}}function Cu(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Cu(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Su(){for(var t=window,s=Xa();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Xa(t.document)}return s}function rc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function xg(t){var s=Su(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&Cu(r.ownerDocument.documentElement,r)){if(n!==null&&rc(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!t.extend&&l>n&&(a=n,n=l,l=a),a=fd(r,l);var i=fd(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),l>n?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gg=Ts&&"documentMode"in document&&11>=document.documentMode,Lr=null,Qi=null,Bn=null,Xi=!1;function yd(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xi||Lr==null||Lr!==Xa(n)||(n=Lr,"selectionStart"in n&&rc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bn&&Wn(Bn,n)||(Bn=n,n=nl(Qi,"onSelect"),0<n.length&&(s=new ec("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=Lr)))}function Ca(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Br={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},ci={},Pu={};Ts&&(Pu=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Rl(t){if(ci[t])return ci[t];if(!Br[t])return t;var s=Br[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Pu)return ci[t]=s[r];return t}var Tu=Rl("animationend"),Ru=Rl("animationiteration"),Eu=Rl("animationstart"),Du=Rl("transitionend"),Au=new Map,bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(t,s){Au.set(t,s),Pr(s,[t])}for(var di=0;di<bd.length;di++){var mi=bd[di],pg=mi.toLowerCase(),fg=mi[0].toUpperCase()+mi.slice(1);rr(pg,"on"+fg)}rr(Tu,"onAnimationEnd");rr(Ru,"onAnimationIteration");rr(Eu,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Du,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function jd(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,p0(n,s,void 0,t),t.currentTarget=null}function Iu(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var l=void 0;if(s)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;jd(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;jd(a,o,d),l=c}}}if(Za)throw t=Ki,Za=!1,Ki=null,t}function Ie(t,s){var r=s[so];r===void 0&&(r=s[so]=new Set);var n=t+"__bubble";r.has(n)||(Mu(s,t,2,!1),r.add(n))}function ui(t,s,r){var n=0;s&&(n|=4),Mu(r,t,n,s)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function Yn(t){if(!t[Sa]){t[Sa]=!0,Vm.forEach(function(r){r!=="selectionchange"&&(yg.has(r)||ui(r,!1,t),ui(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Sa]||(s[Sa]=!0,ui("selectionchange",!1,s))}}function Mu(t,s,r,n){switch(fu(s)){case 1:var a=A0;break;case 4:a=I0;break;default:a=Jo}r=a.bind(null,s,r,t),a=void 0,!qi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function hi(t,s,r,n,a){var l=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=dr(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}ru(function(){var d=l,u=Wo(r),m=[];e:{var p=Au.get(t);if(p!==void 0){var x=ec,b=t;switch(t){case"keypress":if(Fa(r)===0)break e;case"keydown":case"keyup":x=W0;break;case"focusin":b="focus",x=li;break;case"focusout":b="blur",x=li;break;case"beforeblur":case"afterblur":x=li;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=X0;break;case Tu:case Ru:case Eu:x=H0;break;case Du:x=Z0;break;case"scroll":x=M0;break;case"wheel":x=tg;break;case"copy":case"cut":case"paste":x=V0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=dd}var f=(s&4)!==0,v=!f&&t==="scroll",N=f?p!==null?p+"Capture":null:p;f=[];for(var g=d,y;g!==null;){y=g;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,N!==null&&(j=Un(g,N),j!=null&&f.push(Qn(g,j,y)))),v)break;g=g.return}0<f.length&&(p=new x(p,b,null,r,u),m.push({event:p,listeners:f}))}}if(!(s&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&r!==Ui&&(b=r.relatedTarget||r.fromElement)&&(dr(b)||b[Rs]))break e;if((x||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=d,b=b?dr(b):null,b!==null&&(v=Tr(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=d),x!==b)){if(f=od,j="onMouseLeave",N="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(f=dd,j="onPointerLeave",N="onPointerEnter",g="pointer"),v=x==null?p:zr(x),y=b==null?p:zr(b),p=new f(j,g+"leave",x,r,u),p.target=v,p.relatedTarget=y,j=null,dr(u)===d&&(f=new f(N,g+"enter",b,r,u),f.target=y,f.relatedTarget=v,j=f),v=j,x&&b)t:{for(f=x,N=b,g=0,y=f;y;y=Er(y))g++;for(y=0,j=N;j;j=Er(j))y++;for(;0<g-y;)f=Er(f),g--;for(;0<y-g;)N=Er(N),y--;for(;g--;){if(f===N||N!==null&&f===N.alternate)break t;f=Er(f),N=Er(N)}f=null}else f=null;x!==null&&Nd(m,p,x,f,!1),b!==null&&v!==null&&Nd(m,v,b,f,!0)}}e:{if(p=d?zr(d):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var w=og;else if(hd(p))if(wu)w=ug;else{w=dg;var C=cg}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=mg);if(w&&(w=w(t,d))){vu(m,w,r,u);break e}C&&C(t,p,d),t==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Oi(p,"number",p.value)}switch(C=d?zr(d):window,t){case"focusin":(hd(C)||C.contentEditable==="true")&&(Lr=C,Qi=d,Bn=null);break;case"focusout":Bn=Qi=Lr=null;break;case"mousedown":Xi=!0;break;case"contextmenu":case"mouseup":case"dragend":Xi=!1,yd(m,r,u);break;case"selectionchange":if(gg)break;case"keydown":case"keyup":yd(m,r,u)}var k;if(sc)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Mr?ju(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(bu&&r.locale!=="ko"&&(Mr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Mr&&(k=yu()):(Vs=u,Zo="value"in Vs?Vs.value:Vs.textContent,Mr=!0)),C=nl(d,S),0<C.length&&(S=new cd(S,t,null,r,u),m.push({event:S,listeners:C}),k?S.data=k:(k=Nu(r),k!==null&&(S.data=k)))),(k=rg?ng(t,r):ag(t,r))&&(d=nl(d,"onBeforeInput"),0<d.length&&(u=new cd("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=k))}Iu(m,s)})}function Qn(t,s,r){return{instance:t,listener:s,currentTarget:r}}function nl(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Un(t,r),l!=null&&n.unshift(Qn(t,l,a)),l=Un(t,s),l!=null&&n.push(Qn(t,l,a))),t=t.return}return n}function Er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nd(t,s,r,n,a){for(var l=s._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Un(r,l),c!=null&&i.unshift(Qn(r,c,o))):a||(c=Un(r,l),c!=null&&i.push(Qn(r,c,o)))),r=r.return}i.length!==0&&t.push({event:s,listeners:i})}var bg=/\r\n?/g,jg=/\u0000|\uFFFD/g;function vd(t){return(typeof t=="string"?t:""+t).replace(bg,`
`).replace(jg,"")}function Pa(t,s,r){if(s=vd(s),vd(t)!==s&&r)throw Error(Z(425))}function al(){}var Ji=null,Zi=null;function eo(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,Ng=typeof clearTimeout=="function"?clearTimeout:void 0,wd=typeof Promise=="function"?Promise:void 0,vg=typeof queueMicrotask=="function"?queueMicrotask:typeof wd<"u"?function(t){return wd.resolve(null).then(t).catch(wg)}:to;function wg(t){setTimeout(function(){throw t})}function xi(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Kn(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Kn(s)}function Gs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function kd(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var cn=Math.random().toString(36).slice(2),ps="__reactFiber$"+cn,Xn="__reactProps$"+cn,Rs="__reactContainer$"+cn,so="__reactEvents$"+cn,kg="__reactListeners$"+cn,Cg="__reactHandles$"+cn;function dr(t){var s=t[ps];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Rs]||r[ps]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=kd(t);t!==null;){if(r=t[ps])return r;t=kd(t)}return s}t=r,r=t.parentNode}return null}function ha(t){return t=t[ps]||t[Rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function El(t){return t[Xn]||null}var ro=[],Or=-1;function nr(t){return{current:t}}function Me(t){0>Or||(t.current=ro[Or],ro[Or]=null,Or--)}function Ee(t,s){Or++,ro[Or]=t.current,t.current=s}var er={},yt=nr(er),Dt=nr(!1),br=er;function Jr(t,s){var r=t.type.contextTypes;if(!r)return er;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=s[l];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function At(t){return t=t.childContextTypes,t!=null}function ll(){Me(Dt),Me(yt)}function Cd(t,s,r){if(yt.current!==er)throw Error(Z(168));Ee(yt,s),Ee(Dt,r)}function Lu(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(Z(108,c0(t)||"Unknown",a));return Ue({},r,n)}function il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||er,br=yt.current,Ee(yt,t),Ee(Dt,Dt.current),!0}function Sd(t,s,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=Lu(t,s,br),n.__reactInternalMemoizedMergedChildContext=t,Me(Dt),Me(yt),Ee(yt,t)):Me(Dt),Ee(Dt,r)}var ws=null,Dl=!1,gi=!1;function Bu(t){ws===null?ws=[t]:ws.push(t)}function Sg(t){Dl=!0,Bu(t)}function ar(){if(!gi&&ws!==null){gi=!0;var t=0,s=Te;try{var r=ws;for(Te=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ws=null,Dl=!1}catch(a){throw ws!==null&&(ws=ws.slice(t+1)),iu(Yo,ar),a}finally{Te=s,gi=!1}}return null}var Hr=[],Fr=0,ol=null,cl=0,qt=[],Kt=0,jr=null,Cs=1,Ss="";function or(t,s){Hr[Fr++]=cl,Hr[Fr++]=ol,ol=t,cl=s}function zu(t,s,r){qt[Kt++]=Cs,qt[Kt++]=Ss,qt[Kt++]=jr,jr=t;var n=Cs;t=Ss;var a=32-ls(n)-1;n&=~(1<<a),r+=1;var l=32-ls(s)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Cs=1<<32-ls(s)+a|r<<a|n,Ss=l+t}else Cs=1<<l|r<<a|n,Ss=t}function nc(t){t.return!==null&&(or(t,1),zu(t,1,0))}function ac(t){for(;t===ol;)ol=Hr[--Fr],Hr[Fr]=null,cl=Hr[--Fr],Hr[Fr]=null;for(;t===jr;)jr=qt[--Kt],qt[Kt]=null,Ss=qt[--Kt],qt[Kt]=null,Cs=qt[--Kt],qt[Kt]=null}var Ht=null,zt=null,ze=!1,as=null;function Ou(t,s){var r=Gt(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function Pd(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ht=t,zt=Gs(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ht=t,zt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=jr!==null?{id:Cs,overflow:Ss}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Gt(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,Ht=t,zt=null,!0):!1;default:return!1}}function no(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ao(t){if(ze){var s=zt;if(s){var r=s;if(!Pd(t,s)){if(no(t))throw Error(Z(418));s=Gs(r.nextSibling);var n=Ht;s&&Pd(t,s)?Ou(n,r):(t.flags=t.flags&-4097|2,ze=!1,Ht=t)}}else{if(no(t))throw Error(Z(418));t.flags=t.flags&-4097|2,ze=!1,Ht=t}}}function Td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function Ta(t){if(t!==Ht)return!1;if(!ze)return Td(t),ze=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!eo(t.type,t.memoizedProps)),s&&(s=zt)){if(no(t))throw Hu(),Error(Z(418));for(;s;)Ou(t,s),s=Gs(s.nextSibling)}if(Td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){zt=Gs(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}zt=null}}else zt=Ht?Gs(t.stateNode.nextSibling):null;return!0}function Hu(){for(var t=zt;t;)t=Gs(t.nextSibling)}function Zr(){zt=Ht=null,ze=!1}function lc(t){as===null?as=[t]:as.push(t)}var Pg=Is.ReactCurrentBatchConfig;function wn(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var a=n,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function Ra(t,s){throw t=Object.prototype.toString.call(s),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Rd(t){var s=t._init;return s(t._payload)}function Fu(t){function s(N,g){if(t){var y=N.deletions;y===null?(N.deletions=[g],N.flags|=16):y.push(g)}}function r(N,g){if(!t)return null;for(;g!==null;)s(N,g),g=g.sibling;return null}function n(N,g){for(N=new Map;g!==null;)g.key!==null?N.set(g.key,g):N.set(g.index,g),g=g.sibling;return N}function a(N,g){return N=Xs(N,g),N.index=0,N.sibling=null,N}function l(N,g,y){return N.index=y,t?(y=N.alternate,y!==null?(y=y.index,y<g?(N.flags|=2,g):y):(N.flags|=2,g)):(N.flags|=1048576,g)}function i(N){return t&&N.alternate===null&&(N.flags|=2),N}function o(N,g,y,j){return g===null||g.tag!==6?(g=vi(y,N.mode,j),g.return=N,g):(g=a(g,y),g.return=N,g)}function c(N,g,y,j){var w=y.type;return w===Ir?u(N,g,y.props.children,j,y.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===zs&&Rd(w)===g.type)?(j=a(g,y.props),j.ref=wn(N,g,y),j.return=N,j):(j=Ga(y.type,y.key,y.props,null,N.mode,j),j.ref=wn(N,g,y),j.return=N,j)}function d(N,g,y,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=wi(y,N.mode,j),g.return=N,g):(g=a(g,y.children||[]),g.return=N,g)}function u(N,g,y,j,w){return g===null||g.tag!==7?(g=pr(y,N.mode,j,w),g.return=N,g):(g=a(g,y),g.return=N,g)}function m(N,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vi(""+g,N.mode,y),g.return=N,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ya:return y=Ga(g.type,g.key,g.props,null,N.mode,y),y.ref=wn(N,null,g),y.return=N,y;case Ar:return g=wi(g,N.mode,y),g.return=N,g;case zs:var j=g._init;return m(N,j(g._payload),y)}if(Rn(g)||yn(g))return g=pr(g,N.mode,y,null),g.return=N,g;Ra(N,g)}return null}function p(N,g,y,j){var w=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:o(N,g,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ya:return y.key===w?c(N,g,y,j):null;case Ar:return y.key===w?d(N,g,y,j):null;case zs:return w=y._init,p(N,g,w(y._payload),j)}if(Rn(y)||yn(y))return w!==null?null:u(N,g,y,j,null);Ra(N,y)}return null}function x(N,g,y,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return N=N.get(y)||null,o(g,N,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ya:return N=N.get(j.key===null?y:j.key)||null,c(g,N,j,w);case Ar:return N=N.get(j.key===null?y:j.key)||null,d(g,N,j,w);case zs:var C=j._init;return x(N,g,y,C(j._payload),w)}if(Rn(j)||yn(j))return N=N.get(y)||null,u(g,N,j,w,null);Ra(g,j)}return null}function b(N,g,y,j){for(var w=null,C=null,k=g,S=g=0,P=null;k!==null&&S<y.length;S++){k.index>S?(P=k,k=null):P=k.sibling;var R=p(N,k,y[S],j);if(R===null){k===null&&(k=P);break}t&&k&&R.alternate===null&&s(N,k),g=l(R,g,S),C===null?w=R:C.sibling=R,C=R,k=P}if(S===y.length)return r(N,k),ze&&or(N,S),w;if(k===null){for(;S<y.length;S++)k=m(N,y[S],j),k!==null&&(g=l(k,g,S),C===null?w=k:C.sibling=k,C=k);return ze&&or(N,S),w}for(k=n(N,k);S<y.length;S++)P=x(k,N,S,y[S],j),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?S:P.key),g=l(P,g,S),C===null?w=P:C.sibling=P,C=P);return t&&k.forEach(function(T){return s(N,T)}),ze&&or(N,S),w}function f(N,g,y,j){var w=yn(y);if(typeof w!="function")throw Error(Z(150));if(y=w.call(y),y==null)throw Error(Z(151));for(var C=w=null,k=g,S=g=0,P=null,R=y.next();k!==null&&!R.done;S++,R=y.next()){k.index>S?(P=k,k=null):P=k.sibling;var T=p(N,k,R.value,j);if(T===null){k===null&&(k=P);break}t&&k&&T.alternate===null&&s(N,k),g=l(T,g,S),C===null?w=T:C.sibling=T,C=T,k=P}if(R.done)return r(N,k),ze&&or(N,S),w;if(k===null){for(;!R.done;S++,R=y.next())R=m(N,R.value,j),R!==null&&(g=l(R,g,S),C===null?w=R:C.sibling=R,C=R);return ze&&or(N,S),w}for(k=n(N,k);!R.done;S++,R=y.next())R=x(k,N,S,R.value,j),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?S:R.key),g=l(R,g,S),C===null?w=R:C.sibling=R,C=R);return t&&k.forEach(function(E){return s(N,E)}),ze&&or(N,S),w}function v(N,g,y,j){if(typeof y=="object"&&y!==null&&y.type===Ir&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ya:e:{for(var w=y.key,C=g;C!==null;){if(C.key===w){if(w=y.type,w===Ir){if(C.tag===7){r(N,C.sibling),g=a(C,y.props.children),g.return=N,N=g;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===zs&&Rd(w)===C.type){r(N,C.sibling),g=a(C,y.props),g.ref=wn(N,C,y),g.return=N,N=g;break e}r(N,C);break}else s(N,C);C=C.sibling}y.type===Ir?(g=pr(y.props.children,N.mode,j,y.key),g.return=N,N=g):(j=Ga(y.type,y.key,y.props,null,N.mode,j),j.ref=wn(N,g,y),j.return=N,N=j)}return i(N);case Ar:e:{for(C=y.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(N,g.sibling),g=a(g,y.children||[]),g.return=N,N=g;break e}else{r(N,g);break}else s(N,g);g=g.sibling}g=wi(y,N.mode,j),g.return=N,N=g}return i(N);case zs:return C=y._init,v(N,g,C(y._payload),j)}if(Rn(y))return b(N,g,y,j);if(yn(y))return f(N,g,y,j);Ra(N,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(N,g.sibling),g=a(g,y),g.return=N,N=g):(r(N,g),g=vi(y,N.mode,j),g.return=N,N=g),i(N)):r(N,g)}return v}var en=Fu(!0),Vu=Fu(!1),dl=nr(null),ml=null,Vr=null,ic=null;function oc(){ic=Vr=ml=null}function cc(t){var s=dl.current;Me(dl),t._currentValue=s}function lo(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function Wr(t,s){ml=t,ic=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Et=!0),t.firstContext=null)}function Xt(t){var s=t._currentValue;if(ic!==t)if(t={context:t,memoizedValue:s,next:null},Vr===null){if(ml===null)throw Error(Z(308));Vr=t,ml.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return s}var mr=null;function dc(t){mr===null?mr=[t]:mr.push(t)}function $u(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,dc(s)):(r.next=a.next,a.next=r),s.interleaved=r,Es(t,n)}function Es(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Os=!1;function mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Ws(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,Es(t,r)}return a=n.interleaved,a===null?(s.next=s,dc(n)):(s.next=a.next,a.next=s),n.interleaved=s,Es(t,r)}function Va(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Qo(t,r)}}function Ed(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=s:l=l.next=s}else a=l=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function ul(t,s,r,n){var a=t.updateQueue;Os=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var m=a.baseState;i=0,u=d=c=null,o=l;do{var p=o.lane,x=o.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,f=o;switch(p=s,x=r,f.tag){case 1:if(b=f.payload,typeof b=="function"){m=b.call(x,m,p);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=f.payload,p=typeof b=="function"?b.call(x,m,p):b,p==null)break e;m=Ue({},m,p);break e;case 2:Os=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else x={eventTime:x,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=x,c=m):u=u.next=x,i|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do i|=a.lane,a=a.next;while(a!==s)}else l===null&&(a.shared.lanes=0);vr|=i,t.lanes=i,t.memoizedState=m}}function Dd(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Z(191,a));a.call(n)}}}var xa={},ys=nr(xa),Jn=nr(xa),Zn=nr(xa);function ur(t){if(t===xa)throw Error(Z(174));return t}function uc(t,s){switch(Ee(Zn,s),Ee(Jn,t),Ee(ys,xa),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Fi(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Fi(s,t)}Me(ys),Ee(ys,s)}function tn(){Me(ys),Me(Jn),Me(Zn)}function _u(t){ur(Zn.current);var s=ur(ys.current),r=Fi(s,t.type);s!==r&&(Ee(Jn,t),Ee(ys,r))}function hc(t){Jn.current===t&&(Me(ys),Me(Jn))}var Ve=nr(0);function hl(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pi=[];function xc(){for(var t=0;t<pi.length;t++)pi[t]._workInProgressVersionPrimary=null;pi.length=0}var $a=Is.ReactCurrentDispatcher,fi=Is.ReactCurrentBatchConfig,Nr=0,$e=null,st=null,lt=null,xl=!1,zn=!1,ea=0,Tg=0;function ht(){throw Error(Z(321))}function gc(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!cs(t[r],s[r]))return!1;return!0}function pc(t,s,r,n,a,l){if(Nr=l,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$a.current=t===null||t.memoizedState===null?Ag:Ig,t=r(n,a),zn){l=0;do{if(zn=!1,ea=0,25<=l)throw Error(Z(301));l+=1,lt=st=null,s.updateQueue=null,$a.current=Mg,t=r(n,a)}while(zn)}if($a.current=gl,s=st!==null&&st.next!==null,Nr=0,lt=st=$e=null,xl=!1,s)throw Error(Z(300));return t}function fc(){var t=ea!==0;return ea=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?$e.memoizedState=lt=t:lt=lt.next=t,lt}function Jt(){if(st===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var s=lt===null?$e.memoizedState:lt.next;if(s!==null)lt=s,st=t;else{if(t===null)throw Error(Z(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?$e.memoizedState=lt=t:lt=lt.next=t}return lt}function ta(t,s){return typeof s=="function"?s(t):s}function yi(t){var s=Jt(),r=s.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=st,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((Nr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,i=n):c=c.next=m,$e.lanes|=u,vr|=u}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,cs(n,s.memoizedState)||(Et=!0),s.memoizedState=n,s.baseState=i,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do l=a.lane,$e.lanes|=l,vr|=l,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function bi(t){var s=Jt(),r=s.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,l=s.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=t(l,i.action),i=i.next;while(i!==a);cs(l,s.memoizedState)||(Et=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,n]}function qu(){}function Ku(t,s){var r=$e,n=Jt(),a=s(),l=!cs(n.memoizedState,a);if(l&&(n.memoizedState=a,Et=!0),n=n.queue,yc(Yu.bind(null,r,n,t),[t]),n.getSnapshot!==s||l||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,sa(9,Wu.bind(null,r,n,a,s),void 0,null),it===null)throw Error(Z(349));Nr&30||Gu(r,s,a)}return a}function Gu(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=$e.updateQueue,s===null?(s={lastEffect:null,stores:null},$e.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Wu(t,s,r,n){s.value=r,s.getSnapshot=n,Qu(s)&&Xu(t)}function Yu(t,s,r){return r(function(){Qu(s)&&Xu(t)})}function Qu(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!cs(t,r)}catch{return!0}}function Xu(t){var s=Es(t,1);s!==null&&is(s,t,1,-1)}function Ad(t){var s=gs();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:t},s.queue=t,t=t.dispatch=Dg.bind(null,$e,t),[s.memoizedState,t]}function sa(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=$e.updateQueue,s===null?(s={lastEffect:null,stores:null},$e.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function Ju(){return Jt().memoizedState}function Ua(t,s,r,n){var a=gs();$e.flags|=t,a.memoizedState=sa(1|s,r,void 0,n===void 0?null:n)}function Al(t,s,r,n){var a=Jt();n=n===void 0?null:n;var l=void 0;if(st!==null){var i=st.memoizedState;if(l=i.destroy,n!==null&&gc(n,i.deps)){a.memoizedState=sa(s,r,l,n);return}}$e.flags|=t,a.memoizedState=sa(1|s,r,l,n)}function Id(t,s){return Ua(8390656,8,t,s)}function yc(t,s){return Al(2048,8,t,s)}function Zu(t,s){return Al(4,2,t,s)}function eh(t,s){return Al(4,4,t,s)}function th(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function sh(t,s,r){return r=r!=null?r.concat([t]):null,Al(4,4,th.bind(null,s,t),r)}function bc(){}function rh(t,s){var r=Jt();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&gc(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function nh(t,s){var r=Jt();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&gc(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function ah(t,s,r){return Nr&21?(cs(r,s)||(r=du(),$e.lanes|=r,vr|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=r)}function Rg(t,s){var r=Te;Te=r!==0&&4>r?r:4,t(!0);var n=fi.transition;fi.transition={};try{t(!1),s()}finally{Te=r,fi.transition=n}}function lh(){return Jt().memoizedState}function Eg(t,s,r){var n=Qs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ih(t))oh(s,r);else if(r=$u(t,s,r,n),r!==null){var a=vt();is(r,t,n,a),ch(r,s,n)}}function Dg(t,s,r){var n=Qs(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ih(t))oh(s,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,cs(o,i)){var c=s.interleaved;c===null?(a.next=a,dc(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=$u(t,s,a,n),r!==null&&(a=vt(),is(r,t,n,a),ch(r,s,n))}}function ih(t){var s=t.alternate;return t===$e||s!==null&&s===$e}function oh(t,s){zn=xl=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function ch(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Qo(t,r)}}var gl={readContext:Xt,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Ag={readContext:Xt,useCallback:function(t,s){return gs().memoizedState=[t,s===void 0?null:s],t},useContext:Xt,useEffect:Id,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,Ua(4194308,4,th.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Ua(4194308,4,t,s)},useInsertionEffect:function(t,s){return Ua(4,2,t,s)},useMemo:function(t,s){var r=gs();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=gs();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=Eg.bind(null,$e,t),[n.memoizedState,t]},useRef:function(t){var s=gs();return t={current:t},s.memoizedState=t},useState:Ad,useDebugValue:bc,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=Ad(!1),s=t[0];return t=Rg.bind(null,t[1]),gs().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=$e,a=gs();if(ze){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=s(),it===null)throw Error(Z(349));Nr&30||Gu(n,s,r)}a.memoizedState=r;var l={value:r,getSnapshot:s};return a.queue=l,Id(Yu.bind(null,n,l,t),[t]),n.flags|=2048,sa(9,Wu.bind(null,n,l,r,s),void 0,null),r},useId:function(){var t=gs(),s=it.identifierPrefix;if(ze){var r=Ss,n=Cs;r=(n&~(1<<32-ls(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=ea++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Tg++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Ig={readContext:Xt,useCallback:rh,useContext:Xt,useEffect:yc,useImperativeHandle:sh,useInsertionEffect:Zu,useLayoutEffect:eh,useMemo:nh,useReducer:yi,useRef:Ju,useState:function(){return yi(ta)},useDebugValue:bc,useDeferredValue:function(t){var s=Jt();return ah(s,st.memoizedState,t)},useTransition:function(){var t=yi(ta)[0],s=Jt().memoizedState;return[t,s]},useMutableSource:qu,useSyncExternalStore:Ku,useId:lh,unstable_isNewReconciler:!1},Mg={readContext:Xt,useCallback:rh,useContext:Xt,useEffect:yc,useImperativeHandle:sh,useInsertionEffect:Zu,useLayoutEffect:eh,useMemo:nh,useReducer:bi,useRef:Ju,useState:function(){return bi(ta)},useDebugValue:bc,useDeferredValue:function(t){var s=Jt();return st===null?s.memoizedState=t:ah(s,st.memoizedState,t)},useTransition:function(){var t=bi(ta)[0],s=Jt().memoizedState;return[t,s]},useMutableSource:qu,useSyncExternalStore:Ku,useId:lh,unstable_isNewReconciler:!1};function ss(t,s){if(t&&t.defaultProps){s=Ue({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function io(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:Ue({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Il={isMounted:function(t){return(t=t._reactInternals)?Tr(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=vt(),a=Qs(t),l=Ps(n,a);l.payload=s,r!=null&&(l.callback=r),s=Ws(t,l,a),s!==null&&(is(s,t,a,n),Va(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=vt(),a=Qs(t),l=Ps(n,a);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=Ws(t,l,a),s!==null&&(is(s,t,a,n),Va(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=vt(),n=Qs(t),a=Ps(r,n);a.tag=2,s!=null&&(a.callback=s),s=Ws(t,a,n),s!==null&&(is(s,t,n,r),Va(s,t,n))}};function Md(t,s,r,n,a,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,l,i):s.prototype&&s.prototype.isPureReactComponent?!Wn(r,n)||!Wn(a,l):!0}function dh(t,s,r){var n=!1,a=er,l=s.contextType;return typeof l=="object"&&l!==null?l=Xt(l):(a=At(s)?br:yt.current,n=s.contextTypes,l=(n=n!=null)?Jr(t,a):er),s=new s(r,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Il,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),s}function Ld(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&Il.enqueueReplaceState(s,s.state,null)}function oo(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},mc(t);var l=s.contextType;typeof l=="object"&&l!==null?a.context=Xt(l):(l=At(s)?br:yt.current,a.context=Jr(t,l)),a.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(io(t,s,l,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Il.enqueueReplaceState(a,a.state,null),ul(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function sn(t,s){try{var r="",n=s;do r+=o0(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:a,digest:null}}function ji(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function co(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var Lg=typeof WeakMap=="function"?WeakMap:Map;function mh(t,s,r){r=Ps(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){fl||(fl=!0,jo=n),co(t,s)},r}function uh(t,s,r){r=Ps(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){co(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){co(t,s),typeof n!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function Bd(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Lg;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=Yg.bind(null,t,s,r),s.then(t,t))}function zd(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Od(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ps(-1,1),s.tag=2,Ws(r,s,1))),r.lanes|=1),t)}var Bg=Is.ReactCurrentOwner,Et=!1;function bt(t,s,r,n){s.child=t===null?Vu(s,null,r,n):en(s,t.child,r,n)}function Hd(t,s,r,n,a){r=r.render;var l=s.ref;return Wr(s,a),n=pc(t,s,r,n,l,a),r=fc(),t!==null&&!Et?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Ds(t,s,a)):(ze&&r&&nc(s),s.flags|=1,bt(t,s,n,a),s.child)}function Fd(t,s,r,n,a){if(t===null){var l=r.type;return typeof l=="function"&&!Pc(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,hh(t,s,l,n,a)):(t=Ga(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Wn,r(i,n)&&t.ref===s.ref)return Ds(t,s,a)}return s.flags|=1,t=Xs(l,n),t.ref=s.ref,t.return=s,s.child=t}function hh(t,s,r,n,a){if(t!==null){var l=t.memoizedProps;if(Wn(l,n)&&t.ref===s.ref)if(Et=!1,s.pendingProps=n=l,(t.lanes&a)!==0)t.flags&131072&&(Et=!0);else return s.lanes=t.lanes,Ds(t,s,a)}return mo(t,s,r,n,a)}function xh(t,s,r){var n=s.pendingProps,a=n.children,l=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ur,Bt),Bt|=r;else{if(!(r&1073741824))return t=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ee(Ur,Bt),Bt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,Ee(Ur,Bt),Bt|=n}else l!==null?(n=l.baseLanes|r,s.memoizedState=null):n=r,Ee(Ur,Bt),Bt|=n;return bt(t,s,a,r),s.child}function gh(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function mo(t,s,r,n,a){var l=At(r)?br:yt.current;return l=Jr(s,l),Wr(s,a),r=pc(t,s,r,n,l,a),n=fc(),t!==null&&!Et?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Ds(t,s,a)):(ze&&n&&nc(s),s.flags|=1,bt(t,s,r,a),s.child)}function Vd(t,s,r,n,a){if(At(r)){var l=!0;il(s)}else l=!1;if(Wr(s,a),s.stateNode===null)_a(t,s),dh(s,r,n),oo(s,r,n,a),n=!0;else if(t===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Xt(d):(d=At(r)?br:yt.current,d=Jr(s,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Ld(s,i,n,d),Os=!1;var p=s.memoizedState;i.state=p,ul(s,n,i,a),c=s.memoizedState,o!==n||p!==c||Dt.current||Os?(typeof u=="function"&&(io(s,r,u,n),c=s.memoizedState),(o=Os||Md(s,r,o,n,p,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{i=s.stateNode,Uu(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:ss(s.type,o),i.props=d,m=s.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xt(c):(c=At(r)?br:yt.current,c=Jr(s,c));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==m||p!==c)&&Ld(s,i,n,c),Os=!1,p=s.memoizedState,i.state=p,ul(s,n,i,a);var b=s.memoizedState;o!==m||p!==b||Dt.current||Os?(typeof x=="function"&&(io(s,r,x,n),b=s.memoizedState),(d=Os||Md(s,r,d,n,p,b,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=b),i.props=n,i.state=b,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(s.flags|=1024),n=!1)}return uo(t,s,r,n,l,a)}function uo(t,s,r,n,a,l){gh(t,s);var i=(s.flags&128)!==0;if(!n&&!i)return a&&Sd(s,r,!1),Ds(t,s,l);n=s.stateNode,Bg.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&i?(s.child=en(s,t.child,null,l),s.child=en(s,null,o,l)):bt(t,s,o,l),s.memoizedState=n.state,a&&Sd(s,r,!0),s.child}function ph(t){var s=t.stateNode;s.pendingContext?Cd(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Cd(t,s.context,!1),uc(t,s.containerInfo)}function $d(t,s,r,n,a){return Zr(),lc(a),s.flags|=256,bt(t,s,r,n),s.child}var ho={dehydrated:null,treeContext:null,retryLane:0};function xo(t){return{baseLanes:t,cachePool:null,transitions:null}}function fh(t,s,r){var n=s.pendingProps,a=Ve.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ee(Ve,a&1),t===null)return ao(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=n.children,t=n.fallback,l?(n=s.mode,l=s.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Bl(i,n,0,null),t=pr(t,n,r,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=xo(r),s.memoizedState=ho,t):jc(s,i));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return zg(t,s,i,n,o,a,r);if(l){l=n.fallback,i=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=Xs(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Xs(o,l):(l=pr(l,i,r,null),l.flags|=2),l.return=s,n.return=s,n.sibling=l,s.child=n,n=l,l=s.child,i=t.child.memoizedState,i=i===null?xo(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~r,s.memoizedState=ho,n}return l=t.child,t=l.sibling,n=Xs(l,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function jc(t,s){return s=Bl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Ea(t,s,r,n){return n!==null&&lc(n),en(s,t.child,null,r),t=jc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function zg(t,s,r,n,a,l,i){if(r)return s.flags&256?(s.flags&=-257,n=ji(Error(Z(422))),Ea(t,s,i,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=n.fallback,a=s.mode,n=Bl({mode:"visible",children:n.children},a,0,null),l=pr(l,a,i,null),l.flags|=2,n.return=s,l.return=s,n.sibling=l,s.child=n,s.mode&1&&en(s,t.child,null,i),s.child.memoizedState=xo(i),s.memoizedState=ho,l);if(!(s.mode&1))return Ea(t,s,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(Z(419)),n=ji(l,n,void 0),Ea(t,s,i,n)}if(o=(i&t.childLanes)!==0,Et||o){if(n=it,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Es(t,a),is(n,t,a,-1))}return Sc(),n=ji(Error(Z(421))),Ea(t,s,i,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=Qg.bind(null,t),a._reactRetry=s,null):(t=l.treeContext,zt=Gs(a.nextSibling),Ht=s,ze=!0,as=null,t!==null&&(qt[Kt++]=Cs,qt[Kt++]=Ss,qt[Kt++]=jr,Cs=t.id,Ss=t.overflow,jr=s),s=jc(s,n.children),s.flags|=4096,s)}function Ud(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),lo(t.return,s,r)}function Ni(t,s,r,n,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function yh(t,s,r){var n=s.pendingProps,a=n.revealOrder,l=n.tail;if(bt(t,s,n.children,r),n=Ve.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,r,s);else if(t.tag===19)Ud(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ee(Ve,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&hl(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),Ni(s,!1,a,r,l);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&hl(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Ni(s,!0,r,null,l);break;case"together":Ni(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function _a(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Ds(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),vr|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(Z(153));if(s.child!==null){for(t=s.child,r=Xs(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Xs(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function Og(t,s,r){switch(s.tag){case 3:ph(s),Zr();break;case 5:_u(s);break;case 1:At(s.type)&&il(s);break;case 4:uc(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Ee(dl,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Ee(Ve,Ve.current&1),s.flags|=128,null):r&s.child.childLanes?fh(t,s,r):(Ee(Ve,Ve.current&1),t=Ds(t,s,r),t!==null?t.sibling:null);Ee(Ve,Ve.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return yh(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ee(Ve,Ve.current),n)break;return null;case 22:case 23:return s.lanes=0,xh(t,s,r)}return Ds(t,s,r)}var bh,go,jh,Nh;bh=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};go=function(){};jh=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,ur(ys.current);var l=null;switch(r){case"input":a=Bi(t,a),n=Bi(t,n),l=[];break;case"select":a=Ue({},a,{value:void 0}),n=Ue({},n,{value:void 0}),l=[];break;case"textarea":a=Hi(t,a),n=Hi(t,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=al)}Vi(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vn.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ie("scroll",t),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(s.updateQueue=d)&&(s.flags|=4)}};Nh=function(t,s,r,n){r!==n&&(s.flags|=4)};function kn(t,s){if(!ze)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function xt(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function Hg(t,s,r){var n=s.pendingProps;switch(ac(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(s),null;case 1:return At(s.type)&&ll(),xt(s),null;case 3:return n=s.stateNode,tn(),Me(Dt),Me(yt),xc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ta(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,as!==null&&(wo(as),as=null))),go(t,s),xt(s),null;case 5:hc(s);var a=ur(Zn.current);if(r=s.type,t!==null&&s.stateNode!=null)jh(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(Z(166));return xt(s),null}if(t=ur(ys.current),Ta(s)){n=s.stateNode,r=s.type;var l=s.memoizedProps;switch(n[ps]=s,n[Xn]=l,t=(s.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<Dn.length;a++)Ie(Dn[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Jc(n,l),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},Ie("invalid",n);break;case"textarea":ed(n,l),Ie("invalid",n)}Vi(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&Pa(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Pa(n.textContent,o,t),a=["children",""+o]):Vn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ie("scroll",n)}switch(r){case"input":ba(n),Zc(n,l,!0);break;case"textarea":ba(n),td(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=al)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ym(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[ps]=s,t[Xn]=n,bh(t,s,!1,!1),s.stateNode=t;e:{switch(i=$i(r,n),r){case"dialog":Ie("cancel",t),Ie("close",t),a=n;break;case"iframe":case"object":case"embed":Ie("load",t),a=n;break;case"video":case"audio":for(a=0;a<Dn.length;a++)Ie(Dn[a],t);a=n;break;case"source":Ie("error",t),a=n;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),a=n;break;case"details":Ie("toggle",t),a=n;break;case"input":Jc(t,n),a=Bi(t,n),Ie("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Ue({},n,{value:void 0}),Ie("invalid",t);break;case"textarea":ed(t,n),a=Hi(t,n),Ie("invalid",t);break;default:a=n}Vi(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Jm(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qm(t,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$n(t,c):typeof c=="number"&&$n(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Vn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Ie("scroll",t):c!=null&&_o(t,l,c,i))}switch(r){case"input":ba(t),Zc(t,n,!1);break;case"textarea":ba(t),td(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zs(n.value));break;case"select":t.multiple=!!n.multiple,l=n.value,l!=null?_r(t,!!n.multiple,l,!1):n.defaultValue!=null&&_r(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=al)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return xt(s),null;case 6:if(t&&s.stateNode!=null)Nh(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(Z(166));if(r=ur(Zn.current),ur(ys.current),Ta(s)){if(n=s.stateNode,r=s.memoizedProps,n[ps]=s,(l=n.nodeValue!==r)&&(t=Ht,t!==null))switch(t.tag){case 3:Pa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pa(n.nodeValue,r,(t.mode&1)!==0)}l&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ps]=s,s.stateNode=n}return xt(s),null;case 13:if(Me(Ve),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&zt!==null&&s.mode&1&&!(s.flags&128))Hu(),Zr(),s.flags|=98560,l=!1;else if(l=Ta(s),n!==null&&n.dehydrated!==null){if(t===null){if(!l)throw Error(Z(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Z(317));l[ps]=s}else Zr(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;xt(s),l=!1}else as!==null&&(wo(as),as=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||Ve.current&1?rt===0&&(rt=3):Sc())),s.updateQueue!==null&&(s.flags|=4),xt(s),null);case 4:return tn(),go(t,s),t===null&&Yn(s.stateNode.containerInfo),xt(s),null;case 10:return cc(s.type._context),xt(s),null;case 17:return At(s.type)&&ll(),xt(s),null;case 19:if(Me(Ve),l=s.memoizedState,l===null)return xt(s),null;if(n=(s.flags&128)!==0,i=l.rendering,i===null)if(n)kn(l,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=hl(t),i!==null){for(s.flags|=128,kn(l,!1),n=i.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)l=r,t=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ee(Ve,Ve.current&1|2),s.child}t=t.sibling}l.tail!==null&&Ke()>rn&&(s.flags|=128,n=!0,kn(l,!1),s.lanes=4194304)}else{if(!n)if(t=hl(i),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),kn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ze)return xt(s),null}else 2*Ke()-l.renderingStartTime>rn&&r!==1073741824&&(s.flags|=128,n=!0,kn(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=Ke(),s.sibling=null,r=Ve.current,Ee(Ve,n?r&1|2:r&1),s):(xt(s),null);case 22:case 23:return Cc(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Bt&1073741824&&(xt(s),s.subtreeFlags&6&&(s.flags|=8192)):xt(s),null;case 24:return null;case 25:return null}throw Error(Z(156,s.tag))}function Fg(t,s){switch(ac(s),s.tag){case 1:return At(s.type)&&ll(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return tn(),Me(Dt),Me(yt),xc(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return hc(s),null;case 13:if(Me(Ve),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(Z(340));Zr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Me(Ve),null;case 4:return tn(),null;case 10:return cc(s.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var Da=!1,pt=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,ne=null;function $r(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(t,s,n)}else r.current=null}function po(t,s,r){try{r()}catch(n){_e(t,s,n)}}var _d=!1;function $g(t,s){if(Ji=sl,t=Su(),rc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=t,p=null;t:for(;;){for(var x;m!==r||a!==0&&m.nodeType!==3||(o=i+a),m!==l||n!==0&&m.nodeType!==3||(c=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(x=m.firstChild)!==null;)p=m,m=x;for(;;){if(m===t)break t;if(p===r&&++d===a&&(o=i),p===l&&++u===n&&(c=i),(x=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=x}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zi={focusedElem:t,selectionRange:r},sl=!1,ne=s;ne!==null;)if(s=ne,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ne=t;else for(;ne!==null;){s=ne;try{var b=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var f=b.memoizedProps,v=b.memoizedState,N=s.stateNode,g=N.getSnapshotBeforeUpdate(s.elementType===s.type?f:ss(s.type,f),v);N.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=s.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){_e(s,s.return,j)}if(t=s.sibling,t!==null){t.return=s.return,ne=t;break}ne=s.return}return b=_d,_d=!1,b}function On(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&po(s,r,l)}a=a.next}while(a!==n)}}function Ml(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function fo(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function vh(t){var s=t.alternate;s!==null&&(t.alternate=null,vh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[ps],delete s[Xn],delete s[so],delete s[kg],delete s[Cg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wh(t){return t.tag===5||t.tag===3||t.tag===4}function qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yo(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=al));else if(n!==4&&(t=t.child,t!==null))for(yo(t,s,r),t=t.sibling;t!==null;)yo(t,s,r),t=t.sibling}function bo(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bo(t,s,r),t=t.sibling;t!==null;)bo(t,s,r),t=t.sibling}var ct=null,ns=!1;function Ls(t,s,r){for(r=r.child;r!==null;)kh(t,s,r),r=r.sibling}function kh(t,s,r){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Sl,r)}catch{}switch(r.tag){case 5:pt||$r(r,s);case 6:var n=ct,a=ns;ct=null,Ls(t,s,r),ct=n,ns=a,ct!==null&&(ns?(t=ct,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ct.removeChild(r.stateNode));break;case 18:ct!==null&&(ns?(t=ct,r=r.stateNode,t.nodeType===8?xi(t.parentNode,r):t.nodeType===1&&xi(t,r),Kn(t)):xi(ct,r.stateNode));break;case 4:n=ct,a=ns,ct=r.stateNode.containerInfo,ns=!0,Ls(t,s,r),ct=n,ns=a;break;case 0:case 11:case 14:case 15:if(!pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&po(r,s,i),a=a.next}while(a!==n)}Ls(t,s,r);break;case 1:if(!pt&&($r(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_e(r,s,o)}Ls(t,s,r);break;case 21:Ls(t,s,r);break;case 22:r.mode&1?(pt=(n=pt)||r.memoizedState!==null,Ls(t,s,r),pt=n):Ls(t,s,r);break;default:Ls(t,s,r)}}function Kd(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Vg),s.forEach(function(n){var a=Xg.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function es(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=t,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:ct=o.stateNode,ns=!1;break e;case 3:ct=o.stateNode.containerInfo,ns=!0;break e;case 4:ct=o.stateNode.containerInfo,ns=!0;break e}o=o.return}if(ct===null)throw Error(Z(160));kh(l,i,a),ct=null,ns=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){_e(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ch(s,t),s=s.sibling}function Ch(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(es(s,t),us(t),n&4){try{On(3,t,t.return),Ml(3,t)}catch(f){_e(t,t.return,f)}try{On(5,t,t.return)}catch(f){_e(t,t.return,f)}}break;case 1:es(s,t),us(t),n&512&&r!==null&&$r(r,r.return);break;case 5:if(es(s,t),us(t),n&512&&r!==null&&$r(r,r.return),t.flags&32){var a=t.stateNode;try{$n(a,"")}catch(f){_e(t,t.return,f)}}if(n&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,i=r!==null?r.memoizedProps:l,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Gm(a,l),$i(o,i);var d=$i(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?Jm(a,m):u==="dangerouslySetInnerHTML"?Qm(a,m):u==="children"?$n(a,m):_o(a,u,m,d)}switch(o){case"input":zi(a,l);break;case"textarea":Wm(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?_r(a,!!l.multiple,x,!1):p!==!!l.multiple&&(l.defaultValue!=null?_r(a,!!l.multiple,l.defaultValue,!0):_r(a,!!l.multiple,l.multiple?[]:"",!1))}a[Xn]=l}catch(f){_e(t,t.return,f)}}break;case 6:if(es(s,t),us(t),n&4){if(t.stateNode===null)throw Error(Z(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(f){_e(t,t.return,f)}}break;case 3:if(es(s,t),us(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kn(s.containerInfo)}catch(f){_e(t,t.return,f)}break;case 4:es(s,t),us(t);break;case 13:es(s,t),us(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(wc=Ke())),n&4&&Kd(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(pt=(d=pt)||u,es(s,t),pt=d):es(s,t),us(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ne=t,u=t.child;u!==null;){for(m=ne=u;ne!==null;){switch(p=ne,x=p.child,p.tag){case 0:case 11:case 14:case 15:On(4,p,p.return);break;case 1:$r(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{s=n,b.props=s.memoizedProps,b.state=s.memoizedState,b.componentWillUnmount()}catch(f){_e(n,r,f)}}break;case 5:$r(p,p.return);break;case 22:if(p.memoizedState!==null){Wd(m);continue}}x!==null?(x.return=p,ne=x):Wd(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Xm("display",i))}catch(f){_e(t,t.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){_e(t,t.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:es(s,t),us(t),n&4&&Kd(t);break;case 21:break;default:es(s,t),us(t)}}function us(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(wh(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($n(a,""),n.flags&=-33);var l=qd(t);bo(t,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=qd(t);yo(t,o,i);break;default:throw Error(Z(161))}}catch(c){_e(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ug(t,s,r){ne=t,Sh(t)}function Sh(t,s,r){for(var n=(t.mode&1)!==0;ne!==null;){var a=ne,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Da;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||pt;o=Da;var d=pt;if(Da=i,(pt=c)&&!d)for(ne=a;ne!==null;)i=ne,c=i.child,i.tag===22&&i.memoizedState!==null?Yd(a):c!==null?(c.return=i,ne=c):Yd(a);for(;l!==null;)ne=l,Sh(l),l=l.sibling;ne=a,Da=o,pt=d}Gd(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ne=l):Gd(t)}}function Gd(t){for(;ne!==null;){var s=ne;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:pt||Ml(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!pt)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:ss(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Dd(s,l,n);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Dd(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Kn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}pt||s.flags&512&&fo(s)}catch(p){_e(s,s.return,p)}}if(s===t){ne=null;break}if(r=s.sibling,r!==null){r.return=s.return,ne=r;break}ne=s.return}}function Wd(t){for(;ne!==null;){var s=ne;if(s===t){ne=null;break}var r=s.sibling;if(r!==null){r.return=s.return,ne=r;break}ne=s.return}}function Yd(t){for(;ne!==null;){var s=ne;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Ml(4,s)}catch(c){_e(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){_e(s,a,c)}}var l=s.return;try{fo(s)}catch(c){_e(s,l,c)}break;case 5:var i=s.return;try{fo(s)}catch(c){_e(s,i,c)}}}catch(c){_e(s,s.return,c)}if(s===t){ne=null;break}var o=s.sibling;if(o!==null){o.return=s.return,ne=o;break}ne=s.return}}var _g=Math.ceil,pl=Is.ReactCurrentDispatcher,Nc=Is.ReactCurrentOwner,Yt=Is.ReactCurrentBatchConfig,we=0,it=null,Xe=null,dt=0,Bt=0,Ur=nr(0),rt=0,ra=null,vr=0,Ll=0,vc=0,Hn=null,Rt=null,wc=0,rn=1/0,vs=null,fl=!1,jo=null,Ys=null,Aa=!1,$s=null,yl=0,Fn=0,No=null,qa=-1,Ka=0;function vt(){return we&6?Ke():qa!==-1?qa:qa=Ke()}function Qs(t){return t.mode&1?we&2&&dt!==0?dt&-dt:Pg.transition!==null?(Ka===0&&(Ka=du()),Ka):(t=Te,t!==0||(t=window.event,t=t===void 0?16:fu(t.type)),t):1}function is(t,s,r,n){if(50<Fn)throw Fn=0,No=null,Error(Z(185));ma(t,r,n),(!(we&2)||t!==it)&&(t===it&&(!(we&2)&&(Ll|=r),rt===4&&Fs(t,dt)),It(t,n),r===1&&we===0&&!(s.mode&1)&&(rn=Ke()+500,Dl&&ar()))}function It(t,s){var r=t.callbackNode;P0(t,s);var n=tl(t,t===it?dt:0);if(n===0)r!==null&&nd(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&nd(r),s===1)t.tag===0?Sg(Qd.bind(null,t)):Bu(Qd.bind(null,t)),vg(function(){!(we&6)&&ar()}),r=null;else{switch(mu(n)){case 1:r=Yo;break;case 4:r=ou;break;case 16:r=el;break;case 536870912:r=cu;break;default:r=el}r=Mh(r,Ph.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function Ph(t,s){if(qa=-1,Ka=0,we&6)throw Error(Z(327));var r=t.callbackNode;if(Yr()&&t.callbackNode!==r)return null;var n=tl(t,t===it?dt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=bl(t,n);else{s=n;var a=we;we|=2;var l=Rh();(it!==t||dt!==s)&&(vs=null,rn=Ke()+500,gr(t,s));do try{Gg();break}catch(o){Th(t,o)}while(!0);oc(),pl.current=l,we=a,Xe!==null?s=0:(it=null,dt=0,s=rt)}if(s!==0){if(s===2&&(a=Gi(t),a!==0&&(n=a,s=vo(t,a))),s===1)throw r=ra,gr(t,0),Fs(t,n),It(t,Ke()),r;if(s===6)Fs(t,n);else{if(a=t.current.alternate,!(n&30)&&!qg(a)&&(s=bl(t,n),s===2&&(l=Gi(t),l!==0&&(n=l,s=vo(t,l))),s===1))throw r=ra,gr(t,0),Fs(t,n),It(t,Ke()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(Z(345));case 2:cr(t,Rt,vs);break;case 3:if(Fs(t,n),(n&130023424)===n&&(s=wc+500-Ke(),10<s)){if(tl(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){vt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=to(cr.bind(null,t,Rt,vs),s);break}cr(t,Rt,vs);break;case 4:if(Fs(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var i=31-ls(n);l=1<<i,i=s[i],i>a&&(a=i),n&=~l}if(n=a,n=Ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_g(n/1960))-n,10<n){t.timeoutHandle=to(cr.bind(null,t,Rt,vs),n);break}cr(t,Rt,vs);break;case 5:cr(t,Rt,vs);break;default:throw Error(Z(329))}}}return It(t,Ke()),t.callbackNode===r?Ph.bind(null,t):null}function vo(t,s){var r=Hn;return t.current.memoizedState.isDehydrated&&(gr(t,s).flags|=256),t=bl(t,s),t!==2&&(s=Rt,Rt=r,s!==null&&wo(s)),t}function wo(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function qg(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!cs(l(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(t,s){for(s&=~vc,s&=~Ll,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-ls(s),n=1<<r;t[r]=-1,s&=~n}}function Qd(t){if(we&6)throw Error(Z(327));Yr();var s=tl(t,0);if(!(s&1))return It(t,Ke()),null;var r=bl(t,s);if(t.tag!==0&&r===2){var n=Gi(t);n!==0&&(s=n,r=vo(t,n))}if(r===1)throw r=ra,gr(t,0),Fs(t,s),It(t,Ke()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,cr(t,Rt,vs),It(t,Ke()),null}function kc(t,s){var r=we;we|=1;try{return t(s)}finally{we=r,we===0&&(rn=Ke()+500,Dl&&ar())}}function wr(t){$s!==null&&$s.tag===0&&!(we&6)&&Yr();var s=we;we|=1;var r=Yt.transition,n=Te;try{if(Yt.transition=null,Te=1,t)return t()}finally{Te=n,Yt.transition=r,we=s,!(we&6)&&ar()}}function Cc(){Bt=Ur.current,Me(Ur)}function gr(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Ng(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(ac(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ll();break;case 3:tn(),Me(Dt),Me(yt),xc();break;case 5:hc(n);break;case 4:tn();break;case 13:Me(Ve);break;case 19:Me(Ve);break;case 10:cc(n.type._context);break;case 22:case 23:Cc()}r=r.return}if(it=t,Xe=t=Xs(t.current,null),dt=Bt=s,rt=0,ra=null,vc=Ll=vr=0,Rt=Hn=null,mr!==null){for(s=0;s<mr.length;s++)if(r=mr[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}mr=null}return t}function Th(t,s){do{var r=Xe;try{if(oc(),$a.current=gl,xl){for(var n=$e.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}xl=!1}if(Nr=0,lt=st=$e=null,zn=!1,ea=0,Nc.current=null,r===null||r.return===null){rt=1,ra=s,Xe=null;break}e:{var l=t,i=r.return,o=r,c=s;if(s=dt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=zd(i);if(x!==null){x.flags&=-257,Od(x,i,o,l,s),x.mode&1&&Bd(l,d,s),s=x,c=d;var b=s.updateQueue;if(b===null){var f=new Set;f.add(c),s.updateQueue=f}else b.add(c);break e}else{if(!(s&1)){Bd(l,d,s),Sc();break e}c=Error(Z(426))}}else if(ze&&o.mode&1){var v=zd(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Od(v,i,o,l,s),lc(sn(c,o));break e}}l=c=sn(c,o),rt!==4&&(rt=2),Hn===null?Hn=[l]:Hn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var N=mh(l,c,s);Ed(l,N);break e;case 1:o=c;var g=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ys===null||!Ys.has(y)))){l.flags|=65536,s&=-s,l.lanes|=s;var j=uh(l,o,s);Ed(l,j);break e}}l=l.return}while(l!==null)}Dh(r)}catch(w){s=w,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(!0)}function Rh(){var t=pl.current;return pl.current=gl,t===null?gl:t}function Sc(){(rt===0||rt===3||rt===2)&&(rt=4),it===null||!(vr&268435455)&&!(Ll&268435455)||Fs(it,dt)}function bl(t,s){var r=we;we|=2;var n=Rh();(it!==t||dt!==s)&&(vs=null,gr(t,s));do try{Kg();break}catch(a){Th(t,a)}while(!0);if(oc(),we=r,pl.current=n,Xe!==null)throw Error(Z(261));return it=null,dt=0,rt}function Kg(){for(;Xe!==null;)Eh(Xe)}function Gg(){for(;Xe!==null&&!y0();)Eh(Xe)}function Eh(t){var s=Ih(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,s===null?Dh(t):Xe=s,Nc.current=null}function Dh(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=Fg(r,s),r!==null){r.flags&=32767,Xe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Xe=null;return}}else if(r=Hg(r,s,Bt),r!==null){Xe=r;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=t}while(s!==null);rt===0&&(rt=5)}function cr(t,s,r){var n=Te,a=Yt.transition;try{Yt.transition=null,Te=1,Wg(t,s,r,n)}finally{Yt.transition=a,Te=n}return null}function Wg(t,s,r,n){do Yr();while($s!==null);if(we&6)throw Error(Z(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var l=r.lanes|r.childLanes;if(T0(t,l),t===it&&(Xe=it=null,dt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Aa||(Aa=!0,Mh(el,function(){return Yr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Yt.transition,Yt.transition=null;var i=Te;Te=1;var o=we;we|=4,Nc.current=null,$g(t,r),Ch(r,t),xg(Zi),sl=!!Ji,Zi=Ji=null,t.current=r,Ug(r),b0(),we=o,Te=i,Yt.transition=l}else t.current=r;if(Aa&&(Aa=!1,$s=t,yl=a),l=t.pendingLanes,l===0&&(Ys=null),v0(r.stateNode),It(t,Ke()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(fl)throw fl=!1,t=jo,jo=null,t;return yl&1&&t.tag!==0&&Yr(),l=t.pendingLanes,l&1?t===No?Fn++:(Fn=0,No=t):Fn=0,ar(),null}function Yr(){if($s!==null){var t=mu(yl),s=Yt.transition,r=Te;try{if(Yt.transition=null,Te=16>t?16:t,$s===null)var n=!1;else{if(t=$s,$s=null,yl=0,we&6)throw Error(Z(331));var a=we;for(we|=4,ne=t.current;ne!==null;){var l=ne,i=l.child;if(ne.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ne=d;ne!==null;){var u=ne;switch(u.tag){case 0:case 11:case 15:On(8,u,l)}var m=u.child;if(m!==null)m.return=u,ne=m;else for(;ne!==null;){u=ne;var p=u.sibling,x=u.return;if(vh(u),u===d){ne=null;break}if(p!==null){p.return=x,ne=p;break}ne=x}}}var b=l.alternate;if(b!==null){var f=b.child;if(f!==null){b.child=null;do{var v=f.sibling;f.sibling=null,f=v}while(f!==null)}}ne=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,ne=i;else e:for(;ne!==null;){if(l=ne,l.flags&2048)switch(l.tag){case 0:case 11:case 15:On(9,l,l.return)}var N=l.sibling;if(N!==null){N.return=l.return,ne=N;break e}ne=l.return}}var g=t.current;for(ne=g;ne!==null;){i=ne;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,ne=y;else e:for(i=g;ne!==null;){if(o=ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ml(9,o)}}catch(w){_e(o,o.return,w)}if(o===i){ne=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,ne=j;break e}ne=o.return}}if(we=a,ar(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Sl,t)}catch{}n=!0}return n}finally{Te=r,Yt.transition=s}}return!1}function Xd(t,s,r){s=sn(r,s),s=mh(t,s,1),t=Ws(t,s,1),s=vt(),t!==null&&(ma(t,1,s),It(t,s))}function _e(t,s,r){if(t.tag===3)Xd(t,t,r);else for(;s!==null;){if(s.tag===3){Xd(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ys===null||!Ys.has(n))){t=sn(r,t),t=uh(s,t,1),s=Ws(s,t,1),t=vt(),s!==null&&(ma(s,1,t),It(s,t));break}}s=s.return}}function Yg(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=vt(),t.pingedLanes|=t.suspendedLanes&r,it===t&&(dt&r)===r&&(rt===4||rt===3&&(dt&130023424)===dt&&500>Ke()-wc?gr(t,0):vc|=r),It(t,s)}function Ah(t,s){s===0&&(t.mode&1?(s=va,va<<=1,!(va&130023424)&&(va=4194304)):s=1);var r=vt();t=Es(t,s),t!==null&&(ma(t,s,r),It(t,r))}function Qg(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),Ah(t,r)}function Xg(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(s),Ah(t,r)}var Ih;Ih=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||Dt.current)Et=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return Et=!1,Og(t,s,r);Et=!!(t.flags&131072)}else Et=!1,ze&&s.flags&1048576&&zu(s,cl,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;_a(t,s),t=s.pendingProps;var a=Jr(s,yt.current);Wr(s,r),a=pc(null,s,n,t,a,r);var l=fc();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,At(n)?(l=!0,il(s)):l=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,mc(s),a.updater=Il,s.stateNode=a,a._reactInternals=s,oo(s,n,t,r),s=uo(null,s,n,!0,l,r)):(s.tag=0,ze&&l&&nc(s),bt(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(_a(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=Zg(n),t=ss(n,t),a){case 0:s=mo(null,s,n,t,r);break e;case 1:s=Vd(null,s,n,t,r);break e;case 11:s=Hd(null,s,n,t,r);break e;case 14:s=Fd(null,s,n,ss(n.type,t),r);break e}throw Error(Z(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ss(n,a),mo(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ss(n,a),Vd(t,s,n,a,r);case 3:e:{if(ph(s),t===null)throw Error(Z(387));n=s.pendingProps,l=s.memoizedState,a=l.element,Uu(t,s),ul(s,n,null,r);var i=s.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){a=sn(Error(Z(423)),s),s=$d(t,s,n,r,a);break e}else if(n!==a){a=sn(Error(Z(424)),s),s=$d(t,s,n,r,a);break e}else for(zt=Gs(s.stateNode.containerInfo.firstChild),Ht=s,ze=!0,as=null,r=Vu(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zr(),n===a){s=Ds(t,s,r);break e}bt(t,s,n,r)}s=s.child}return s;case 5:return _u(s),t===null&&ao(s),n=s.type,a=s.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,eo(n,a)?i=null:l!==null&&eo(n,l)&&(s.flags|=32),gh(t,s),bt(t,s,i,r),s.child;case 6:return t===null&&ao(s),null;case 13:return fh(t,s,r);case 4:return uc(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=en(s,null,n,r):bt(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ss(n,a),Hd(t,s,n,a,r);case 7:return bt(t,s,s.pendingProps,r),s.child;case 8:return bt(t,s,s.pendingProps.children,r),s.child;case 12:return bt(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,l=s.memoizedProps,i=a.value,Ee(dl,n._currentValue),n._currentValue=i,l!==null)if(cs(l.value,i)){if(l.children===a.children&&!Dt.current){s=Ds(t,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=Ps(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),lo(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(Z(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),lo(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}bt(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,Wr(s,r),a=Xt(a),n=n(a),s.flags|=1,bt(t,s,n,r),s.child;case 14:return n=s.type,a=ss(n,s.pendingProps),a=ss(n.type,a),Fd(t,s,n,a,r);case 15:return hh(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:ss(n,a),_a(t,s),s.tag=1,At(n)?(t=!0,il(s)):t=!1,Wr(s,r),dh(s,n,a),oo(s,n,a,r),uo(null,s,n,!0,t,r);case 19:return yh(t,s,r);case 22:return xh(t,s,r)}throw Error(Z(156,s.tag))};function Mh(t,s){return iu(t,s)}function Jg(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,s,r,n){return new Jg(t,s,r,n)}function Pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zg(t){if(typeof t=="function")return Pc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ko)return 11;if(t===Go)return 14}return 2}function Xs(t,s){var r=t.alternate;return r===null?(r=Gt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ga(t,s,r,n,a,l){var i=2;if(n=t,typeof t=="function")Pc(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ir:return pr(r.children,a,l,s);case qo:i=8,a|=8;break;case Ai:return t=Gt(12,r,s,a|2),t.elementType=Ai,t.lanes=l,t;case Ii:return t=Gt(13,r,s,a),t.elementType=Ii,t.lanes=l,t;case Mi:return t=Gt(19,r,s,a),t.elementType=Mi,t.lanes=l,t;case _m:return Bl(r,a,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $m:i=10;break e;case Um:i=9;break e;case Ko:i=11;break e;case Go:i=14;break e;case zs:i=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return s=Gt(i,r,s,a),s.elementType=t,s.type=n,s.lanes=l,s}function pr(t,s,r,n){return t=Gt(7,t,n,s),t.lanes=r,t}function Bl(t,s,r,n){return t=Gt(22,t,n,s),t.elementType=_m,t.lanes=r,t.stateNode={isHidden:!1},t}function vi(t,s,r){return t=Gt(6,t,null,s),t.lanes=r,t}function wi(t,s,r){return s=Gt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function ep(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ri(0),this.expirationTimes=ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Tc(t,s,r,n,a,l,i,o,c){return t=new ep(t,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=Gt(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(l),t}function tp(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function Lh(t){if(!t)return er;t=t._reactInternals;e:{if(Tr(t)!==t||t.tag!==1)throw Error(Z(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(At(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(At(r))return Lu(t,r,s)}return s}function Bh(t,s,r,n,a,l,i,o,c){return t=Tc(r,n,!0,t,a,l,i,o,c),t.context=Lh(null),r=t.current,n=vt(),a=Qs(r),l=Ps(n,a),l.callback=s??null,Ws(r,l,a),t.current.lanes=a,ma(t,a,n),It(t,n),t}function zl(t,s,r,n){var a=s.current,l=vt(),i=Qs(a);return r=Lh(r),s.context===null?s.context=r:s.pendingContext=r,s=Ps(l,i),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=Ws(a,s,i),t!==null&&(is(t,a,i,l),Va(t,a,i)),i}function jl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jd(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Rc(t,s){Jd(t,s),(t=t.alternate)&&Jd(t,s)}function sp(){return null}var zh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ec(t){this._internalRoot=t}Ol.prototype.render=Ec.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(Z(409));zl(t,s,null,null)};Ol.prototype.unmount=Ec.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;wr(function(){zl(null,t,null,null)}),s[Rs]=null}};function Ol(t){this._internalRoot=t}Ol.prototype.unstable_scheduleHydration=function(t){if(t){var s=xu();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Hs.length&&s!==0&&s<Hs[r].priority;r++);Hs.splice(r,0,t),r===0&&pu(t)}};function Dc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zd(){}function rp(t,s,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=jl(i);l.call(d)}}var i=Bh(s,n,t,0,null,!1,!1,"",Zd);return t._reactRootContainer=i,t[Rs]=i.current,Yn(t.nodeType===8?t.parentNode:t),wr(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=jl(c);o.call(d)}}var c=Tc(t,0,!1,null,null,!1,!1,"",Zd);return t._reactRootContainer=c,t[Rs]=c.current,Yn(t.nodeType===8?t.parentNode:t),wr(function(){zl(s,c,r,n)}),c}function Fl(t,s,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=jl(i);o.call(c)}}zl(s,i,t,a)}else i=rp(r,s,t,a,n);return jl(i)}uu=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=En(s.pendingLanes);r!==0&&(Qo(s,r|1),It(s,Ke()),!(we&6)&&(rn=Ke()+500,ar()))}break;case 13:wr(function(){var n=Es(t,1);if(n!==null){var a=vt();is(n,t,1,a)}}),Rc(t,1)}};Xo=function(t){if(t.tag===13){var s=Es(t,134217728);if(s!==null){var r=vt();is(s,t,134217728,r)}Rc(t,134217728)}};hu=function(t){if(t.tag===13){var s=Qs(t),r=Es(t,s);if(r!==null){var n=vt();is(r,t,s,n)}Rc(t,s)}};xu=function(){return Te};gu=function(t,s){var r=Te;try{return Te=t,s()}finally{Te=r}};_i=function(t,s,r){switch(s){case"input":if(zi(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=El(n);if(!a)throw Error(Z(90));Km(n),zi(n,a)}}}break;case"textarea":Wm(t,r);break;case"select":s=r.value,s!=null&&_r(t,!!r.multiple,s,!1)}};tu=kc;su=wr;var np={usingClientEntryPoint:!1,Events:[ha,zr,El,Zm,eu,kc]},Cn={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ap={bundleType:Cn.bundleType,version:Cn.version,rendererPackageName:Cn.rendererPackageName,rendererConfig:Cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=au(t),t===null?null:t.stateNode},findFiberByHostInstance:Cn.findFiberByHostInstance||sp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Sl=Ia.inject(ap),fs=Ia}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np;Vt.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dc(s))throw Error(Z(200));return tp(t,s,null,r)};Vt.createRoot=function(t,s){if(!Dc(t))throw Error(Z(299));var r=!1,n="",a=zh;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Tc(t,1,!1,null,null,r,!1,n,a),t[Rs]=s.current,Yn(t.nodeType===8?t.parentNode:t),new Ec(s)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=au(s),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return wr(t)};Vt.hydrate=function(t,s,r){if(!Hl(s))throw Error(Z(200));return Fl(null,t,s,!0,r)};Vt.hydrateRoot=function(t,s,r){if(!Dc(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=zh;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=Bh(s,null,t,1,r??null,a,!1,l,i),t[Rs]=s.current,Yn(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Ol(s)};Vt.render=function(t,s,r){if(!Hl(s))throw Error(Z(200));return Fl(null,t,s,!1,r)};Vt.unmountComponentAtNode=function(t){if(!Hl(t))throw Error(Z(40));return t._reactRootContainer?(wr(function(){Fl(null,null,t,!1,function(){t._reactRootContainer=null,t[Rs]=null})}),!0):!1};Vt.unstable_batchedUpdates=kc;Vt.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Hl(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Fl(t,s,r,!1,n)};Vt.version="18.3.1-next-f1338f8080-20240426";function Oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oh)}catch(t){console.error(t)}}Oh(),Om.exports=Vt;var lp=Om.exports,Hh,em=lp;Hh=em.createRoot,em.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},na.apply(this,arguments)}var Us;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Us||(Us={}));const tm="popstate";function ip(t){t===void 0&&(t={});function s(n,a){let{pathname:l,search:i,hash:o}=n.location;return ko("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Nl(a)}return cp(s,r,null,t)}function Ge(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Fh(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function op(){return Math.random().toString(36).substr(2,8)}function sm(t,s){return{usr:t.state,key:t.key,idx:s}}function ko(t,s,r,n){return r===void 0&&(r=null),na({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?dn(s):s,{state:r,key:s&&s.key||n||op()})}function Nl(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function dn(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function cp(t,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=Us.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(na({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){o=Us.Pop;let v=u(),N=v==null?null:v-d;d=v,c&&c({action:o,location:f.location,delta:N})}function p(v,N){o=Us.Push;let g=ko(f.location,v,N);d=u()+1;let y=sm(g,d),j=f.createHref(g);try{i.pushState(y,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(j)}l&&c&&c({action:o,location:f.location,delta:1})}function x(v,N){o=Us.Replace;let g=ko(f.location,v,N);d=u();let y=sm(g,d),j=f.createHref(g);i.replaceState(y,"",j),l&&c&&c({action:o,location:f.location,delta:0})}function b(v){let N=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof v=="string"?v:Nl(v);return g=g.replace(/ $/,"%20"),Ge(N,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,N)}let f={get action(){return o},get location(){return t(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(tm,m),c=v,()=>{a.removeEventListener(tm,m),c=null}},createHref(v){return s(a,v)},createURL:b,encodeLocation(v){let N=b(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:x,go(v){return i.go(v)}};return f}var rm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rm||(rm={}));function dp(t,s,r){return r===void 0&&(r="/"),mp(t,s,r,!1)}function mp(t,s,r,n){let a=typeof s=="string"?dn(s):s,l=Ac(a.pathname||"/",r);if(l==null)return null;let i=Vh(t);up(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=wp(l);o=Np(i[c],d,n)}return o}function Vh(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(Ge(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Js([n,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(Ge(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Vh(l.children,s,u,d)),!(l.path==null&&!l.index)&&s.push({path:d,score:bp(d,l.index),routesMeta:u})};return t.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of $h(l.path))a(l,i,c)}),s}function $h(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=$h(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function up(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:jp(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hp=/^:[\w-]+$/,xp=3,gp=2,pp=1,fp=10,yp=-2,nm=t=>t==="*";function bp(t,s){let r=t.split("/"),n=r.length;return r.some(nm)&&(n+=yp),s&&(n+=gp),r.filter(a=>!nm(a)).reduce((a,l)=>a+(hp.test(l)?xp:l===""?pp:fp),n)}function jp(t,s){return t.length===s.length&&t.slice(0,-1).every((n,a)=>n===s[a])?t[t.length-1]-s[s.length-1]:0}function Np(t,s,r){let{routesMeta:n}=t,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=l==="/"?s:s.slice(l.length)||"/",m=am({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),p=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=am({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:Js([l,m.pathname]),pathnameBase:Pp(Js([l,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(l=Js([l,m.pathnameBase]))}return i}function am(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vp(t.path,t.caseSensitive,t.end),a=s.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,u,m)=>{let{paramName:p,isOptional:x}=u;if(p==="*"){let f=o[m]||"";i=l.slice(0,l.length-f.length).replace(/(.)\/+$/,"$1")}const b=o[m];return x&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:t}}function vp(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Fh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function wp(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Fh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Ac(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function kp(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?dn(t):t;return{pathname:r?r.startsWith("/")?r:Cp(r,s):s,search:Tp(n),hash:Rp(a)}}function Cp(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ki(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sp(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Ic(t,s){let r=Sp(t);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Mc(t,s,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=dn(t):(a=na({},t),Ge(!a.pathname||!a.pathname.includes("?"),ki("?","pathname","search",a)),Ge(!a.pathname||!a.pathname.includes("#"),ki("#","pathname","hash",a)),Ge(!a.search||!a.search.includes("#"),ki("#","search","hash",a)));let l=t===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let m=s.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}o=m>=0?s[m]:"/"}let c=kp(a,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Js=t=>t.join("/").replace(/\/\/+/g,"/"),Pp=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tp=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rp=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ep(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Uh=["post","put","patch","delete"];new Set(Uh);const Dp=["get",...Uh];new Set(Dp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aa.apply(this,arguments)}const Lc=h.createContext(null),Ap=h.createContext(null),lr=h.createContext(null),Vl=h.createContext(null),Ms=h.createContext({outlet:null,matches:[],isDataRoute:!1}),_h=h.createContext(null);function Ip(t,s){let{relative:r}=s===void 0?{}:s;mn()||Ge(!1);let{basename:n,navigator:a}=h.useContext(lr),{hash:l,pathname:i,search:o}=Kh(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Js([n,i])),a.createHref({pathname:c,search:o,hash:l})}function mn(){return h.useContext(Vl)!=null}function Ut(){return mn()||Ge(!1),h.useContext(Vl).location}function qh(t){h.useContext(lr).static||h.useLayoutEffect(t)}function le(){let{isDataRoute:t}=h.useContext(Ms);return t?Kp():Mp()}function Mp(){mn()||Ge(!1);let t=h.useContext(Lc),{basename:s,future:r,navigator:n}=h.useContext(lr),{matches:a}=h.useContext(Ms),{pathname:l}=Ut(),i=JSON.stringify(Ic(a,r.v7_relativeSplatPath)),o=h.useRef(!1);return qh(()=>{o.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=Mc(d,JSON.parse(i),l,u.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:Js([s,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[s,n,i,l,t])}function ot(){let{matches:t}=h.useContext(Ms),s=t[t.length-1];return s?s.params:{}}function Kh(t,s){let{relative:r}=s===void 0?{}:s,{future:n}=h.useContext(lr),{matches:a}=h.useContext(Ms),{pathname:l}=Ut(),i=JSON.stringify(Ic(a,n.v7_relativeSplatPath));return h.useMemo(()=>Mc(t,JSON.parse(i),l,r==="path"),[t,i,l,r])}function Lp(t,s){return Bp(t,s)}function Bp(t,s,r,n){mn()||Ge(!1);let{navigator:a}=h.useContext(lr),{matches:l}=h.useContext(Ms),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Ut(),u;if(s){var m;let v=typeof s=="string"?dn(s):s;c==="/"||(m=v.pathname)!=null&&m.startsWith(c)||Ge(!1),u=v}else u=d;let p=u.pathname||"/",x=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=dp(t,{pathname:x}),f=Vp(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Js([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Js([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),l,r,n);return s&&f?h.createElement(Vl.Provider,{value:{location:aa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Us.Pop}},f):f}function zp(){let t=qp(),s=Ep(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},s),r?h.createElement("pre",{style:a},r):null,null)}const Op=h.createElement(zp,null);class Hp extends h.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?h.createElement(Ms.Provider,{value:this.props.routeContext},h.createElement(_h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fp(t){let{routeContext:s,match:r,children:n}=t,a=h.useContext(Lc);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Ms.Provider,{value:s},n)}function Vp(t,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var l;if(!r)return null;if(r.errors)t=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||Ge(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:p,errors:x}=r,b=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,p)=>{let x,b=!1,f=null,v=null;r&&(x=o&&m.route.id?o[m.route.id]:void 0,f=m.route.errorElement||Op,c&&(d<0&&p===0?(b=!0,v=null):d===p&&(b=!0,v=m.route.hydrateFallbackElement||null)));let N=s.concat(i.slice(0,p+1)),g=()=>{let y;return x?y=f:b?y=v:m.route.Component?y=h.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=u,h.createElement(Fp,{match:m,routeContext:{outlet:u,matches:N,isDataRoute:r!=null},children:y})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?h.createElement(Hp,{location:r.location,revalidation:r.revalidation,component:f,error:x,children:g(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):g()},null)}var Gh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Gh||{}),vl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vl||{});function $p(t){let s=h.useContext(Lc);return s||Ge(!1),s}function Up(t){let s=h.useContext(Ap);return s||Ge(!1),s}function _p(t){let s=h.useContext(Ms);return s||Ge(!1),s}function Wh(t){let s=_p(),r=s.matches[s.matches.length-1];return r.route.id||Ge(!1),r.route.id}function qp(){var t;let s=h.useContext(_h),r=Up(vl.UseRouteError),n=Wh(vl.UseRouteError);return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function Kp(){let{router:t}=$p(Gh.UseNavigateStable),s=Wh(vl.UseNavigateStable),r=h.useRef(!1);return qh(()=>{r.current=!0}),h.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,aa({fromRouteId:s},l)))},[t,s])}function Gp(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Co(t){let{to:s,replace:r,state:n,relative:a}=t;mn()||Ge(!1);let{future:l,static:i}=h.useContext(lr),{matches:o}=h.useContext(Ms),{pathname:c}=Ut(),d=le(),u=Mc(s,Ic(o,l.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:a}),[d,m,a,r,n]),null}function ae(t){Ge(!1)}function Wp(t){let{basename:s="/",children:r=null,location:n,navigationType:a=Us.Pop,navigator:l,static:i=!1,future:o}=t;mn()&&Ge(!1);let c=s.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:l,static:i,future:aa({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=dn(n));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:b="default"}=n,f=h.useMemo(()=>{let v=Ac(u,c);return v==null?null:{location:{pathname:v,search:m,hash:p,state:x,key:b},navigationType:a}},[c,u,m,p,x,b,a]);return f==null?null:h.createElement(lr.Provider,{value:d},h.createElement(Vl.Provider,{children:r,value:f}))}function Yp(t){let{children:s,location:r}=t;return Lp(So(s),r)}new Promise(()=>{});function So(t,s){s===void 0&&(s=[]);let r=[];return h.Children.forEach(t,(n,a)=>{if(!h.isValidElement(n))return;let l=[...s,a];if(n.type===h.Fragment){r.push.apply(r,So(n.props.children,l));return}n.type!==ae&&Ge(!1),!n.props.index||!n.props.children||Ge(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=So(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Po.apply(this,arguments)}function Qp(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,l;for(l=0;l<n.length;l++)a=n[l],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Xp(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jp(t,s){return t.button===0&&(!s||s==="_self")&&!Xp(t)}function To(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let n=t[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Zp(t,s){let r=To(t);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(l=>{r.append(a,l)})}),r}const ef=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tf="6";try{window.__reactRouterVersion=tf}catch{}const sf="startTransition",lm=Yx[sf];function rf(t){let{basename:s,children:r,future:n,window:a}=t,l=h.useRef();l.current==null&&(l.current=ip({window:a,v5Compat:!0}));let i=l.current,[o,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=h.useCallback(m=>{d&&lm?lm(()=>c(m)):c(m)},[c,d]);return h.useLayoutEffect(()=>i.listen(u),[i,u]),h.useEffect(()=>Gp(n),[n]),h.createElement(Wp,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const nf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",af=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=h.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=s,p=Qp(s,ef),{basename:x}=h.useContext(lr),b,f=!1;if(typeof d=="string"&&af.test(d)&&(b=d,nf))try{let y=new URL(window.location.href),j=d.startsWith("//")?new URL(y.protocol+d):new URL(d),w=Ac(j.pathname,x);j.origin===y.origin&&w!=null?d=w+j.search+j.hash:f=!0}catch{}let v=Ip(d,{relative:a}),N=lf(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:m});function g(y){n&&n(y),y.defaultPrevented||N(y)}return h.createElement("a",Po({},p,{href:b||v,onClick:f||l?n:g,ref:r,target:c}))});var im;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(im||(im={}));var om;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(om||(om={}));function lf(t,s){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=le(),d=Ut(),u=Kh(t,{relative:i});return h.useCallback(m=>{if(Jp(m,r)){m.preventDefault();let p=n!==void 0?n:Nl(d)===Nl(u);c(t,{replace:p,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,n,a,r,t,l,i,o])}function Bc(t){let s=h.useRef(To(t)),r=h.useRef(!1),n=Ut(),a=h.useMemo(()=>Zp(n.search,r.current?null:s.current),[n.search]),l=le(),i=h.useCallback((o,c)=>{const d=To(typeof o=="function"?o(a):o);r.current=!0,l("?"+d,c)},[l,a]);return[a,i]}function Yh(t,s){return function(){return t.apply(s,arguments)}}const{toString:of}=Object.prototype,{getPrototypeOf:zc}=Object,{iterator:$l,toStringTag:Qh}=Symbol,Ul=(t=>s=>{const r=of.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ms=t=>(t=t.toLowerCase(),s=>Ul(s)===t),_l=t=>s=>typeof s===t,{isArray:un}=Array,la=_l("undefined");function cf(t){return t!==null&&!la(t)&&t.constructor!==null&&!la(t.constructor)&&Mt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Xh=ms("ArrayBuffer");function df(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Xh(t.buffer),s}const mf=_l("string"),Mt=_l("function"),Jh=_l("number"),ql=t=>t!==null&&typeof t=="object",uf=t=>t===!0||t===!1,Wa=t=>{if(Ul(t)!=="object")return!1;const s=zc(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Qh in t)&&!($l in t)},hf=ms("Date"),xf=ms("File"),gf=ms("Blob"),pf=ms("FileList"),ff=t=>ql(t)&&Mt(t.pipe),yf=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Mt(t.append)&&((s=Ul(t))==="formdata"||s==="object"&&Mt(t.toString)&&t.toString()==="[object FormData]"))},bf=ms("URLSearchParams"),[jf,Nf,vf,wf]=["ReadableStream","Request","Response","Headers"].map(ms),kf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ga(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),un(t))for(n=0,a=t.length;n<a;n++)s.call(null,t[n],n,t);else{const l=r?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let o;for(n=0;n<i;n++)o=l[n],s.call(null,t[o],o,t)}}function Zh(t,s){s=s.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ex=t=>!la(t)&&t!==hr;function Ro(){const{caseless:t}=ex(this)&&this||{},s={},r=(n,a)=>{const l=t&&Zh(s,a)||a;Wa(s[l])&&Wa(n)?s[l]=Ro(s[l],n):Wa(n)?s[l]=Ro({},n):un(n)?s[l]=n.slice():s[l]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&ga(arguments[n],r);return s}const Cf=(t,s,r,{allOwnKeys:n}={})=>(ga(s,(a,l)=>{r&&Mt(a)?t[l]=Yh(a,r):t[l]=a},{allOwnKeys:n}),t),Sf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Pf=(t,s,r,n)=>{t.prototype=Object.create(s.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},Tf=(t,s,r,n)=>{let a,l,i;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)i=a[l],(!n||n(i,t,s))&&!o[i]&&(s[i]=t[i],o[i]=!0);t=r!==!1&&zc(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Rf=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const n=t.indexOf(s,r);return n!==-1&&n===r},Ef=t=>{if(!t)return null;if(un(t))return t;let s=t.length;if(!Jh(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},Df=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&zc(Uint8Array)),Af=(t,s)=>{const n=(t&&t[$l]).call(t);let a;for(;(a=n.next())&&!a.done;){const l=a.value;s.call(t,l[0],l[1])}},If=(t,s)=>{let r;const n=[];for(;(r=t.exec(s))!==null;)n.push(r);return n},Mf=ms("HTMLFormElement"),Lf=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),cm=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),Bf=ms("RegExp"),tx=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ga(r,(a,l)=>{let i;(i=s(a,l,t))!==!1&&(n[l]=i||a)}),Object.defineProperties(t,n)},zf=t=>{tx(t,(s,r)=>{if(Mt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Mt(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Of=(t,s)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return un(t)?n(t):n(String(t).split(s)),r},Hf=()=>{},Ff=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Vf(t){return!!(t&&Mt(t.append)&&t[Qh]==="FormData"&&t[$l])}const $f=t=>{const s=new Array(10),r=(n,a)=>{if(ql(n)){if(s.indexOf(n)>=0)return;if(!("toJSON"in n)){s[a]=n;const l=un(n)?[]:{};return ga(n,(i,o)=>{const c=r(i,a+1);!la(c)&&(l[o]=c)}),s[a]=void 0,l}}return n};return r(t,0)},Uf=ms("AsyncFunction"),_f=t=>t&&(ql(t)||Mt(t))&&Mt(t.then)&&Mt(t.catch),sx=((t,s)=>t?setImmediate:s?((r,n)=>(hr.addEventListener("message",({source:a,data:l})=>{a===hr&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),hr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Mt(hr.postMessage)),qf=typeof queueMicrotask<"u"?queueMicrotask.bind(hr):typeof process<"u"&&process.nextTick||sx,Kf=t=>t!=null&&Mt(t[$l]),H={isArray:un,isArrayBuffer:Xh,isBuffer:cf,isFormData:yf,isArrayBufferView:df,isString:mf,isNumber:Jh,isBoolean:uf,isObject:ql,isPlainObject:Wa,isReadableStream:jf,isRequest:Nf,isResponse:vf,isHeaders:wf,isUndefined:la,isDate:hf,isFile:xf,isBlob:gf,isRegExp:Bf,isFunction:Mt,isStream:ff,isURLSearchParams:bf,isTypedArray:Df,isFileList:pf,forEach:ga,merge:Ro,extend:Cf,trim:kf,stripBOM:Sf,inherits:Pf,toFlatObject:Tf,kindOf:Ul,kindOfTest:ms,endsWith:Rf,toArray:Ef,forEachEntry:Af,matchAll:If,isHTMLForm:Mf,hasOwnProperty:cm,hasOwnProp:cm,reduceDescriptors:tx,freezeMethods:zf,toObjectSet:Of,toCamelCase:Lf,noop:Hf,toFiniteNumber:Ff,findKey:Zh,global:hr,isContextDefined:ex,isSpecCompliantForm:Vf,toJSONObject:$f,isAsyncFn:Uf,isThenable:_f,setImmediate:sx,asap:qf,isIterable:Kf};function ue(t,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}H.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const rx=ue.prototype,nx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nx[t]={value:t}});Object.defineProperties(ue,nx);Object.defineProperty(rx,"isAxiosError",{value:!0});ue.from=(t,s,r,n,a,l)=>{const i=Object.create(rx);return H.toFlatObject(t,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),ue.call(i,t.message,s,r,n,a),i.cause=t,i.name=t.name,l&&Object.assign(i,l),i};const Gf=null;function Eo(t){return H.isPlainObject(t)||H.isArray(t)}function ax(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function dm(t,s,r){return t?t.concat(s).map(function(a,l){return a=ax(a),!r&&l?"["+a+"]":a}).join(r?".":""):s}function Wf(t){return H.isArray(t)&&!t.some(Eo)}const Yf=H.toFlatObject(H,{},null,function(s){return/^is[A-Z]/.test(s)});function Kl(t,s,r){if(!H.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=H.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!H.isUndefined(v[f])});const n=r.metaTokens,a=r.visitor||u,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(s);if(!H.isFunction(a))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(H.isDate(b))return b.toISOString();if(!c&&H.isBlob(b))throw new ue("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(b)||H.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,f,v){let N=b;if(b&&!v&&typeof b=="object"){if(H.endsWith(f,"{}"))f=n?f:f.slice(0,-2),b=JSON.stringify(b);else if(H.isArray(b)&&Wf(b)||(H.isFileList(b)||H.endsWith(f,"[]"))&&(N=H.toArray(b)))return f=ax(f),N.forEach(function(y,j){!(H.isUndefined(y)||y===null)&&s.append(i===!0?dm([f],j,l):i===null?f:f+"[]",d(y))}),!1}return Eo(b)?!0:(s.append(dm(v,f,l),d(b)),!1)}const m=[],p=Object.assign(Yf,{defaultVisitor:u,convertValue:d,isVisitable:Eo});function x(b,f){if(!H.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(b),H.forEach(b,function(N,g){(!(H.isUndefined(N)||N===null)&&a.call(s,N,H.isString(g)?g.trim():g,f,p))===!0&&x(N,f?f.concat(g):[g])}),m.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return x(t),s}function mm(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function Oc(t,s){this._pairs=[],t&&Kl(t,this,s)}const lx=Oc.prototype;lx.append=function(s,r){this._pairs.push([s,r])};lx.toString=function(s){const r=s?function(n){return s.call(this,n,mm)}:mm;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Qf(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ix(t,s,r){if(!s)return t;const n=r&&r.encode||Qf;H.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(s,r):l=H.isURLSearchParams(s)?s.toString():new Oc(s,r).toString(n),l){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class um{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){H.forEach(this.handlers,function(n){n!==null&&s(n)})}}const ox={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xf=typeof URLSearchParams<"u"?URLSearchParams:Oc,Jf=typeof FormData<"u"?FormData:null,Zf=typeof Blob<"u"?Blob:null,ey={isBrowser:!0,classes:{URLSearchParams:Xf,FormData:Jf,Blob:Zf},protocols:["http","https","file","blob","url","data"]},Hc=typeof window<"u"&&typeof document<"u",Do=typeof navigator=="object"&&navigator||void 0,ty=Hc&&(!Do||["ReactNative","NativeScript","NS"].indexOf(Do.product)<0),sy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ry=Hc&&window.location.href||"http://localhost",ny=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hc,hasStandardBrowserEnv:ty,hasStandardBrowserWebWorkerEnv:sy,navigator:Do,origin:ry},Symbol.toStringTag,{value:"Module"})),ft={...ny,...ey};function ay(t,s){return Kl(t,new ft.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,l){return ft.isNode&&H.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},s))}function ly(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function iy(t){const s={},r=Object.keys(t);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],s[l]=t[l];return s}function cx(t){function s(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&H.isArray(a)?a.length:i,c?(H.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!H.isObject(a[i]))&&(a[i]=[]),s(r,n,a[i],l)&&H.isArray(a[i])&&(a[i]=iy(a[i])),!o)}if(H.isFormData(t)&&H.isFunction(t.entries)){const r={};return H.forEachEntry(t,(n,a)=>{s(ly(n),a,r,0)}),r}return null}function oy(t,s,r){if(H.isString(t))try{return(s||JSON.parse)(t),H.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const pa={transitional:ox,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=H.isObject(s);if(l&&H.isHTMLForm(s)&&(s=new FormData(s)),H.isFormData(s))return a?JSON.stringify(cx(s)):s;if(H.isArrayBuffer(s)||H.isBuffer(s)||H.isStream(s)||H.isFile(s)||H.isBlob(s)||H.isReadableStream(s))return s;if(H.isArrayBufferView(s))return s.buffer;if(H.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ay(s,this.formSerializer).toString();if((o=H.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Kl(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),oy(s)):s}],transformResponse:[function(s){const r=this.transitional||pa.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(H.isResponse(s)||H.isReadableStream(s))return s;if(s&&H.isString(s)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s)}catch(o){if(i)throw o.name==="SyntaxError"?ue.from(o,ue.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{pa.headers[t]={}});const cy=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dy=t=>{const s={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||s[r]&&cy[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},hm=Symbol("internals");function Sn(t){return t&&String(t).trim().toLowerCase()}function Ya(t){return t===!1||t==null?t:H.isArray(t)?t.map(Ya):String(t)}function my(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)s[n[1]]=n[2];return s}const uy=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ci(t,s,r,n,a){if(H.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!H.isString(s)){if(H.isString(n))return s.indexOf(n)!==-1;if(H.isRegExp(n))return n.test(s)}}function hy(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function xy(t,s){const r=H.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,l,i){return this[n].call(this,s,a,l,i)},configurable:!0})})}class Lt{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function l(o,c,d){const u=Sn(c);if(!u)throw new Error("header name must be a non-empty string");const m=H.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=Ya(o))}const i=(o,c)=>H.forEach(o,(d,u)=>l(d,u,c));if(H.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(H.isString(s)&&(s=s.trim())&&!uy(s))i(dy(s),r);else if(H.isObject(s)&&H.isIterable(s)){let o={},c,d;for(const u of s){if(!H.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?H.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,r)}else s!=null&&l(r,s,n);return this}get(s,r){if(s=Sn(s),s){const n=H.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return my(a);if(H.isFunction(r))return r.call(this,a,n);if(H.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Sn(s),s){const n=H.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||Ci(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function l(i){if(i=Sn(i),i){const o=H.findKey(n,i);o&&(!r||Ci(n,n[o],o,r))&&(delete n[o],a=!0)}}return H.isArray(s)?s.forEach(l):l(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!s||Ci(this,this[l],l,s,!0))&&(delete this[l],a=!0)}return a}normalize(s){const r=this,n={};return H.forEach(this,(a,l)=>{const i=H.findKey(n,l);if(i){r[i]=Ya(a),delete r[l];return}const o=s?hy(l):String(l).trim();o!==l&&delete r[l],r[o]=Ya(a),n[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return H.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&H.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[hm]=this[hm]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Sn(i);n[o]||(xy(a,i),n[o]=!0)}return H.isArray(s)?s.forEach(l):l(s),this}}Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Lt.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[r]=n}}});H.freezeMethods(Lt);function Si(t,s){const r=this||pa,n=s||r,a=Lt.from(n.headers);let l=n.data;return H.forEach(t,function(o){l=o.call(r,l,a.normalize(),s?s.status:void 0)}),a.normalize(),l}function dx(t){return!!(t&&t.__CANCEL__)}function hn(t,s,r){ue.call(this,t??"canceled",ue.ERR_CANCELED,s,r),this.name="CanceledError"}H.inherits(hn,ue,{__CANCEL__:!0});function mx(t,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):s(new ue("Request failed with status code "+r.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function gy(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function py(t,s){t=t||10;const r=new Array(t),n=new Array(t);let a=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=n[l];i||(i=d),r[a]=c,n[a]=d;let m=l,p=0;for(;m!==a;)p+=r[m++],m=m%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),d-i<s)return;const x=u&&d-u;return x?Math.round(p*1e3/x):void 0}}function fy(t,s){let r=0,n=1e3/s,a,l;const i=(d,u=Date.now())=>{r=u,a=null,l&&(clearTimeout(l),l=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),m=u-r;m>=n?i(d,u):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},n-m)))},()=>a&&i(a)]}const wl=(t,s,r=3)=>{let n=0;const a=py(50,250);return fy(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,d=a(c),u=i<=o;n=i;const m={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(m)},r)},xm=(t,s)=>{const r=t!=null;return[n=>s[0]({lengthComputable:r,total:t,loaded:n}),s[1]]},gm=t=>(...s)=>H.asap(()=>t(...s)),yy=ft.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,ft.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,by=ft.hasStandardBrowserEnv?{write(t,s,r,n,a,l){const i=[t+"="+encodeURIComponent(s)];H.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),H.isString(n)&&i.push("path="+n),H.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jy(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ny(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function ux(t,s,r){let n=!jy(s);return t&&(n||r==!1)?Ny(t,s):s}const pm=t=>t instanceof Lt?{...t}:t;function kr(t,s){s=s||{};const r={};function n(d,u,m,p){return H.isPlainObject(d)&&H.isPlainObject(u)?H.merge.call({caseless:p},d,u):H.isPlainObject(u)?H.merge({},u):H.isArray(u)?u.slice():u}function a(d,u,m,p){if(H.isUndefined(u)){if(!H.isUndefined(d))return n(void 0,d,m,p)}else return n(d,u,m,p)}function l(d,u){if(!H.isUndefined(u))return n(void 0,u)}function i(d,u){if(H.isUndefined(u)){if(!H.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,m){if(m in s)return n(d,u);if(m in t)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,m)=>a(pm(d),pm(u),m,!0)};return H.forEach(Object.keys(Object.assign({},t,s)),function(u){const m=c[u]||a,p=m(t[u],s[u],u);H.isUndefined(p)&&m!==o||(r[u]=p)}),r}const hx=t=>{const s=kr({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=s;s.headers=i=Lt.from(i),s.url=ix(ux(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(H.isFormData(r)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ft.hasStandardBrowserEnv&&(n&&H.isFunction(n)&&(n=n(s)),n||n!==!1&&yy(s.url))){const d=a&&l&&by.read(l);d&&i.set(a,d)}return s},vy=typeof XMLHttpRequest<"u",wy=vy&&function(t){return new Promise(function(r,n){const a=hx(t);let l=a.data;const i=Lt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,m,p,x,b;function f(){x&&x(),b&&b(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function N(){if(!v)return;const y=Lt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:y,config:t,request:v};mx(function(k){r(k),f()},function(k){n(k),f()},w),v=null}"onloadend"in v?v.onloadend=N:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(N)},v.onabort=function(){v&&(n(new ue("Request aborted",ue.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new ue("Network Error",ue.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||ox;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new ue(j,w.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,v)),v=null},l===void 0&&i.setContentType(null),"setRequestHeader"in v&&H.forEach(i.toJSON(),function(j,w){v.setRequestHeader(w,j)}),H.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),o&&o!=="json"&&(v.responseType=a.responseType),d&&([p,b]=wl(d,!0),v.addEventListener("progress",p)),c&&v.upload&&([m,x]=wl(c),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(u=y=>{v&&(n(!y||y.type?new hn(null,t,v):y),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const g=gy(a.url);if(g&&ft.protocols.indexOf(g)===-1){n(new ue("Unsupported protocol "+g+":",ue.ERR_BAD_REQUEST,t));return}v.send(l||null)})},ky=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let n=new AbortController,a;const l=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof ue?u:new hn(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,l(new ue(`timeout ${s} of ms exceeded`,ue.ETIMEDOUT))},s);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),t=null)};t.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>H.asap(o),c}},Cy=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let n=0,a;for(;n<r;)a=n+s,yield t.slice(n,a),n=a},Sy=async function*(t,s){for await(const r of Py(t))yield*Cy(r,s)},Py=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},fm=(t,s,r,n)=>{const a=Sy(t,s);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let m=u.byteLength;if(r){let p=l+=m;r(p)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Gl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xx=Gl&&typeof ReadableStream=="function",Ty=Gl&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),gx=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Ry=xx&&gx(()=>{let t=!1;const s=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),ym=64*1024,Ao=xx&&gx(()=>H.isReadableStream(new Response("").body)),kl={stream:Ao&&(t=>t.body)};Gl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!kl[s]&&(kl[s]=H.isFunction(t[s])?r=>r[s]():(r,n)=>{throw new ue(`Response type '${s}' is not supported`,ue.ERR_NOT_SUPPORT,n)})})})(new Response);const Ey=async t=>{if(t==null)return 0;if(H.isBlob(t))return t.size;if(H.isSpecCompliantForm(t))return(await new Request(ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(H.isArrayBufferView(t)||H.isArrayBuffer(t))return t.byteLength;if(H.isURLSearchParams(t)&&(t=t+""),H.isString(t))return(await Ty(t)).byteLength},Dy=async(t,s)=>{const r=H.toFiniteNumber(t.getContentLength());return r??Ey(s)},Ay=Gl&&(async t=>{let{url:s,method:r,data:n,signal:a,cancelToken:l,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:m="same-origin",fetchOptions:p}=hx(t);d=d?(d+"").toLowerCase():"text";let x=ky([a,l&&l.toAbortSignal()],i),b;const f=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let v;try{if(c&&Ry&&r!=="get"&&r!=="head"&&(v=await Dy(u,n))!==0){let w=new Request(s,{method:"POST",body:n,duplex:"half"}),C;if(H.isFormData(n)&&(C=w.headers.get("content-type"))&&u.setContentType(C),w.body){const[k,S]=xm(v,wl(gm(c)));n=fm(w.body,ym,k,S)}}H.isString(m)||(m=m?"include":"omit");const N="credentials"in Request.prototype;b=new Request(s,{...p,signal:x,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:N?m:void 0});let g=await fetch(b);const y=Ao&&(d==="stream"||d==="response");if(Ao&&(o||y&&f)){const w={};["status","statusText","headers"].forEach(P=>{w[P]=g[P]});const C=H.toFiniteNumber(g.headers.get("content-length")),[k,S]=o&&xm(C,wl(gm(o),!0))||[];g=new Response(fm(g.body,ym,k,()=>{S&&S(),f&&f()}),w)}d=d||"text";let j=await kl[H.findKey(kl,d)||"text"](g,t);return!y&&f&&f(),await new Promise((w,C)=>{mx(w,C,{data:j,headers:Lt.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:b})})}catch(N){throw f&&f(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,t,b),{cause:N.cause||N}):ue.from(N,N&&N.code,t,b)}}),Io={http:Gf,xhr:wy,fetch:Ay};H.forEach(Io,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const bm=t=>`- ${t}`,Iy=t=>H.isFunction(t)||t===null||t===!1,px={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:s}=t;let r,n;const a={};for(let l=0;l<s;l++){r=t[l];let i;if(n=r,!Iy(r)&&(n=Io[(i=String(r)).toLowerCase()],n===void 0))throw new ue(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+l]=n}if(!n){const l=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=s?l.length>1?`since :
`+l.map(bm).join(`
`):" "+bm(l[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Io};function Pi(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hn(null,t)}function jm(t){return Pi(t),t.headers=Lt.from(t.headers),t.data=Si.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),px.getAdapter(t.adapter||pa.adapter)(t).then(function(n){return Pi(t),n.data=Si.call(t,t.transformResponse,n),n.headers=Lt.from(n.headers),n},function(n){return dx(n)||(Pi(t),n&&n.response&&(n.response.data=Si.call(t,t.transformResponse,n.response),n.response.headers=Lt.from(n.response.headers))),Promise.reject(n)})}const fx="1.9.0",Wl={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Wl[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const Nm={};Wl.transitional=function(s,r,n){function a(l,i){return"[Axios v"+fx+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(s===!1)throw new ue(a(i," has been removed"+(r?" in "+r:"")),ue.ERR_DEPRECATED);return r&&!Nm[i]&&(Nm[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};Wl.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function My(t,s,r){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const l=n[a],i=s[l];if(i){const o=t[l],c=o===void 0||i(o,l,t);if(c!==!0)throw new ue("option "+l+" must be "+c,ue.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ue("Unknown option "+l,ue.ERR_BAD_OPTION)}}const Qa={assertOptions:My,validators:Wl},hs=Qa.validators;class fr{constructor(s){this.defaults=s||{},this.interceptors={request:new um,response:new um}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=kr(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&Qa.assertOptions(n,{silentJSONParsing:hs.transitional(hs.boolean),forcedJSONParsing:hs.transitional(hs.boolean),clarifyTimeoutError:hs.transitional(hs.boolean)},!1),a!=null&&(H.isFunction(a)?r.paramsSerializer={serialize:a}:Qa.assertOptions(a,{encode:hs.function,serialize:hs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qa.assertOptions(r,{baseUrl:hs.spelling("baseURL"),withXsrfToken:hs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&H.merge(l.common,l[r.method]);l&&H.forEach(["delete","get","head","post","put","patch","common"],b=>{delete l[b]}),r.headers=Lt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(c=c&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let u,m=0,p;if(!c){const b=[jm.bind(this),void 0];for(b.unshift.apply(b,o),b.push.apply(b,d),p=b.length,u=Promise.resolve(r);m<p;)u=u.then(b[m++],b[m++]);return u}p=o.length;let x=r;for(m=0;m<p;){const b=o[m++],f=o[m++];try{x=b(x)}catch(v){f.call(this,v);break}}try{u=jm.call(this,x)}catch(b){return Promise.reject(b)}for(m=0,p=d.length;m<p;)u=u.then(d[m++],d[m++]);return u}getUri(s){s=kr(this.defaults,s);const r=ux(s.baseURL,s.url,s.allowAbsoluteUrls);return ix(r,s.params,s.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(s){fr.prototype[s]=function(r,n){return this.request(kr(n||{},{method:s,url:r,data:(n||{}).data}))}});H.forEach(["post","put","patch"],function(s){function r(n){return function(l,i,o){return this.request(kr(o||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}fr.prototype[s]=r(),fr.prototype[s+"Form"]=r(!0)});class Fc{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},s(function(l,i,o){n.reason||(n.reason=new hn(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Fc(function(a){s=a}),cancel:s}}}function Ly(t){return function(r){return t.apply(null,r)}}function By(t){return H.isObject(t)&&t.isAxiosError===!0}const Mo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mo).forEach(([t,s])=>{Mo[s]=t});function yx(t){const s=new fr(t),r=Yh(fr.prototype.request,s);return H.extend(r,fr.prototype,s,{allOwnKeys:!0}),H.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return yx(kr(t,a))},r}const Ye=yx(pa);Ye.Axios=fr;Ye.CanceledError=hn;Ye.CancelToken=Fc;Ye.isCancel=dx;Ye.VERSION=fx;Ye.toFormData=Kl;Ye.AxiosError=ue;Ye.Cancel=Ye.CanceledError;Ye.all=function(s){return Promise.all(s)};Ye.spread=Ly;Ye.isAxiosError=By;Ye.mergeConfig=kr;Ye.AxiosHeaders=Lt;Ye.formToJSON=t=>cx(H.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=px.getAdapter;Ye.HttpStatusCode=Mo;Ye.default=Ye;const bx="http://localhost:8080",M=Ye.create({baseURL:bx,headers:{"Content-Type":"application/json",accept:"*/*"}});M.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));M.interceptors.response.use(t=>t,async t=>{var r;const s=t.config;if(((r=t.response)==null?void 0:r.status)===401&&!s._retry){s._retry=!0;const n=localStorage.getItem("refreshToken");if(n)try{const l=(await Ye.post(`${bx}/auth/refresh`,{refreshToken:n})).data.result.token;return localStorage.setItem("token",l),s.headers.Authorization=`Bearer ${l}`,M(s)}catch(a){return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(a)}else localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login"}return Promise.reject(t)});const tr={login:t=>M.post("/auth/login",t),register:t=>M.post("/auth/register",{password:t.password,name:t.name,username:t.username,email:t.email}),logout:t=>M.post("/auth/logout",{refreshToken:t}),refresh:t=>M.post("/auth/refresh",{refreshToken:t}),verify:t=>M.post("/auth/verify",{token:t}),forgotPassword:t=>M.post("/auth/forgot-password",t),newPassword:t=>M.post("/auth/new-password",t),confirmEmail:t=>M.post("/auth/confirm-email",t),resendCode:t=>M.post("/auth/resend-code",t)},Nt={getMe:()=>M.get("/users/me"),getUser:t=>M.get(`/users/${t}`),updateUser:(t,s)=>M.put(`/users/${t}`,s),updateMyProfile:t=>M.put("/users/profile",t),updateMyPassword:t=>M.put("/users/password",t),updatePassword:(t,s)=>M.put(`/users/${t}/password`,s),adminUpdatePassword:(t,s)=>M.put(`/users/admin/${t}/password`,s),updateUserRoles:(t,s)=>M.put(`/users/role/${t}`,s),requestHost:()=>M.post("/users/request-host"),approveHostRequest:t=>M.put(`/users/approve-host/${t}`),deleteUser:t=>M.delete(`/users/${t}`),getAllUsers:(t=0,s=5,r="id")=>M.get("/users",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getHosts:(t=0,s=100,r="name")=>M.get("/users/hosts",{params:{pageNumber:t,pageSize:s,sortBy:r}})},zy={getAllRoles:(t=0,s=100,r="id")=>M.get("/roles",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getRole:t=>M.get(`/roles/${t}`),getRoleByName:t=>M.get(`/roles/name/${t}`)},me={getHotelDetails:t=>M.get(`/hotels/${t}`),searchHotels:(t,s=0,r=10,n="name")=>M.get("/hotels/search",{params:{keyword:t,pageNumber:s,pageSize:r,sortBy:n}}),getHotelsByCity:(t,s=0,r=10,n="name")=>M.get(`/hotels/city/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getHotelsByCountry:(t,s=0,r=10,n="name")=>M.get(`/hotels/country/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getHotelsByStarRating:(t,s=0,r=10,n="name")=>M.get(`/hotels/rating/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getActiveHotels:(t=0,s=10,r="name")=>M.get("/hotels/active",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getFeaturedHotels:(t=0,s=10,r="name")=>M.get("/hotels/featured",{params:{pageNumber:t,pageSize:s,sortBy:r}}),searchHotelsWithFilters:t=>M.get("/hotels/search/filters",{params:t}),getAvailableAmenities:()=>M.get("/hotels/amenities"),getAdminHotels:(t=0,s=10,r="id")=>M.get("/hotels/admin",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getAdminHotelsWithFilters:t=>M.get("/hotels/admin/filter",{params:t}),createHotelByAdmin:t=>M.post("/hotels/admin",t),updateHotelByAdmin:(t,s)=>M.put(`/hotels/admin/${t}`,s),deleteHotelByAdmin:t=>M.delete(`/hotels/admin/${t}`),toggleHotelStatus:t=>M.put(`/hotels/admin/${t}/toggle-status`),toggleHotelFeatured:t=>M.put(`/hotels/admin/${t}/toggle-featured`),getHotelsByOwner:(t,s=0,r=10,n="id")=>M.get(`/hotels/admin/owner/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getTotalHotelsCount:()=>M.get("/hotels/admin/stats/total"),getActiveHotelsCount:()=>M.get("/hotels/admin/stats/active"),getFeaturedHotelsCount:()=>M.get("/hotels/admin/stats/featured"),getHotelsCountByOwner:t=>M.get(`/hotels/admin/stats/owner/${t}`),getMyHotels:(t=0,s=10,r="id")=>M.get("/hotels/host",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getMyHotelsWithFilters:t=>M.get("/hotels/host/filter",{params:t}),getMyHotelById:t=>M.get(`/hotels/host/${t}`),createMyHotel:t=>M.post("/hotels/host",t),updateMyHotel:(t,s)=>M.put(`/hotels/host/${t}`,s),deleteMyHotel:t=>M.delete(`/hotels/host/${t}`),toggleMyHotelStatus:t=>M.put(`/hotels/host/${t}/toggle-status`),getMyHotelsCount:()=>M.get("/hotels/host/stats/total"),getMyActiveHotelsCount:()=>M.get("/hotels/host/stats/active"),getAllHotels:(t=0,s=10)=>M.get("/hotels/active",{params:{pageNumber:t,pageSize:s}}),getAdminHotelById:t=>M.get(`/hotels/${t}`),createHostHotel:t=>M.post("/hotels/host",t),getHostHotelById:t=>M.get(`/hotels/host/${t}`),updateHostHotel:(t,s)=>M.put(`/hotels/host/${t}`,s),deleteHostHotel:t=>M.delete(`/hotels/host/${t}`)},jt={getAllRoomTypes:(t=0,s=10,r="createdAt")=>M.get("/room-types/admin",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getAllRoomTypesWithFilters:t=>M.get("/room-types/admin/filter",{params:t}),getRoomTypeById:t=>M.get(`/room-types/${t}`),createRoomType:t=>M.post("/room-types/admin",t),updateRoomType:(t,s)=>M.put(`/room-types/admin/${t}`,s),deleteRoomType:t=>M.delete(`/room-types/admin/${t}`),getRoomTypesByHotel:(t,s=0,r=10,n="name")=>M.get(`/room-types/hotel/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getAvailableRoomTypesByHotel:(t,s=0,r=10,n="pricePerNight")=>M.get(`/room-types/hotel/${t}/available`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),searchRoomTypes:(t,s=0,r=10,n="name")=>M.get("/room-types/search",{params:{keyword:t,pageNumber:s,pageSize:r,sortBy:n}}),getRoomTypesByOccupancy:(t,s=0,r=10,n="name")=>M.get(`/room-types/occupancy/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getRoomTypesByPriceRange:t=>M.get("/room-types/price-range",{params:t}),getAvailableRoomTypes:(t=0,s=10,r="pricePerNight")=>M.get("/room-types/available",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getTotalRoomTypesCount:()=>M.get("/room-types/admin/stats/total"),getActiveRoomTypesCount:()=>M.get("/room-types/admin/stats/active"),getRoomTypesCountByHotel:t=>M.get(`/room-types/admin/stats/hotel/${t}`),toggleRoomTypeStatus:t=>M.patch(`/room-types/admin/${t}/toggle-status`)},bs={getMyRoomTypes:(t=0,s=10,r="name")=>M.get("/room-types/host/my-room-types",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getMyHotelRoomTypes:(t,s=0,r=10,n="name")=>M.get(`/room-types/host/hotel/${t}/room-types`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getMyRoomTypeById:t=>M.get(`/room-types/host/${t}`),createMyRoomType:t=>M.post("/room-types/host",t),updateMyRoomType:(t,s)=>M.put(`/room-types/host/${t}`,s),deleteMyRoomType:t=>M.delete(`/room-types/host/${t}`)},Wt={getAllReviews:(t=0,s=10,r="createdAt")=>M.get("/reviews/admin",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getAllReviewsWithFilters:t=>M.get("/reviews/admin/filter",{params:t}),deleteReview:t=>M.delete(`/reviews/admin/${t}`),getReviewsByUser:(t,s=0,r=10,n="createdAt")=>M.get(`/reviews/admin/user/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getReviewById:t=>M.get(`/reviews/${t}`),getReviewsByHotel:(t,s=0,r=10,n="createdAt")=>M.get(`/reviews/hotel/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),getHotelAverageRating:t=>M.get(`/reviews/hotel/${t}/average-rating`),getReviewsByRating:(t,s=0,r=10,n="createdAt")=>M.get(`/reviews/rating/${t}`,{params:{pageNumber:s,pageSize:r,sortBy:n}}),searchReviews:(t,s=0,r=10,n="createdAt")=>M.get("/reviews/search",{params:{keyword:t,pageNumber:s,pageSize:r,sortBy:n}}),createReview:t=>M.post("/reviews",t),updateMyReview:(t,s)=>M.put(`/reviews/${t}`,s),deleteMyReview:t=>M.delete(`/reviews/${t}`),getMyReviews:(t=0,s=10,r="createdAt")=>M.get("/reviews/my",{params:{pageNumber:t,pageSize:s,sortBy:r}}),getTotalReviewsCount:()=>M.get("/reviews/admin/stats/total"),getApprovedReviewsCount:()=>M.get("/reviews/admin/stats/approved"),getVerifiedReviewsCount:()=>M.get("/reviews/admin/stats/verified"),getReviewsCountByHotel:t=>M.get(`/reviews/admin/stats/hotel/${t}`),getReviewsCountByUser:t=>M.get(`/reviews/admin/stats/user/${t}`)},Oy={getDashboard:()=>M.get("/admin/dashboard"),getHotelStats:()=>M.get("/admin/stats/hotels"),getRoomTypeStats:()=>M.get("/admin/stats/room-types"),getReviewStats:()=>M.get("/admin/stats/reviews"),getUserStats:()=>M.get("/admin/stats/users")},jx={getDashboard:()=>M.get("/host/dashboard"),getHotelStats:()=>M.get("/hotels/host/stats"),getBookingStats:()=>M.get("/bookings/host/stats"),getRevenueStats:(t,s)=>M.get("/bookings/host/revenue-stats",{params:{year:t,month:s}}),getRecentBookings:(t=10)=>M.get("/bookings/host/recent",{params:{limit:t}}),getOccupancyStats:t=>M.get("/bookings/host/occupancy-stats",{params:{hotelId:t}}),getReviewStats:()=>M.get("/reviews/host/stats")},Ne={getHostBookings:t=>M.get("/bookings/host",{params:t}),getHostBookingById:t=>M.get(`/bookings/host/${t}`),updateHostBooking:(t,s)=>M.put(`/bookings/host/${t}`,s),confirmBooking:t=>M.patch(`/bookings/host/${t}/confirm`),cancelBooking:(t,s)=>M.patch(`/bookings/host/${t}/cancel`,{reason:s}),completeBooking:t=>M.patch(`/bookings/host/${t}/complete`),confirmPayment:t=>M.patch(`/bookings/host/${t}/confirm-payment`),processCancellation:(t,s)=>M.patch(`/bookings/host/${t}/process-cancellation`,s),createBooking:t=>M.post("/bookings",t),getMyBookings:t=>M.get("/bookings/my",{params:{...t,_t:Date.now()}}),getMyBookingById:t=>M.get(`/bookings/my/${t}`,{params:{_t:Date.now()}}),updateMyBooking:(t,s)=>M.put(`/bookings/my/${t}`,s),cancelMyBooking:(t,s)=>M.patch(`/bookings/my/${t}/cancel`,{reason:s}),getAllBookings:t=>M.get("/bookings/admin",{params:t}),getBookingById:t=>M.get(`/bookings/admin/${t}`),updateBooking:(t,s)=>M.put(`/bookings/admin/${t}`,s),deleteBooking:t=>M.delete(`/bookings/admin/${t}`),adminConfirmPayment:t=>M.patch(`/bookings/admin/${t}/confirm-payment`),getBookingStats:()=>M.get("/bookings/stats"),getHostBookingStats:()=>M.get("/bookings/host/stats"),searchBookings:(t,s)=>M.get("/bookings/search",{params:{...s,keyword:t}}),getBookingsByDateRange:(t,s,r)=>M.get("/bookings/date-range",{params:{...r,startDate:t,endDate:s}}),getBookingsByHotel:(t,s)=>M.get(`/bookings/hotel/${t}`,{params:s}),checkRoomAvailability:(t,s,r)=>M.get("/bookings/check-availability",{params:{roomTypeId:t,checkInDate:s,checkOutDate:r}}),getTotalBookingsCount:()=>M.get("/bookings/admin/stats/total"),getHostBookingsCount:()=>M.get("/bookings/host/stats/total")},ks={getAllVouchers:t=>M.get("/vouchers/admin",{params:t}),createVoucher:t=>M.post("/vouchers/admin",t),updateVoucher:(t,s)=>M.put(`/vouchers/admin/${t}`,s),deleteVoucher:t=>M.delete(`/vouchers/admin/${t}`),getVoucherById:t=>M.get(`/vouchers/admin/${t}`),toggleVoucherStatus:t=>M.patch(`/vouchers/admin/${t}/toggle-status`),searchVouchers:(t,s)=>M.get("/vouchers/admin/search",{params:{...s,keyword:t}}),getVoucherStats:()=>M.get("/vouchers/admin/stats"),getTotalVouchersCount:()=>M.get("/vouchers/admin/stats/total"),getActiveVouchersCount:()=>M.get("/vouchers/admin/stats/active"),getExpiredVouchersCount:()=>M.get("/vouchers/admin/stats/expired"),getUsedUpVouchersCount:()=>M.get("/vouchers/admin/stats/used-up"),getTotalDiscountAmount:()=>M.get("/vouchers/admin/stats/discount-amount"),getTotalUsageCount:()=>M.get("/vouchers/admin/stats/usage-count"),validateVoucher:t=>M.post("/vouchers/validate",t),getVoucherByCode:t=>M.get(`/vouchers/code/${t}`),getAvailableVouchersForHotel:t=>M.get(`/vouchers/hotel/${t}/available`),applyVoucherToBooking:t=>M.post("/vouchers/apply",t)},Ti={uploadImage:t=>{const s=new FormData;return s.append("file",t),M.post("/api/upload/image",s,{headers:{"Content-Type":"multipart/form-data"}})},uploadHotelImage:t=>{const s=new FormData;return s.append("file",t),M.post("/api/upload/hotel-image",s,{headers:{"Content-Type":"multipart/form-data"}})},uploadRoomImage:t=>{const s=new FormData;return s.append("file",t),M.post("/api/upload/room-image",s,{headers:{"Content-Type":"multipart/form-data"}})},uploadMultipleImages:t=>{const s=new FormData;return t.forEach((r,n)=>{s.append("files",r)}),M.post("/api/upload/images/multiple",s,{headers:{"Content-Type":"multipart/form-data"}})},deleteImage:t=>M.delete("/api/upload/image",{params:{imageUrl:t}}),testUpload:()=>M.get("/api/upload/test")},Hy={createPayment:t=>M.post("/payment/vnpay/create",t),getPaymentStatus:t=>M.get(`/payment/vnpay/status/${t}`),getReturnResult:t=>M.get(`/payment/vnpay/return?${t.toString()}`),linkPaymentToBooking:(t,s)=>M.post("/payment/vnpay/link-booking",null,{params:{txnRef:t,bookingId:s}})},Nx=h.createContext(void 0),Fy=({children:t})=>{const[s,r]=h.useState(null),[n,a]=h.useState(!0),[l,i]=h.useState(null),o=async()=>{var u,m;try{const p=await Nt.getMe();r(p.data.result),i(null)}catch(p){i(((m=(u=p.response)==null?void 0:u.data)==null?void 0:m.message)||"Không thể lấy thông tin người dùng"),r(null)}finally{a(!1)}};h.useEffect(()=>{localStorage.getItem("token")?o():a(!1)},[]);const c=(u,m)=>{localStorage.setItem("token",u),localStorage.setItem("refreshToken",m),o()},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),r(null)};return e.jsx(Nx.Provider,{value:{user:s,loading:n,error:l,login:c,logout:d,fetchUserInfo:o},children:t})},ir=()=>{const t=h.useContext(Nx);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,s)=>{const r=h.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>h.createElement("svg",{ref:u,...Vy,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${$y(t)}`,o].join(" "),...d},[...s.map(([m,p])=>h.createElement(m,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ee("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ee("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ee("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ee("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=ee("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ee("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=ee("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=ee("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=ee("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ee("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=ee("MailX",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h9",key:"1j9vog"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m17 17 4 4",key:"1b3523"}],["path",{d:"m21 17-4 4",key:"uinynz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ee("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ee("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ee("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=ee("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=ee("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ee("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=ee("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),xb=({id:t,type:s,title:r,message:n,duration:a=5e3,onClose:l})=>{const[i,o]=h.useState(!1),[c,d]=h.useState(!1),[u,m]=h.useState(100);h.useEffect(()=>{const f=setTimeout(()=>o(!0),10);return()=>clearTimeout(f)},[]),h.useEffect(()=>{if(a>0){const f=Date.now(),v=setInterval(()=>{const g=Date.now()-f,y=Math.max(0,100-g/a*100);m(y),y<=0&&clearInterval(v)},50),N=setTimeout(()=>{p()},a);return()=>{clearInterval(v),clearTimeout(N)}}},[a]);const p=()=>{d(!0),setTimeout(()=>{l(t)},300)},b=(()=>{switch(s){case"success":return{bgColor:"bg-white",borderColor:"border-l-green-500",iconBg:"bg-green-100",iconColor:"text-green-600",icon:e.jsx(kt,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-green-500"};case"error":return{bgColor:"bg-white",borderColor:"border-l-red-500",iconBg:"bg-red-100",iconColor:"text-red-600",icon:e.jsx(he,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-red-500"};case"warning":return{bgColor:"bg-white",borderColor:"border-l-yellow-500",iconBg:"bg-yellow-100",iconColor:"text-yellow-600",icon:e.jsx(As,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-yellow-500"};case"info":return{bgColor:"bg-white",borderColor:"border-l-blue-500",iconBg:"bg-blue-100",iconColor:"text-blue-600",icon:e.jsx(km,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-blue-500"};default:return{bgColor:"bg-white",borderColor:"border-l-gray-500",iconBg:"bg-gray-100",iconColor:"text-gray-600",icon:e.jsx(km,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-gray-500"}}})();return e.jsxs("div",{className:`
        max-w-sm w-full ${b.bgColor} ${b.borderColor} border-l-4 rounded-lg shadow-lg
        transform transition-all duration-300 ease-in-out
        ${i&&!c?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
      `,children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`flex-shrink-0 ${b.iconBg} rounded-full p-2 mr-3`,children:e.jsx("div",{className:b.iconColor,children:b.icon})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-semibold ${b.titleColor} leading-5`,children:r}),n&&e.jsx("p",{className:`mt-1 text-sm ${b.messageColor} leading-5`,children:n})]}),e.jsx("div",{className:"flex-shrink-0 ml-4",children:e.jsxs("button",{onClick:p,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors duration-200",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(ve,{className:"h-5 w-5"})]})})]})}),a>0&&e.jsx("div",{className:"h-1 bg-gray-100 rounded-b-lg overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ease-linear ${b.progressColor}`,style:{width:`${u}%`,transition:"width 50ms linear"}})})]})},Px=h.createContext(void 0),gb=({children:t})=>{const[s,r]=h.useState([]),n=h.useCallback(l=>{r(i=>i.filter(o=>o.id!==l))},[]),a=h.useCallback((l,i,o,c=5e3)=>{const u={id:Math.random().toString(36).substr(2,9),type:l,title:i,message:o,duration:c};r(m=>{const p=[...m,u];return p.length>5?p.slice(-5):p})},[]);return e.jsxs(Px.Provider,{value:{showToast:a,removeToast:n},children:[t,e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3 max-w-sm w-full pointer-events-none",children:e.jsx("div",{className:"space-y-3",children:s.map((l,i)=>e.jsx("div",{className:"pointer-events-auto",style:{transform:`translateY(${i*4}px)`,zIndex:1e3-i},children:e.jsx(xb,{id:l.id,type:l.type,title:l.title,message:l.message,duration:l.duration,onClose:n})},l.id))})})]})},Ce=()=>{const t=h.useContext(Px);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t},Tx=()=>{var x,b;const[t,s]=h.useState(!1),[r,n]=h.useState(!1),{user:a,logout:l}=ir(),{showToast:i}=Ce(),o=le(),c=h.useRef(null);h.useEffect(()=>{const f=v=>{c.current&&!c.current.contains(v.target)&&n(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const d=async()=>{try{n(!1),await l(),i("success","Logout successful","See you again!"),o("/")}catch(f){console.error("Logout failed:",f),i("error","Logout error","An error occurred during logout")}},u=()=>{n(!1)},m=(x=a==null?void 0:a.roles)==null?void 0:x.some(f=>f.name==="ADMIN"),p=(b=a==null?void 0:a.roles)==null?void 0:b.some(f=>f.name==="HOST");return e.jsxs("nav",{className:"bg-white shadow-lg fixed top-0 left-0 right-0 z-40",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsxs(ce,{to:"/",className:"flex-shrink-0 flex items-center",children:[e.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"F"})}),e.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"FBooking"})]}),e.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[e.jsx(ce,{to:"/",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Home"}),e.jsx(ce,{to:"/hotels",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Hotels"}),e.jsx(ce,{to:"/about",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"About"}),e.jsx(ce,{to:"/contact",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Contact"}),m&&e.jsx(ce,{to:"/admin",className:"border-transparent text-blue-600 hover:border-blue-300 hover:text-blue-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Admin"}),p&&e.jsx(ce,{to:"/host",className:"border-transparent text-green-600 hover:border-green-300 hover:text-green-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Host Management"})]})]}),e.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:a?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-lg px-3 py-2 transition-colors",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:a.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"text-sm font-medium",children:a.username}),e.jsx(Tt,{className:`h-4 w-4 transition-transform duration-200 ${r?"rotate-180":""}`})]}),r&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-lg shadow-lg py-2 bg-white ring-1 ring-black ring-opacity-5 z-50 border border-gray-100",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500",children:a.email})]}),e.jsx(ce,{to:"/profile",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{className:"h-4 w-4 mr-3 text-gray-400"}),"Profile"]})}),e.jsx(ce,{to:"/bookings/my",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Bookings"]})}),e.jsx(ce,{to:"/my-reviews",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Reviews"]})}),p&&e.jsx(ce,{to:"/host",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-3 text-gray-400"}),"Host Management"]})}),e.jsx(ce,{to:"/settings",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(sr,{className:"h-4 w-4 mr-3 text-gray-400"}),"Settings"]})}),e.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:e.jsx("button",{onClick:d,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bo,{className:"h-4 w-4 mr-3 text-red-500"}),"Logout"]})})})]})]})}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ce,{to:"/login",className:"text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"}),e.jsx(ce,{to:"/register",className:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign Up"})]})}),e.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:e.jsxs("button",{onClick:()=>s(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),t?e.jsx(ve,{className:"block h-6 w-6"}):e.jsx(Cx,{className:"block h-6 w-6"})]})})]})}),t&&e.jsxs("div",{className:"sm:hidden bg-white border-t border-gray-200",children:[e.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[e.jsx(ce,{to:"/",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",children:"Home"}),e.jsx(ce,{to:"/hotels",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",children:"Hotels"}),e.jsx(ce,{to:"/about",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",children:"About"}),e.jsx(ce,{to:"/contact",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",children:"Contact"}),m&&e.jsx(ce,{to:"/admin",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-blue-600 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-800",children:"Admin"}),p&&e.jsx(ce,{to:"/host",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-green-600 hover:bg-green-50 hover:border-green-300 hover:text-green-800",children:"Host Management"})]}),a?e.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center px-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:a.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-base font-medium text-gray-800",children:a.name}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:a.email})]})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(ce,{to:"/profile",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Profile"]})}),e.jsx(ce,{to:"/bookings",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"h-4 w-4 mr-2"}),"Booking History"]})}),e.jsx(ce,{to:"/my-reviews",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"My Reviews"]})}),e.jsx(ce,{to:"/settings",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(sr,{className:"h-4 w-4 mr-2"}),"Settings"]})}),e.jsx("button",{onClick:d,className:"block w-full text-left px-4 py-2 text-base font-medium text-red-600 hover:text-red-800 hover:bg-red-50",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})]}):e.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(ce,{to:"/login",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Login"}),e.jsx(ce,{to:"/register",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sign Up"})]})})]})]})},Rx=()=>e.jsx("footer",{className:"bg-gray-900 text-white pt-16 pb-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"FBooking"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"The leading hotel booking platform in Vietnam, providing high-quality booking services with great discounts."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(Ma,{icon:e.jsx(Zy,{size:18})}),e.jsx(Ma,{icon:e.jsx(nb,{size:18})}),e.jsx(Ma,{icon:e.jsx(ib,{size:18})}),e.jsx(Ma,{icon:e.jsx(hb,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx(xs,{text:"Home"}),e.jsx(xs,{text:"Find Hotels"}),e.jsx(xs,{text:"Special Offers"}),e.jsx(xs,{text:"About"}),e.jsx(xs,{text:"Contact"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx(xs,{text:"Help Center"}),e.jsx(xs,{text:"FAQ"}),e.jsx(xs,{text:"Privacy Policy"}),e.jsx(xs,{text:"Terms of Service"}),e.jsx(xs,{text:"Refund Policy"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contact"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(Be,{size:18,className:"mr-3 mt-1 text-blue-400"}),e.jsx("span",{className:"text-gray-400",children:"123 Nguyen Hue, District 1, Ho Chi Minh City"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(Le,{size:18,className:"mr-3 text-blue-400"}),e.jsx("span",{className:"text-gray-400",children:"+84 123 456 789"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(De,{size:18,className:"mr-3 text-blue-400"}),e.jsx("span",{className:"text-gray-400",children:"contact@fbooking.com"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 pt-6 text-center",children:e.jsxs("p",{className:"text-gray-500",children:["© ",new Date().getFullYear()," FBooking. All rights reserved."]})})]})}),xs=({text:t})=>e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t})}),Ma=({icon:t})=>e.jsx("a",{href:"#",className:"bg-gray-800 hover:bg-blue-600 transition-colors p-2 rounded-full",children:t}),xe=({children:t,type:s})=>{const r=Ut(),n=le(),{user:a,logout:l}=ir(),[i,o]=h.useState(["Management","Finance"]),[c,d]=h.useState(!1),u=s==="admin",m=()=>{l(),n("/login")},b=u?[{path:"/admin",label:"Overview",icon:e.jsx(an,{size:20})},{label:"Management",icon:e.jsx(tb,{size:20}),subItems:[{path:"/admin/hotels",label:"Hotels",icon:e.jsx(et,{size:20})},{path:"/admin/room-types",label:"Room Types",icon:e.jsx(Ct,{size:20})},{path:"/admin/bookings",label:"Bookings",icon:e.jsx(ds,{size:20})},{path:"/admin/users",label:"Users",icon:e.jsx(ke,{size:20})},{path:"/admin/reviews",label:"Reviews",icon:e.jsx(pe,{size:20})}]},{label:"Finance",icon:e.jsx(Se,{size:20}),subItems:[{path:"/admin/commissions",label:"Commissions",icon:e.jsx(xn,{size:20})},{path:"/admin/invoices",label:"Invoices",icon:e.jsx(os,{size:20})},{path:"/admin/commission-payments",label:"Payments",icon:e.jsx(Ot,{size:20})}]},{path:"/admin/promotions",label:"Promotions",icon:e.jsx(Qt,{size:20})},{path:"/admin/analytics",label:"Analytics",icon:e.jsx(ia,{size:20})},{path:"/admin/settings",label:"Settings",icon:e.jsx(sr,{size:20})}]:[{path:"/host",label:"Overview",icon:e.jsx(an,{size:20})},{path:"/host/hotels",label:"Hotels",icon:e.jsx(et,{size:20})},{path:"/host/room-types",label:"Room Types",icon:e.jsx(Ct,{size:20})},{path:"/host/bookings",label:"Bookings",icon:e.jsx(ds,{size:20})},{path:"/host/calendar",label:"Booking Calendar",icon:e.jsx(ge,{size:20})},{path:"/host/reviews",label:"Reviews",icon:e.jsx(pe,{size:20})},{path:"/host/messages",label:"Messages",icon:e.jsx(Rr,{size:20})},{path:"/host/analytics",label:"Analytics",icon:e.jsx(ia,{size:20})},{path:"/host/settings",label:"Settings",icon:e.jsx(sr,{size:20})}],f=j=>r.pathname===j||r.pathname.startsWith(`${j}/`),v=j=>j.some(w=>f(w.path)),N=j=>{o(w=>w.includes(j)?w.filter(C=>C!==j):[...w,j])},g=j=>{if(j.subItems){const w=i.includes(j.label),C=v(j.subItems);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>N(j.label),className:`sidebar-item menu-item-hover w-full flex items-center justify-between px-4 py-2 text-sm font-medium rounded-md transition-colors ${C?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-3",children:j.icon}),j.label]}),w?e.jsx(Tt,{size:16}):e.jsx(Yl,{size:16})]}),w&&e.jsx("div",{className:"pl-4 space-y-1 animate-in",children:j.subItems.map(k=>e.jsxs(ce,{to:k.path,className:`sidebar-item menu-item-hover flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${f(k.path)?"bg-gray-900 text-white menu-active-indicator":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:()=>d(!1),children:[e.jsx("span",{className:"mr-3",children:k.icon}),k.label]},k.path))})]},j.label)}return e.jsxs(ce,{to:j.path,className:`sidebar-item menu-item-hover flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${f(j.path)?"bg-gray-900 text-white menu-active-indicator":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:()=>d(!1),children:[e.jsx("span",{className:"mr-3",children:j.icon}),j.label]},j.path)},y=()=>{var j;return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 bg-gray-900 px-4",children:[e.jsx(ce,{to:"/",className:"text-xl font-bold text-white",children:u?"Admin Panel":"Host Panel"}),e.jsx("button",{onClick:()=>d(!1),className:"lg:hidden text-white hover:text-gray-300",children:e.jsx(ve,{size:24})})]}),e.jsx("div",{className:"p-4 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full user-avatar-gradient flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-medium text-white",children:(j=a==null?void 0:a.name)==null?void 0:j.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white truncate",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:a==null?void 0:a.email})]})]})}),e.jsx("nav",{className:"sidebar-nav flex-1 p-4 space-y-1 overflow-y-auto",children:b.map(g)}),e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsxs("button",{onClick:()=>{d(!1),m()},className:"w-full flex items-center px-4 py-2 text-sm font-medium text-gray-300 rounded-md hover:bg-gray-700 hover:text-white transition-colors",children:[e.jsx(Bo,{size:20,className:"mr-3"}),"Logout"]})})]})};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-md bg-gray-800 text-white hover:bg-gray-700 transition-colors",children:e.jsx(Cx,{size:24})})}),c&&e.jsx("div",{className:"mobile-overlay lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>d(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 w-64 bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out z-50 ${c?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:e.jsx(y,{})}),e.jsx("div",{className:"lg:pl-64",children:e.jsx("main",{className:"p-4 lg:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:t})})})]})},de=({children:t,requiredRole:s,requireAuth:r=!0})=>{const{user:n,loading:a}=ir(),l=Ut();if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Đang kiểm tra quyền truy cập..."})]})});if(r&&!n)return e.jsx(Co,{to:"/login",state:{from:l},replace:!0});if(s&&n){const i=n.roles.map(o=>o.name);if(!i.includes(s))return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Không có quyền truy cập"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Bạn không có quyền truy cập vào trang này. Trang này yêu cầu quyền ",e.jsx("strong",{children:s}),"."]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Vai trò hiện tại của bạn: ",i.join(", ")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Quay lại"}),e.jsx(Co,{to:"/",replace:!0})]})]})})}return e.jsx(e.Fragment,{children:t})},pb=({onClose:t,checkIn:s,checkOut:r,onDatesChange:n})=>{const[a,l]=h.useState(new Date),[i,o]=h.useState({checkIn:s,checkOut:r}),[c,d]=h.useState(!1);h.useEffect(()=>{o({checkIn:s,checkOut:r})},[s,r]);const u=["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],m=["CN","T2","T3","T4","T5","T6","T7"],p=S=>{const P=S.getFullYear(),R=S.getMonth(),T=new Date(P,R,1),I=new Date(P,R+1,0).getDate(),U=T.getDay(),K=[];for(let q=0;q<U;q++)K.push(null);for(let q=1;q<=I;q++)K.push(new Date(P,R,q));return K},x=S=>{l(P=>{const R=new Date(P);return S==="prev"?R.setMonth(R.getMonth()-1):R.setMonth(R.getMonth()+1),R})},b=S=>{const P=new Date(S);return P.setMonth(P.getMonth()+1),P},f=S=>!i.checkIn&&!i.checkOut?!1:!!(i.checkIn&&g(S,i.checkIn)||i.checkOut&&g(S,i.checkOut)),v=S=>!i.checkIn||!i.checkOut?!1:S>i.checkIn&&S<i.checkOut,N=S=>{const P=new Date;return P.setHours(0,0,0,0),S<P},g=(S,P)=>S.toDateString()===P.toDateString(),y=S=>{N(S)||(!i.checkIn||c?i.checkIn?S>=i.checkIn?(o(P=>({...P,checkOut:S})),d(!1)):(o({checkIn:S,checkOut:void 0}),d(!0)):(o({checkIn:S,checkOut:void 0}),d(!0)):(o({checkIn:S,checkOut:void 0}),d(!0)))},j=()=>{n(i),t()},w=()=>{o({checkIn:void 0,checkOut:void 0}),d(!1)},C=S=>{const P=p(S);return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>x("prev"),className:"p-1 hover:bg-gray-100 rounded",disabled:k(S,new Date),children:e.jsx(oa,{size:16,className:k(S,new Date)?"text-gray-300":"text-gray-600"})}),e.jsxs("div",{className:"font-medium text-gray-900",children:[u[S.getMonth()]," ",S.getFullYear()]}),e.jsx("button",{onClick:()=>x("next"),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Yl,{size:16,className:"text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:m.map(R=>e.jsx("div",{className:"text-xs text-center text-gray-500 py-1 font-medium",children:R},R))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:P.map((R,T)=>{if(!R)return e.jsx("div",{className:"py-2"},T);const E=f(R),I=v(R),U=N(R),K=i.checkIn&&g(R,i.checkIn),q=i.checkOut&&g(R,i.checkOut);return e.jsx("button",{onClick:()=>y(R),disabled:U,className:`
                  py-2 text-sm relative transition-colors
                  ${U?"text-gray-300 cursor-not-allowed":"hover:bg-blue-50 cursor-pointer"}
                  ${E?"bg-blue-500 text-white hover:bg-blue-600":""}
                  ${I?"bg-blue-100 text-blue-700":""}
                  ${K?"rounded-l-md":""}
                  ${q?"rounded-r-md":""}
                  ${E&&!I?"rounded-md":""}
                `,children:R.getDate()},T)})})]})},k=(S,P)=>S.getMonth()===P.getMonth()&&S.getFullYear()===P.getFullYear();return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4 w-full max-w-[600px] md:min-w-[600px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Chọn ngày"}),e.jsx("p",{className:"text-sm text-gray-600",children:i.checkIn?i.checkOut?"Hoàn thành":"Chọn ngày trả phòng":"Chọn ngày nhận phòng"})]}),e.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-1",children:"✕"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[C(a),e.jsx("div",{className:"hidden md:block",children:C(b(a))})]}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsx("button",{onClick:w,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Xóa ngày"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 text-sm font-medium",children:"Hủy"}),e.jsx("button",{onClick:j,disabled:!i.checkIn,className:`px-6 py-2 rounded-md text-sm font-medium ${i.checkIn?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Áp dụng"})]})]})]})},fb=()=>{const t=le(),[s,r]=h.useState(""),[n,a]=h.useState(!1),[l,i]=h.useState(2),[o,c]=h.useState({}),d=()=>{const p=new URLSearchParams;s.trim()&&p.append("city",s.trim()),o.checkIn&&p.append("checkIn",o.checkIn.toISOString().split("T")[0]),o.checkOut&&p.append("checkOut",o.checkOut.toISOString().split("T")[0]),p.append("guests",l.toString()),t(`/hotels${p.toString()?`?${p.toString()}`:""}`)},u=p=>{p.key==="Enter"&&d()},m=()=>{if(o.checkIn&&o.checkOut){const p=o.checkIn.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit"}),x=o.checkOut.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit"});return`${p} - ${x}`}else if(o.checkIn)return o.checkIn.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit"});return"Select dates"};return e.jsxs("section",{className:"relative w-full h-[700px]",children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:"https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg",alt:"Hotel panorama",className:"w-full h-full object-cover object-center"}),e.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),e.jsx("div",{className:"relative w-full h-full flex flex-col justify-center",children:e.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-3",children:["Find the perfect hotel room",e.jsx("br",{}),"for your vacation"]}),e.jsx("p",{className:"text-base md:text-lg text-white/90 mb-6 max-w-xl mx-auto",children:"Explore thousands of hotels and resorts at the best prices"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-4 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1 text-left",children:"Destination"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:p=>r(p.target.value),onKeyPress:u,placeholder:"Where do you want to go?",className:"w-full pl-8 pr-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 text-sm"}),e.jsx(at,{size:16,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1 text-left",children:"Dates"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:()=>a(!n),className:"w-full flex items-center pl-8 pr-3 py-2.5 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-left hover:border-gray-400 transition-colors text-sm",children:e.jsx("span",{className:`${o.checkIn?"text-gray-700":"text-gray-500"}`,children:m()})}),e.jsx(ge,{size:16,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"})]}),n&&e.jsx("div",{className:"absolute z-50 mt-1 left-0 right-0 md:left-0 md:right-auto",children:e.jsx(pb,{onClose:()=>a(!1),checkIn:o.checkIn,checkOut:o.checkOut,onDatesChange:p=>c(p)})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1 text-left",children:"Guests"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:l,onChange:p=>i(parseInt(p.target.value)),className:"w-full pl-8 pr-6 py-2.5 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 bg-white hover:border-gray-400 transition-colors text-sm",children:[1,2,3,4,5,6,7,8].map(p=>e.jsxs("option",{value:p,children:[p," guest",p>1?"s":""]},p))}),e.jsx(ke,{size:16,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400",children:e.jsx("svg",{className:"fill-current h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),e.jsxs("button",{onClick:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-md transition-colors font-semibold text-sm shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:[e.jsx(at,{size:16,className:"inline mr-2"}),"Search"]})]})]})})})]})},yb=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,l]=h.useState(null);h.useEffect(()=>{(async()=>{var d;try{n(!0);const u=await me.getFeaturedHotels(0,6,"name");(d=u.data.result)!=null&&d.content&&s(u.data.result.content)}catch(u){console.error("Error fetching featured hotels:",u),l("Unable to load featured hotels list")}finally{n(!1)}})()},[]);const i=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c),o=c=>{const d=Math.floor(c),u=c%1!==0;return e.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((m,p)=>e.jsx(pe,{className:`h-4 w-4 ${p<d?"text-yellow-400 fill-current":p===d&&u?"text-yellow-400 fill-current opacity-50":"text-gray-300"}`},p)),e.jsx("span",{className:"ml-1 text-sm font-medium",children:(c==null?void 0:c.toFixed(1))||"N/A"})]})};return r?e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Featured Hotels"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"Explore the best hotels"})]}),e.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((c,d)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-300"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded mb-4 w-3/4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded w-20"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-12"})]})]})]},d))})]})}):a?e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Featured Hotels"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-red-500 sm:mt-4",children:a})]})})}):e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Featured Hotels"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"Explore the best hotels with excellent service quality"})]}),e.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:t.map(c=>e.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:e.jsxs(ce,{to:`/hotels/${c.id}`,children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:c.imageUrl||"https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",alt:c.name,className:"w-full h-full object-cover",onError:d=>{const u=d.target;u.src="https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80"}}),e.jsx("div",{className:"absolute top-4 right-4 bg-white px-2 py-1 rounded-full",children:o(c.averageRating||0)}),c.featured&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-2 py-1 rounded text-xs font-medium",children:"Featured"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 line-clamp-1",children:c.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Be,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsxs("span",{className:"line-clamp-1",children:[c.address,c.city&&`, ${c.city}`,c.country&&`, ${c.country}`]})]}),c.description&&e.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[c.pricePerNight?e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:i(c.pricePerNight)}):e.jsx("span",{className:"text-lg font-semibold text-gray-600",children:"Contact"}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"/night"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:c.totalReviews&&c.totalReviews>0?`${c.totalReviews} reviews`:"No reviews yet"}),c.starRating&&e.jsxs("div",{className:"flex items-center justify-end mt-1",children:[[...Array(c.starRating)].map((d,u)=>e.jsx("span",{className:"text-yellow-400 text-xs",children:"★"},u)),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:[c.starRating," stars"]})]}),c.city&&e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-600 border",children:["📍 ",c.city]})})]})]})]})]})},c.id))}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx(ce,{to:"/hotels",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"View All Hotels"})})]})})},bb=()=>{const[t,s]=h.useState([{name:"Da Nang",image:"https://images.pexels.com/photos/2132180/pexels-photo-2132180.jpeg",count:0},{name:"Hanoi",image:"https://images.pexels.com/photos/1486577/pexels-photo-1486577.jpeg",count:0},{name:"Ho Chi Minh",image:"https://images.pexels.com/photos/2115367/pexels-photo-2115367.jpeg",count:0},{name:"Phu Quoc",image:"https://images.pexels.com/photos/1450353/pexels-photo-1450353.jpeg",count:0}]),[r,n]=h.useState(0);return h.useEffect(()=>{(async()=>{try{const l=t.map(async o=>{var c;try{const d=await me.getHotelsByCity(o.name,0,1,"name");return{...o,count:((c=d.data.result)==null?void 0:c.totalElements)||0}}catch(d){return console.error(`Error fetching hotels for ${o.name}:`,d),o}}),i=await Promise.all(l);s(i);try{const o=await me.getActiveHotels(0,1,"name");o.data.success&&o.data.result&&n(o.data.result.totalElements||0)}catch(o){console.error("Error fetching total hotels count:",o)}}catch(l){console.error("Error fetching city statistics:",l)}})()},[]),e.jsxs("div",{children:[e.jsx(fb,{}),e.jsx(yb,{}),e.jsx("section",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Popular Destinations"}),e.jsxs("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:["Explore top tourist destinations in Vietnam with ",r.toLocaleString()," hotels"]})]}),e.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:t.map((a,l)=>e.jsx(ce,{to:`/hotels?city=${encodeURIComponent(a.name)}`,className:"group",children:e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-64 shadow-md group-hover:shadow-xl transition-shadow",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 p-6 text-white",children:[e.jsx("h3",{className:"text-xl font-bold",children:a.name}),e.jsx("p",{children:a.count>0?`${a.count.toLocaleString()} hotels`:"Updating..."})]})]})},l))})]})}),e.jsx("section",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Why Choose Us?"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"We are committed to providing you with the best booking experience"})]}),e.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[{title:"Best Prices",description:"We guarantee you will get the best prices for all your bookings.",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Diverse Options",description:"Thousands of hotels and resorts across Vietnam and around the world.",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"24/7 Support",description:"Our customer support team is always ready to help you anytime, anywhere.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]})}].map((a,l)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex justify-center mb-4",children:a.icon}),e.jsx("h3",{className:"text-xl font-semibold text-center mb-2",children:a.title}),e.jsx("p",{className:"text-gray-600 text-center",children:a.description})]},l))})]})}),e.jsx("section",{className:"py-16 bg-blue-600",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:"Ready for your next vacation?"}),e.jsx("p",{className:"mt-4 text-xl text-blue-100",children:"Sign up today to receive special offers for your first booking."}),e.jsxs("div",{className:"mt-8 flex justify-center",children:[e.jsx(ce,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transition-colors",children:"Sign Up Now"}),e.jsx(ce,{to:"/hotels",className:"ml-4 inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-800 hover:bg-blue-700 transition-colors",children:"Find Hotels"})]})]})})]})},jb=()=>{var x;const[t,s]=h.useState({username:"",password:""}),[r,n]=h.useState(!1),[a,l]=h.useState(""),[i,o]=h.useState(!1),c=le(),d=Ut(),{login:u}=ir(),m=b=>{const{name:f,value:v}=b.target;s(N=>({...N,[f]:v}))},p=async b=>{var f,v,N,g;b.preventDefault(),l(""),o(!0);try{const y=await tr.login(t),{token:j,refreshToken:w}=y.data.result;u(j,w);const C=((v=(f=d.state)==null?void 0:f.from)==null?void 0:v.pathname)||"/";c(C,{replace:!0})}catch(y){l(((g=(N=y.response)==null?void 0:N.data)==null?void 0:g.message)||"Login failed. Please try again.")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Login to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(ce,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"register a new account"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[((x=d.state)==null?void 0:x.message)&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:d.state.message}),a&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),e.jsxs("form",{className:"space-y-6",onSubmit:p,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(De,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:m,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ca,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,minLength:8,value:t.password,onChange:m,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?e.jsx(js,{className:"h-5 w-5 text-gray-400"}):e.jsx(Oe,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(ce,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Logging in...":"Login"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or login with"})})]})})]})})]})},Nb=()=>{const[t,s]=h.useState({name:"",username:"",password:"",email:""}),[r,n]=h.useState(""),[a,l]=h.useState(!1),[i,o]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(!1),p=le(),x=f=>{const{name:v,value:N}=f.target;s(g=>({...g,[v]:N}))},b=async f=>{var v,N;if(f.preventDefault(),d(""),t.password!==r){d("Password confirmation does not match");return}if(t.password.length<8){d("Password must be at least 8 characters");return}m(!0);try{await tr.register(t),p("/email-verification",{state:{email:t.email}})}catch(g){d(((N=(v=g.response)==null?void 0:v.data)==null?void 0:N.message)||"Registration failed. Please try again.")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Register an account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(ce,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Login now"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[c&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),e.jsxs("form",{className:"space-y-6",onSubmit:b,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full name"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:x,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your full name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:x,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(De,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:x,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ca,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:a?"text":"password",required:!0,minLength:8,value:t.password,onChange:x,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Create a password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?e.jsx(js,{className:"h-5 w-5 text-gray-400"}):e.jsx(Oe,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ca,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",required:!0,minLength:8,value:r,onChange:f=>n(f.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!i),children:i?e.jsx(js,{className:"h-5 w-5 text-gray-400"}):e.jsx(Oe,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Registering...":"Register"})})]})]})})]})},vb=()=>{const[t,s]=h.useState({email:""}),[r,n]=h.useState(""),[a,l]=h.useState(""),[i,o]=h.useState(!1),c=le(),d=m=>{const{name:p,value:x}=m.target;s(b=>({...b,[p]:x}))},u=async m=>{var p,x;m.preventDefault(),n(""),l(""),o(!0);try{await tr.forgotPassword(t),l("Verification code has been sent to your email. Please check your inbox."),setTimeout(()=>{c("/reset-password",{state:{email:t.email}})},2e3)}catch(b){n(((x=(p=b.response)==null?void 0:p.data)==null?void 0:x.message)||"An error occurred. Please try again.")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs(ce,{to:"/login",className:"flex items-center text-blue-600 hover:text-blue-500 transition-colors",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Back to login"]})}),e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Forgot Password?"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email to receive a password reset verification code"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[r&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:r}),a&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:a}),e.jsxs("form",{className:"space-y-6",onSubmit:u,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(De,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:d,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Sending...":"Send Verification Code"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",e.jsx(ce,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Login now"})]})})]})})]})},wb=()=>{const[t,s]=h.useState({email:"",code:"",password:""}),[r,n]=h.useState(""),[a,l]=h.useState(["","","","","",""]),[i,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(!1),[p,x]=h.useState(!1),[b,f]=h.useState(0),v=le(),N=Ut(),g=h.useRef([]);h.useEffect(()=>{var P;const S=((P=N.state)==null?void 0:P.email)||localStorage.getItem("resetEmail")||"";s(R=>({...R,email:S})),S&&localStorage.setItem("resetEmail",S)},[N.state]),h.useEffect(()=>{if(b>0){const S=setTimeout(()=>f(b-1),1e3);return()=>clearTimeout(S)}},[b]);const y=(S,P)=>{var T;if(P.length>1)return;const R=[...a];R[S]=P,l(R),s(E=>({...E,code:R.join("")})),P&&S<5&&((T=g.current[S+1])==null||T.focus())},j=(S,P)=>{var R;P.key==="Backspace"&&!a[S]&&S>0&&((R=g.current[S-1])==null||R.focus())},w=S=>{const{name:P,value:R}=S.target;P==="password"?s(T=>({...T,password:R})):P==="confirmPassword"&&n(R)},C=async()=>{var S,P;if(!(!t.email||b>0)){x(!0),o("");try{const R={email:t.email};await tr.resendCode(R),d("A new verification code has been sent to your email."),f(60)}catch(R){o(((P=(S=R.response)==null?void 0:S.data)==null?void 0:P.message)||"Unable to resend code. Please try again.")}finally{x(!1)}}},k=async S=>{var P,R;if(S.preventDefault(),o(""),d(""),t.code.length!==6){o("Please enter the complete 6-digit verification code.");return}if(t.password.length<8){o("Password must be at least 8 characters.");return}if(t.password!==r){o("Password confirmation does not match.");return}m(!0);try{await tr.newPassword(t),d("Password reset successful!"),localStorage.removeItem("resetEmail"),setTimeout(()=>{v("/login",{state:{message:"Password has been reset successfully. Please log in."}})},2e3)}catch(T){o(((R=(P=T.response)==null?void 0:P.data)==null?void 0:R.message)||"An error occurred. Please try again.")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs(ce,{to:"/forgot-password",className:"flex items-center text-blue-600 hover:text-blue-500 transition-colors",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Back"]})}),e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Reset Password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter the 6-digit verification code and new password"}),t.email&&e.jsxs("p",{className:"mt-1 text-center text-xs text-gray-500",children:["Code sent to: ",t.email]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[i&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),c&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:c}),e.jsxs("form",{className:"space-y-6",onSubmit:k,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),e.jsx("div",{className:"flex space-x-2 justify-center",children:a.map((S,P)=>e.jsx("input",{ref:R=>g.current[P]=R,type:"text",maxLength:1,value:S,onChange:R=>y(P,R.target.value),onKeyDown:R=>j(P,R),className:"w-12 h-12 text-center text-lg font-semibold border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0"},P))}),e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("button",{type:"button",onClick:C,disabled:b>0||p,className:"text-sm text-blue-600 hover:text-blue-500 disabled:text-gray-400 disabled:cursor-not-allowed flex items-center justify-center mx-auto",children:[e.jsx(Qe,{className:`h-4 w-4 mr-1 ${p?"animate-spin":""}`}),b>0?`Resend in ${b}s`:p?"Sending...":"Resend Code"]})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ca,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,minLength:8,value:t.password,onChange:w,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter new password"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ca,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,minLength:8,value:r,onChange:w,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm new password"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Processing...":"Reset Password"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",e.jsx(ce,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in now"})]})})]})})]})},kb=()=>{const[t,s]=h.useState({email:"",code:""}),[r,n]=h.useState(["","","","","",""]),[a,l]=h.useState(""),[i,o]=h.useState(""),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[p,x]=h.useState(0),[b,f]=h.useState(!1),v=le(),N=Ut(),g=h.useRef([]);h.useEffect(()=>{var S;const k=((S=N.state)==null?void 0:S.email)||localStorage.getItem("verificationEmail")||"";s(P=>({...P,email:k})),k&&localStorage.setItem("verificationEmail",k)},[N.state]),h.useEffect(()=>{if(p>0){const k=setTimeout(()=>x(p-1),1e3);return()=>clearTimeout(k)}},[p]);const y=(k,S)=>{var R;if(S.length>1)return;const P=[...r];P[k]=S,n(P),s(T=>({...T,code:P.join("")})),S&&k<5&&((R=g.current[k+1])==null||R.focus())},j=(k,S)=>{var P;S.key==="Backspace"&&!r[k]&&k>0&&((P=g.current[k-1])==null||P.focus())},w=async()=>{var k,S;if(!(!t.email||p>0)){m(!0),l("");try{const P={email:t.email};await tr.resendCode(P),o("A new verification code has been sent to your email."),x(60)}catch(P){l(((S=(k=P.response)==null?void 0:k.data)==null?void 0:S.message)||"Unable to resend code. Please try again.")}finally{m(!1)}}},C=async k=>{var S,P;if(k.preventDefault(),l(""),o(""),t.code.length!==6){l("Please enter the complete 6-character verification code.");return}d(!0);try{await tr.confirmEmail(t),o("Email verification successful!"),f(!0),localStorage.removeItem("verificationEmail"),setTimeout(()=>{v("/login",{state:{message:"Email has been verified successfully. Please log in."}})},3e3)}catch(R){l(((P=(S=R.response)==null?void 0:S.data)==null?void 0:P.message)||"Invalid verification code. Please try again.")}finally{d(!1)}};return b?e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[e.jsx(kt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your email has been verified successfully."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs(ce,{to:"/register",className:"flex items-center text-blue-600 hover:text-blue-500 transition-colors",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Back to registration"]})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(De,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Email verification"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter the 6-character verification code sent to your email"}),t.email&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Code sent to: ",e.jsx("span",{className:"font-medium",children:t.email})]})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),i&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:i}),e.jsxs("form",{className:"space-y-6",onSubmit:C,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 text-center",children:"Verification code"}),e.jsx("div",{className:"flex space-x-2 justify-center",children:r.map((k,S)=>e.jsx("input",{ref:P=>g.current[S]=P,type:"text",maxLength:1,value:k,onChange:P=>y(S,P.target.value),onKeyDown:P=>j(S,P),className:"w-12 h-12 text-center text-lg font-semibold border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0"},S))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("button",{type:"button",onClick:w,disabled:p>0||u,className:"text-sm text-blue-600 hover:text-blue-500 disabled:text-gray-400 disabled:cursor-not-allowed flex items-center justify-center mx-auto",children:[e.jsx(Qe,{className:`h-4 w-4 mr-1 ${u?"animate-spin":""}`}),p>0?`Resend in ${p}s`:u?"Sending...":"Resend code"]})})]}),e.jsx("div",{className:"space-y-3",children:e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Verifying...":"Verify email"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Didn't receive the email? Check your spam folder or"," ",e.jsx("button",{onClick:w,disabled:p>0||u,className:"text-blue-600 hover:text-blue-500 disabled:text-gray-400",children:"resend code"})]})})]})})]})},Cb=({userId:t})=>{const[s,r]=h.useState([]),[n,a]=h.useState(!1),[l,i]=h.useState(!1),{showToast:o}=Ce();h.useEffect(()=>{r([{id:"1",type:"VNPAY",name:"VNPay Wallet",maskedNumber:"***@gmail.com",isDefault:!0,createdAt:"2024-01-15",lastUsed:"2024-01-20"},{id:"2",type:"CASH_ON_CHECKIN",name:"Thanh toán tiền mặt",maskedNumber:"Tiền mặt khi nhận phòng",isDefault:!1,createdAt:"2024-01-10",lastUsed:"2024-01-18"}])},[]);const c=b=>new Date(b).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),d=b=>{switch(b){case"VNPAY":return e.jsx(Ot,{className:"h-6 w-6 text-blue-600"});case"CASH_ON_CHECKIN":return e.jsx(Lo,{className:"h-6 w-6 text-green-600"});default:return e.jsx(Ot,{className:"h-6 w-6 text-gray-600"})}},u=b=>{switch(b){case"VNPAY":return"border-blue-200 bg-blue-50";case"CASH_ON_CHECKIN":return"border-green-200 bg-green-50";default:return"border-gray-200 bg-gray-50"}},m=async b=>{a(!0);try{r(f=>f.map(v=>({...v,isDefault:v.id===b}))),o("success","Thành công","Đã cập nhật phương thức thanh toán mặc định")}catch{o("error","Lỗi","Không thể cập nhật phương thức thanh toán mặc định")}finally{a(!1)}},p=async b=>{if(confirm("Bạn có chắc chắn muốn xóa phương thức thanh toán này?")){a(!0);try{r(f=>f.filter(v=>v.id!==b)),o("success","Thành công","Đã xóa phương thức thanh toán")}catch{o("error","Lỗi","Không thể xóa phương thức thanh toán")}finally{a(!1)}}},x=()=>{const[b,f]=h.useState({type:"VNPAY",name:"",accountInfo:""}),v=async N=>{N.preventDefault(),a(!0);try{if(b.type==="VNPAY"&&!b.accountInfo.trim()){o("error","Lỗi","Vui lòng nhập email hoặc số điện thoại");return}const g={id:Date.now().toString(),type:b.type,name:b.name||(b.type==="VNPAY"?"VNPay Wallet":"Thanh toán tiền mặt"),maskedNumber:b.type==="VNPAY"?`***${b.accountInfo.slice(-10)}`:"Tiền mặt khi nhận phòng",isDefault:s.length===0,createdAt:new Date().toISOString().split("T")[0]};r(y=>[...y,g]),i(!1),f({type:"VNPAY",name:"",accountInfo:""}),o("success","Thành công","Đã thêm phương thức thanh toán mới")}catch{o("error","Lỗi","Không thể thêm phương thức thanh toán")}finally{a(!1)}};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thêm phương thức thanh toán mới"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phương thức"}),e.jsxs("select",{value:b.type,onChange:N=>f(g=>({...g,type:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"VNPAY",children:"VNPay"}),e.jsx("option",{value:"CASH_ON_CHECKIN",children:"Thanh toán tiền mặt"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên hiển thị"}),e.jsx("input",{type:"text",value:b.name,onChange:N=>f(g=>({...g,name:N.target.value})),placeholder:`Ví dụ: ${b.type==="VNPAY"?"VNPay chính":"Tiền mặt"}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),b.type==="VNPAY"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email hoặc số điện thoại VNPay"}),e.jsx("input",{type:"text",value:b.accountInfo,onChange:N=>f(g=>({...g,accountInfo:N.target.value})),placeholder:"user@email.com hoặc 0901234567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),b.type==="CASH_ON_CHECKIN"&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(he,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-yellow-800 mb-1",children:"Lưu ý thanh toán tiền mặt"}),e.jsx("div",{className:"text-yellow-700",children:e.jsx("p",{children:"Phương thức này cho phép bạn thanh toán bằng tiền mặt trực tiếp tại khách sạn khi check-in."})})]})]})}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:n,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Đang thêm...":"Thêm phương thức"}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200",children:"Hủy"})]})]})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Phương thức thanh toán"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Quản lý phương thức thanh toán VNPay và tiền mặt"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Thêm mới"]})]}),l&&e.jsx(x,{}),e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(Ot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa có phương thức thanh toán"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Thêm phương thức thanh toán để đặt phòng nhanh chóng hơn"}),e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Thêm phương thức đầu tiên"]})]}):s.map(b=>e.jsx("div",{className:`border-2 rounded-lg p-4 transition-all ${b.isDefault?`${u(b.type)} border-opacity-50`:"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[d(b.type),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:b.name}),b.isDefault&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(pe,{className:"h-3 w-3 mr-1"}),"Mặc định"]})]}),e.jsx("div",{className:"text-sm text-gray-600",children:b.maskedNumber}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Thêm vào ",c(b.createdAt),b.lastUsed&&` • Sử dụng lần cuối ${c(b.lastUsed)}`]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!b.isDefault&&e.jsx("button",{onClick:()=>m(b.id),disabled:n,className:"px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:"Đặt làm mặc định"}),e.jsx("button",{onClick:()=>p(b.id),disabled:n||b.isDefault,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ns,{className:"h-4 w-4"})})]})]})},b.id))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ot,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"VNPay - Thanh toán trực tuyến"}),e.jsxs("div",{className:"text-blue-700 space-y-1",children:[e.jsx("p",{children:"• Thanh toán nhanh chóng và tiện lợi"}),e.jsx("p",{children:"• Xác nhận booking ngay lập tức"}),e.jsx("p",{children:"• Bảo mật cao với mã hóa SSL"}),e.jsx("p",{children:"• Hỗ trợ nhiều ngân hàng"})]})]})]})}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Lo,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Tiền mặt - Thanh toán khi nhận phòng"}),e.jsxs("div",{className:"text-green-700 space-y-1",children:[e.jsx("p",{children:"• Thanh toán trực tiếp tại khách sạn"}),e.jsx("p",{children:"• Không cần thanh toán trước"}),e.jsx("p",{children:"• Linh hoạt với thời gian"}),e.jsx("p",{children:"• Không phí giao dịch"})]})]})]})})]}),s.length>0&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Thống kê phương thức thanh toán"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),e.jsx("div",{className:"text-gray-600",children:"Tổng phương thức"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(b=>b.type==="VNPAY").length}),e.jsx("div",{className:"text-gray-600",children:"VNPay"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(b=>b.type==="CASH_ON_CHECKIN").length}),e.jsx("div",{className:"text-gray-600",children:"Tiền mặt"})]})]})]})]})},Sb=()=>{const[t,s]=h.useState("profile"),[r,n]=h.useState(!1),[a,l]=h.useState(!1),[i,o]=h.useState(!1),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[p,x]=h.useState(!1),[b,f]=h.useState(!1),{user:v,fetchUserInfo:N}=ir(),{showToast:g}=Ce(),[y,j]=h.useState({name:"",email:"",username:"",phone:"",dateOfBirth:"",address:""}),[w,C]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""});h.useEffect(()=>{v&&j({name:v.name||"",email:v.email||"",username:v.username||"",phone:v.tel||"",dateOfBirth:v.dob||"",address:v.address||""})},[v]);const k=A=>{const{name:F,value:B}=A.target;j(se=>({...se,[F]:B}))},S=A=>{const{name:F,value:B}=A.target;C(se=>({...se,[F]:B}))},P=()=>y.name.trim()?y.username.trim()?!0:(g("error","Lỗi","Vui lòng nhập tên đăng nhập"),!1):(g("error","Lỗi","Vui lòng nhập họ và tên"),!1),R=()=>w.currentPassword?w.newPassword?w.newPassword.length<8?(g("error","Error","New password must be at least 8 characters"),!1):w.newPassword!==w.confirmPassword?(g("error","Error","Password confirmation does not match"),!1):!0:(g("error","Error","Please enter new password"),!1):(g("error","Error","Please enter current password"),!1),T=async A=>{var F,B;if(A.preventDefault(),!(!P()||!v)){m(!0);try{const se={name:y.name,username:y.username,email:v.email,tel:y.phone,address:y.address,dob:y.dateOfBirth};await Nt.updateMyProfile(se),await N(),g("success","Success","Information has been updated successfully!"),n(!1)}catch(se){console.error("Update profile error:",se);const oe=((B=(F=se.response)==null?void 0:F.data)==null?void 0:B.message)||"An error occurred while updating information";g("error","Lỗi",oe)}finally{m(!1)}}},E=async A=>{var F,B;if(A.preventDefault(),!(!R()||!v)){x(!0);try{const se={currentPassword:w.currentPassword,newPassword:w.newPassword};await Nt.updateMyPassword(se),g("success","Success","Password has been changed successfully!"),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(se){console.error("Update password error:",se);const oe=((B=(F=se.response)==null?void 0:F.data)==null?void 0:B.message)||"An error occurred while changing password";g("error","Lỗi",oe)}finally{x(!1)}}},I=()=>{v&&j({name:v.name||"",email:v.email||"",username:v.username||"",phone:v.tel||"",dateOfBirth:v.dob||"",address:v.address||""}),n(!1)},U=async()=>{var A,F;if(v){f(!0);try{await Nt.requestHost(),await N(),g("success","Success","Host request has been sent successfully!")}catch(B){console.error("Host request error:",B);const se=((F=(A=B.response)==null?void 0:A.data)==null?void 0:F.message)||"Có lỗi xảy ra khi gửi yêu cầu";g("error","Lỗi",se)}finally{f(!1)}}},K=A=>new Date(A).toLocaleDateString("vi-VN"),q=[{id:"profile",label:"Personal Information",icon:He},{id:"password",label:"Change Password",icon:Pn},{id:"history",label:"Bookings",icon:ds},{id:"vouchers",label:"Mã giảm giá",icon:sb},{id:"payment",label:"Phương thức thanh toán",icon:Ot},{id:"roles",label:"Quản lý vai trò",icon:Je}],_=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:y.name.charAt(0).toUpperCase()}),e.jsx("button",{className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border hover:bg-gray-50",children:e.jsx(Gy,{size:16,className:"text-gray-600"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:y.name}),e.jsx("p",{className:"text-gray-500",children:y.email}),(v==null?void 0:v.createAt)&&e.jsxs("p",{className:"text-sm text-gray-400",children:["Thành viên từ ",K(v.createAt)]})]})]}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ và tên *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",value:y.name,onChange:k,disabled:!r,required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:y.email,onChange:k,disabled:!0,required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),e.jsx("div",{className:"mt-2 flex items-center justify-between",children:v&&e.jsx("div",{className:"flex items-center text-sm",children:v.emailVerified?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(kt,{className:"h-4 w-4 mr-1"}),"Email đã được xác nhận"]}):e.jsxs("div",{className:"flex items-center text-yellow-600",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),"Email chưa được xác nhận"]})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên đăng nhập *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"username",value:y.username,onChange:k,disabled:!r,required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",value:y.phone,onChange:k,disabled:!r,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày sinh"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:y.dateOfBirth,onChange:k,disabled:!r,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),e.jsx("textarea",{name:"address",value:y.address,onChange:k,disabled:!r,rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]}),e.jsx("div",{className:"flex justify-end space-x-4",children:r?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:I,disabled:u,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Hủy"}),e.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center disabled:opacity-50",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Lưu thay đổi"]})})]}):e.jsxs("button",{type:"button",onClick:()=>n(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Chỉnh sửa"]})})]})]}),z=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(he,{className:"h-5 w-5 text-yellow-400 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Lưu ý bảo mật"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Mật khẩu mới phải có ít nhất 8 ký tự và nên bao gồm chữ hoa, chữ thường, số và ký tự đặc biệt."})]})]})}),e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"currentPassword",value:w.currentPassword,onChange:S,required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:a?e.jsx(js,{size:16}):e.jsx(Oe,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:i?"text":"password",name:"newPassword",value:w.newPassword,onChange:S,required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:i?e.jsx(js,{size:16}):e.jsx(Oe,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Pn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:c?"text":"password",name:"confirmPassword",value:w.confirmPassword,onChange:S,required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:c?e.jsx(js,{size:16}):e.jsx(Oe,{size:16})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center disabled:opacity-50",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang cập nhật..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Đổi mật khẩu"]})})})]})]}),Y=()=>{var B,se;const A=(B=v==null?void 0:v.roles)==null?void 0:B.some(oe=>oe.name==="HOST"),F=(se=v==null?void 0:v.roles)==null?void 0:se.some(oe=>oe.name==="ADMIN");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Je,{className:"h-5 w-5 mr-2 text-blue-600"}),"Vai trò hiện tại"]}),e.jsx("div",{className:"space-y-3",children:v!=null&&v.roles&&v.roles.length>0?v.roles.map(oe=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${oe.name==="ADMIN"?"bg-red-500":oe.name==="HOST"?"bg-green-500":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:oe.name==="ADMIN"?"Administrator":oe.name==="HOST"?"Hotel Owner":oe.name==="USER"?"Người dùng":oe.name}),e.jsx("p",{className:"text-sm text-gray-500",children:oe.description})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${oe.name==="ADMIN"?"bg-red-100 text-red-800":oe.name==="HOST"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:"Đã kích hoạt"})]},oe.id)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Chưa có vai trò nào được gán"})})]}),!A&&!F&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(wm,{className:"h-5 w-5 mr-2 text-amber-600"}),"Become a Host"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-gray-700",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Benefits of becoming a Host:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[e.jsx("li",{children:"Upload and manage your own hotels"}),e.jsx("li",{children:"Receive and manage bookings from customers"}),e.jsx("li",{children:"Tạo và quản lý các loại phòng khác nhau"}),e.jsx("li",{children:"Xem thống kê doanh thu và báo cáo chi tiết"}),e.jsx("li",{children:"Nhận hoa hồng từ mỗi booking thành công"})]})]}),e.jsx("div",{className:"border-t border-blue-200 pt-4",children:v!=null&&v.hostRequested?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-amber-600",children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Yêu cầu đang chờ phê duyệt"})]}),e.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-sm font-medium",children:"Chờ duyệt"})]}):e.jsx("button",{onClick:U,disabled:b,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Đang gửi yêu cầu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wm,{className:"h-5 w-5 mr-2"}),"Send Host Request"]})})})]})]}),F&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Je,{className:"h-5 w-5 mr-2 text-red-600"}),"Quyền Quản trị viên"]}),e.jsx("p",{className:"text-gray-700",children:"Bạn có quyền quản trị toàn bộ hệ thống. Vui lòng sử dụng quyền này một cách có trách nhiệm."})]})]})},W=()=>e.jsx(Cb,{userId:v==null?void 0:v.id}),O=()=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(ds,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tính năng đang phát triển"}),e.jsx("p",{className:"text-gray-500",children:"Tab này sẽ được hoàn thiện trong phiên bản tiếp theo."})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tài khoản của tôi"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your personal information and activities"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:q.map(A=>{const F=A.icon;return e.jsxs("button",{onClick:()=>s(A.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===A.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(F,{size:16}),e.jsx("span",{children:A.label})]},A.id)})})}),e.jsxs("div",{className:"p-6",children:[t==="profile"&&_(),t==="password"&&z(),t==="roles"&&Y(),t==="payment"&&W(),t!=="profile"&&t!=="password"&&t!=="roles"&&t!=="payment"&&O()]})]})]})})},Pb=()=>e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("div",{className:"relative bg-blue-600 text-white py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About FBooking"}),e.jsx("p",{className:"text-xl opacity-90",children:"We are the leading hotel booking platform in Vietnam, providing excellent booking experiences at the best prices."})]})})}),e.jsx("div",{className:"py-16 bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"1M+"}),e.jsx("div",{className:"text-gray-600",children:"Customers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"10K+"}),e.jsx("div",{className:"text-gray-600",children:"Partner Hotels"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"63"}),e.jsx("div",{className:"text-gray-600",children:"Provinces"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"4.8/5"}),e.jsx("div",{className:"text-gray-600",children:"Average Rating"})]})]})})}),e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why Choose Us?"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"FBooking is committed to providing the best booking experience for customers"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsx(La,{icon:e.jsx(ke,{className:"h-8 w-8"}),title:"24/7 Customer Service",description:"Professional support team, ready to serve at all times"}),e.jsx(La,{icon:e.jsx(nn,{className:"h-8 w-8"}),title:"Best Prices",description:"Guaranteed most competitive prices in the market"}),e.jsx(La,{icon:e.jsx(Pe,{className:"h-8 w-8"}),title:"Quick Booking",description:"Simple booking process, saving time"}),e.jsx(La,{icon:e.jsx(Je,{className:"h-8 w-8"}),title:"Safe & Secure",description:"Protecting customer information and transactions"})]})]})}),e.jsx("div",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Team"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"People who always strive to bring the best experience to customers"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx(Ri,{name:"John Smith",position:"Chief Executive Officer",image:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg"}),e.jsx(Ri,{name:"Sarah Johnson",position:"Marketing Director",image:"https://images.pexels.com/photos/3796217/pexels-photo-3796217.jpeg"}),e.jsx(Ri,{name:"Michael Brown",position:"Head of Technology",image:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg"})]})]})})]}),La=({icon:t,title:s,description:r})=>e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"text-blue-600 mb-4 flex justify-center",children:t}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:s}),e.jsx("p",{className:"text-gray-600",children:r})]}),Ri=({name:t,position:s,image:r})=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:r,alt:t,className:"w-32 h-32 rounded-full mx-auto object-cover"})}),e.jsx("h3",{className:"text-xl font-semibold mb-1",children:t}),e.jsx("p",{className:"text-gray-600",children:s})]}),Tb=()=>{const[t,s]=h.useState({name:"",email:"",subject:"",message:""}),r=a=>{a.preventDefault(),console.log(t)},n=a=>{const{name:l,value:i}=a.target;s(o=>({...o,[l]:i}))};return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("div",{className:"bg-blue-600 text-white py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Contact Us"}),e.jsx("p",{className:"text-xl opacity-90",children:"Chúng tôi luôn sẵn sàng lắng nghe và hỗ trợ bạn 24/7"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx(Be,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Địa chỉ"}),e.jsxs("p",{className:"text-gray-600",children:["123 Nguyễn Huệ, Quận 1",e.jsx("br",{}),"TP. Hồ Chí Minh, Việt Nam"]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx(Le,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Điện thoại"}),e.jsxs("p",{className:"text-gray-600",children:["Hotline: 1900 1234",e.jsx("br",{}),"Hỗ trợ: +84 123 456 789"]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx(De,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Email"}),e.jsxs("p",{className:"text-gray-600",children:["support@fbooking.com",e.jsx("br",{}),"info@fbooking.com"]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Bản đồ"}),e.jsx("div",{className:"bg-gray-200 h-64 rounded-lg",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"Bản đồ sẽ được hiển thị ở đây"})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gửi tin nhắn cho chúng tôi"}),e.jsxs("form",{onSubmit:r,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Họ và tên"}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhập họ và tên của bạn"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhập địa chỉ email của bạn"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiêu đề"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhập tiêu đề tin nhắn"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nội dung"}),e.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,required:!0,rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhập nội dung tin nhắn của bạn"})]}),e.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(Xl,{className:"h-5 w-5 mr-2"}),"Gửi tin nhắn"]})]})]})]})})]})},Rb=()=>{var Q;const[t,s]=Bc(),r=le(),[n,a]=h.useState({priceRange:t.get("priceRange")||"all",rating:t.get("rating")||"all",amenities:((Q=t.get("amenities"))==null?void 0:Q.split(",").filter(Boolean))||[]}),[l,i]=h.useState(t.get("search")||""),[o,c]=h.useState(t.get("location")||t.get("city")||""),[d,u]=h.useState(t.get("sortBy")||"name"),[m,p]=h.useState(t.get("checkIn")||new Date(Date.now()+864e5).toISOString().split("T")[0]),[x,b]=h.useState(t.get("checkOut")||new Date(Date.now()+2*864e5).toISOString().split("T")[0]),[f,v]=h.useState(parseInt(t.get("guests")||"2")),[N,g]=h.useState([]),[y,j]=h.useState(!0),[w,C]=h.useState(!1),[k,S]=h.useState(null),[P,R]=h.useState([]),[T,E]=h.useState({pageNumber:parseInt(t.get("page")||"0"),pageSize:12,totalElements:0,totalPages:0}),I=Math.max(1,Math.ceil((new Date(x).getTime()-new Date(m).getTime())/(1e3*60*60*24))),U=async()=>{try{j(!0),S(null);const D={pageNumber:T.pageNumber,pageSize:T.pageSize,sortBy:d,isActive:!0};if(n.priceRange!=="all"){const[re,G]=n.priceRange.split("-");D.minPrice=parseInt(re),G&&G!=="+"&&(D.maxPrice=parseInt(G))}n.rating!=="all"&&(D.starRating=parseInt(n.rating));const J=o.trim()||l.trim();J&&(D.city=J),n.amenities.length>0&&(D.amenities=n.amenities.join(","));let V;if(l.trim()||o.trim()||n.amenities.length>0||n.priceRange!=="all"||n.rating!=="all"){const re={...D};try{V=await me.searchHotelsWithFilters(re)}catch{console.warn("Search filters endpoint not available, using basic search"),J?V=await me.getHotelsByCity(J,D.pageNumber,D.pageSize,D.sortBy):l.trim()?V=await me.searchHotels(l.trim(),D.pageNumber,D.pageSize,D.sortBy):V=await me.getActiveHotels(D.pageNumber,D.pageSize,D.sortBy)}}else V=await me.getActiveHotels(D.pageNumber,D.pageSize,D.sortBy);if(V.data.success){const re=V.data.result,G=re.content||[];m&&x&&m!==x?await K(G):g(G),E(be=>({...be,totalElements:re.totalElements||0,totalPages:re.totalPages||0}))}else S("Unable to load hotel list")}catch(D){console.error("Error fetching hotels:",D),S("Có lỗi xảy ra khi tải dữ liệu")}finally{j(!1)}},K=async D=>{C(!0);const J=[];for(const V of D)try{const re=await jt.getRoomTypesByHotel(V.id,0,50);if(re.data.success){const G=re.data.result.content||[];let be=!1,$=1/0,te=0;for(const L of G)if(L.availableRooms>0&&L.maxOccupancy>=f){be=!0,te+=L.availableRooms;const X=L.pricePerNight*I;X<$&&($=X)}J.push({...V,hasAvailableRooms:be,lowestPrice:$===1/0?void 0:$,availableRoomCount:te})}else J.push({...V,hasAvailableRooms:void 0})}catch(re){console.error(`Error checking availability for hotel ${V.id}:`,re),J.push({...V,hasAvailableRooms:void 0})}g(J),C(!1)},q=()=>{const D=new URLSearchParams;l&&D.set("search",l),o&&D.set("location",o),n.priceRange!=="all"&&D.set("priceRange",n.priceRange),n.rating!=="all"&&D.set("rating",n.rating),n.amenities.length>0&&D.set("amenities",n.amenities.join(",")),d!=="name"&&D.set("sortBy",d),T.pageNumber>0&&D.set("page",T.pageNumber.toString()),m&&D.set("checkIn",m),x&&D.set("checkOut",x),f!==2&&D.set("guests",f.toString()),s(D)},_=()=>{E(D=>({...D,pageNumber:0})),q()},z=D=>{a(J=>({...J,...D})),E(J=>({...J,pageNumber:0}))},Y=D=>{E(J=>({...J,pageNumber:D})),window.scrollTo({top:0,behavior:"smooth"})},W=D=>{u(D),E(J=>({...J,pageNumber:0}))},O=()=>{const D=new Date().toISOString().split("T")[0];if(m<D&&p(D),x<=m){const J=new Date(m);J.setDate(J.getDate()+1),b(J.toISOString().split("T")[0])}},A=D=>D?D.toLocaleString("vi-VN")+"đ":"Contact",F=D=>D?Array.from({length:5},(J,V)=>e.jsx(pe,{className:`h-4 w-4 ${V<D?"text-yellow-400 fill-current":"text-gray-300"}`},V)):null,B=D=>D||"https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg",se=D=>{if(!D.hasAvailableRooms){alert("No rooms available for the selected dates and guest count");return}const J=new URLSearchParams({checkIn:m,checkOut:x,guests:f.toString(),returnUrl:window.location.pathname+window.location.search});r(`/hotels/${D.id}?${J.toString()}`)},oe=async()=>{try{const D=await me.getAvailableAmenities();D.data.success?R(D.data.result||[]):R(["Hồ bơi","Spa","Phòng gym","Nhà hàng","Bar","WiFi miễn phí"])}catch{console.warn("Failed to fetch amenities, using defaults"),R(["Hồ bơi","Spa","Phòng gym","Nhà hàng","Bar","WiFi miễn phí"])}};h.useEffect(()=>{oe()},[]),h.useEffect(()=>{U()},[T.pageNumber,d,m,x,f]),h.useEffect(()=>{const D=setTimeout(()=>{q(),T.pageNumber===0?U():E(J=>({...J,pageNumber:0}))},300);return()=>clearTimeout(D)},[l,o,n]),h.useEffect(()=>{O()},[m,x]);const Re=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array.from({length:6}).map((D,J)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-gray-300"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded mb-3 w-2/3"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded mb-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded w-20"}),e.jsx("div",{className:"h-10 bg-gray-300 rounded w-24"})]})]})]},J))});return e.jsxs("div",{children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Hotels & Resorts"}),e.jsx("p",{className:"text-xl text-blue-100",children:"Explore thousands of amazing hotels across Vietnam"})]})}),(o||m||x||f!==2)&&e.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-2",children:[e.jsx(at,{size:18}),e.jsx("span",{className:"font-medium",children:"Your search:"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[o&&e.jsxs("span",{className:"inline-flex items-center bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-medium border border-blue-200",children:["📍 ",o]}),m&&x&&e.jsxs("span",{className:"inline-flex items-center bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-medium border border-blue-200",children:["📅 ",new Date(m).toLocaleDateString("vi-VN")," - ",new Date(x).toLocaleDateString("vi-VN")]}),m&&!x&&e.jsxs("span",{className:"inline-flex items-center bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-medium border border-blue-200",children:["📅 Từ ",new Date(m).toLocaleDateString("vi-VN")]}),f!==2&&e.jsxs("span",{className:"inline-flex items-center bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-medium border border-blue-200",children:["👥 ",f," khách"]})]})]})}),e.jsx("div",{className:"bg-white shadow-md py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search hotels...",value:l,onChange:D=>i(D.target.value),onKeyDown:D=>D.key==="Enter"&&_(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Destination city",value:o,onChange:D=>c(D.target.value),onKeyDown:D=>D.key==="Enter"&&_(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:f,onChange:D=>v(parseInt(D.target.value)),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:Array.from({length:8},(D,J)=>J+1).map(D=>e.jsxs("option",{value:D,children:[D," ",D===1?"Guest":"Guests"]},D))}),e.jsx(ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})}),e.jsx("div",{children:e.jsx("button",{onClick:_,disabled:y||w,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:y||w?"Searching...":"Search"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:m,min:new Date().toISOString().split("T")[0],onChange:D=>p(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:x,min:m||new Date().toISOString().split("T")[0],onChange:D=>b(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 w-full",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Duration"}),e.jsxs("div",{className:"font-semibold text-gray-900",children:[I," ",I===1?"night":"nights"]})]})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Filter"}),e.jsx(Zt,{size:20,className:"text-gray-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700",children:"Price Range"}),e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.priceRange,onChange:D=>z({priceRange:D.target.value}),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"0-1000000",children:"Under 1 million"}),e.jsx("option",{value:"1000000-2000000",children:"1 - 2 million"}),e.jsx("option",{value:"2000000-5000000",children:"2 - 5 million"}),e.jsx("option",{value:"5000000-+",children:"Over 5 million"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700",children:"Rating"}),e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:n.rating,onChange:D=>z({rating:D.target.value}),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"5",children:"5 stars"}),e.jsx("option",{value:"4",children:"4 stars or higher"}),e.jsx("option",{value:"3",children:"3 stars or higher"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700",children:"Amenities"}),e.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:[P.map(D=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500",checked:n.amenities.includes(D),onChange:J=>{const V=J.target.checked?[...n.amenities,D]:n.amenities.filter(re=>re!==D);z({amenities:V})}}),e.jsx("span",{className:"ml-3 text-gray-700",children:D})]},D)),P.length===0&&e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading amenities..."})]}),n.amenities.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Selected (",n.amenities.length,"):"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.amenities.map(D=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[D,e.jsx("button",{onClick:()=>{const J=n.amenities.filter(V=>V!==D);z({amenities:J})},className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]},D))})]})]})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:y?"Loading...":`Found ${T.totalElements} hotels`}),e.jsxs("select",{className:"p-2 border border-gray-300 rounded-lg",value:d,onChange:D=>W(D.target.value),children:[e.jsx("option",{value:"name",children:"Sort by name"}),e.jsx("option",{value:"pricePerNight",children:"Sort by price"}),e.jsx("option",{value:"starRating",children:"Sort by rating"}),e.jsx("option",{value:"createdAt",children:"Sort by date"})]})]}),k&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:k}),y?e.jsx(Re,{}):N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"No hotels found"}),e.jsx("p",{className:"text-gray-400",children:"Please try changing your filters or search keywords"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N.map(D=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:B(D.imageUrl),alt:D.name,className:"w-full h-48 object-cover",onError:J=>{const V=J.target;V.src="https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg"}}),D.featured&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Featured"}),e.jsx("div",{className:"absolute top-4 right-4 bg-white px-2 py-1 rounded-full shadow-md",children:e.jsx("div",{className:"flex items-center",children:D.starRating?e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"ml-1 text-sm font-medium",children:D.starRating})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No rating"})})}),D.city&&e.jsx("div",{className:"absolute top-12 right-4 bg-white bg-opacity-90 px-2 py-1 rounded-full shadow-sm",children:e.jsxs("span",{className:"text-xs text-gray-600",children:["📍 ",D.city]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 line-clamp-1",children:D.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[e.jsx(Be,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:D.address})]}),D.description&&e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:D.description}),e.jsx("div",{className:"flex items-center mb-3",children:D.averageRating&&D.averageRating>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center mr-2",children:F(Math.round(D.averageRating))}),e.jsxs("span",{className:"text-sm text-gray-600",children:[D.averageRating.toFixed(1)," (",D.totalReviews||0," reviews)"]})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No reviews"})}),w?e.jsxs("div",{className:"mb-3 flex items-center text-sm text-gray-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Checking availability..."]}):D.hasAvailableRooms!==void 0&&e.jsx("div",{className:"mb-3",children:D.hasAvailableRooms?e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),D.availableRoomCount," rooms available for ",I," nights"]}):e.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"No rooms available for selected dates/guests"]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:D.lowestPrice?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:[A(D.pricePerNight)," per night"]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:A(D.lowestPrice)}),e.jsxs("div",{className:"text-sm text-gray-600",children:["total for ",I," nights"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:A(D.pricePerNight)}),D.pricePerNight&&e.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"/night"})]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[D.hasAvailableRooms?e.jsxs("button",{onClick:()=>se(D),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Book Now"]}):D.hasAvailableRooms===!1?e.jsx("button",{disabled:!0,className:"bg-gray-300 text-gray-500 px-6 py-2 rounded-lg cursor-not-allowed font-semibold",children:"Sold Out"}):e.jsx("button",{onClick:()=>se(D),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Check Rates"}),e.jsx(ce,{to:`/hotels/${D.id}?checkIn=${m}&checkOut=${x}&guests=${f}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium text-center",children:"View Details"})]})]})]})]},D.id))}),!y&&N.length>0&&T.totalPages>1&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>Y(T.pageNumber-1),disabled:T.pageNumber===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(oa,{size:16,className:"mr-1"}),"Previous"]}),Array.from({length:Math.min(5,T.totalPages)},(D,J)=>{const V=Math.max(0,Math.min(T.pageNumber-2,T.totalPages-5))+J;return e.jsx("button",{onClick:()=>Y(V),className:`px-4 py-2 rounded-lg ${V===T.pageNumber?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:V+1},V)}),e.jsxs("button",{onClick:()=>Y(T.pageNumber+1),disabled:T.pageNumber>=T.totalPages-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next",e.jsx(Yl,{size:16,className:"ml-1"})]})]})})]})]})})]})},Eb=({hotelId:t,hotelName:s,onSuccess:r,onCancel:n,className:a=""})=>{const[l,i]=h.useState({rating:0,comment:""}),[o,c]=h.useState({}),[d,u]=h.useState(!1),[m,p]=h.useState(0),x=()=>{const y={};return l.rating===0?y.rating="Please select a rating":(l.rating<1||l.rating>5)&&(y.rating="Rating must be between 1 and 5 stars"),l.comment.trim().length>0&&l.comment.length>2e3&&(y.comment="Review content must not exceed 2000 characters"),c(y),Object.keys(y).length===0},b=y=>{i(j=>({...j,rating:y})),o.rating&&c(j=>({...j,rating:void 0}))},f=y=>{const j=y.target.value;i(w=>({...w,comment:j})),o.comment&&(j.trim().length===0||j.length<=2e3)&&c(w=>({...w,comment:void 0}))},v=async y=>{var j,w,C,k,S;if(y.preventDefault(),!!x()){u(!0),c({});try{const P={rating:l.rating,comment:l.comment.trim(),hotelId:t},T=(await Wt.createReview(P)).data.result.id;i({rating:0,comment:""}),r?r(T):alert("Your review has been submitted successfully!")}catch(P){console.error("Error creating review:",P);let R="An error occurred while submitting the review. Please try again.";if(((j=P.response)==null?void 0:j.status)===400){const T=(C=(w=P.response)==null?void 0:w.data)==null?void 0:C.message;T!=null&&T.includes("already reviewed")?R="You have already reviewed this hotel. Each customer can only review once.":R=T||R}else((k=P.response)==null?void 0:k.status)===401?R="You need to login to be able to review.":((S=P.response)==null?void 0:S.status)===404&&(R="Hotel not found. Please try again.");c({submit:R})}finally{u(!1)}}},N=()=>Array(5).fill(0).map((y,j)=>{const w=j+1,C=w<=(m||l.rating);return e.jsx("button",{type:"button",onClick:()=>b(w),onMouseEnter:()=>p(w),onMouseLeave:()=>p(0),className:`p-1 transition-colors duration-200 ${C?"text-yellow-400":"text-gray-300 hover:text-yellow-300"}`,disabled:d,children:e.jsx(pe,{size:32,className:`${C?"fill-current":""}`})},j)}),g=y=>{switch(y){case 1:return"Rất tệ";case 2:return"Tệ";case 3:return"Bình thường";case 4:return"Tốt";case 5:return"Xuất sắc";default:return""}};return e.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${a}`,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Rate Hotel"}),e.jsxs("p",{className:"text-gray-600",children:["Chia sẻ trải nghiệm của bạn tại ",e.jsx("span",{className:"font-medium",children:s})]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Overall Rating *"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex",children:N()}),(m||l.rating)>0&&e.jsx("span",{className:"text-sm font-medium text-gray-700 ml-3",children:g(m||l.rating)})]}),o.rating&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.rating]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Content (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{value:l.comment,onChange:f,placeholder:"Share your experience about this hotel. What did you like most? Is there anything that needs improvement?",rows:5,className:`w-full pl-10 pr-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none ${o.comment?"border-red-300":"border-gray-300"}`,disabled:d,maxLength:2e3})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.comment?e.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.comment]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Chia sẻ thêm về trải nghiệm của bạn"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[l.comment.length,"/2000"]})]})]}),o.submit&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-700 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),o.submit]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n&&e.jsx("button",{type:"button",onClick:n,disabled:d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:border-gray-500 disabled:opacity-50",children:"Hủy"}),e.jsx("button",{type:"submit",disabled:d||l.rating===0,className:"flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang gửi..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xl,{className:"h-4 w-4 mr-2"}),"Submit Review"]})})]})]})]})},Db=({review:t,onSuccess:s,onCancel:r,onDelete:n})=>{const[a,l]=h.useState(t.rating),[i,o]=h.useState(0),[c,d]=h.useState(t.comment||""),[u,m]=h.useState(!1),[p,x]=h.useState(!1),[b,f]=h.useState(!1),[v,N]=h.useState(null),g=async w=>{var C,k,S,P,R;if(w.preventDefault(),a===0){N("Vui lòng chọn số sao đánh giá");return}try{m(!0),N(null);const T={rating:a,comment:c.trim()||void 0};await Wt.updateMyReview(t.id,T),s()}catch(T){console.error("Error updating review:",T),((C=T.response)==null?void 0:C.status)===401?N("Bạn cần đăng nhập để chỉnh sửa đánh giá"):((k=T.response)==null?void 0:k.status)===403?N("Bạn không có quyền chỉnh sửa đánh giá này"):((S=T.response)==null?void 0:S.status)===404?N("Không tìm thấy đánh giá"):N(((R=(P=T.response)==null?void 0:P.data)==null?void 0:R.message)||"Có lỗi xảy ra khi cập nhật đánh giá")}finally{m(!1)}},y=async()=>{var w,C,k,S,P;if(!b){f(!0);return}try{x(!0),N(null),await Wt.deleteMyReview(t.id),n?n():s()}catch(R){console.error("Error deleting review:",R),((w=R.response)==null?void 0:w.status)===401?N("Bạn cần đăng nhập để xóa đánh giá"):((C=R.response)==null?void 0:C.status)===403?N("Bạn không có quyền xóa đánh giá này"):((k=R.response)==null?void 0:k.status)===404?N("Không tìm thấy đánh giá"):N(((P=(S=R.response)==null?void 0:S.data)==null?void 0:P.message)||"Có lỗi xảy ra khi xóa đánh giá")}finally{x(!1),f(!1)}},j=()=>Array(5).fill(0).map((w,C)=>{const k=C+1,S=k<=(i||a);return e.jsx("button",{type:"button",className:`p-1 transition-colors ${S?"text-yellow-400":"text-gray-300"} hover:text-yellow-400`,onMouseEnter:()=>o(k),onMouseLeave:()=>o(0),onClick:()=>l(k),children:e.jsx(pe,{className:`h-8 w-8 ${S?"fill-current":""}`})},C)});return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Chỉnh sửa đánh giá cho ",t.hotelName]}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(ve,{className:"h-5 w-5"})})]}),v&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:v})}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Đánh giá của bạn *"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[j(),e.jsxs("span",{className:"ml-3 text-sm text-gray-600",children:["(",a>0?a:0,"/5 sao)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nội dung đánh giá (tùy chọn)"}),e.jsx("textarea",{value:c,onChange:w=>d(w.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Chia sẻ trải nghiệm của bạn về khách sạn này...",maxLength:2e3}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[c.length,"/2000 ký tự"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"button",onClick:y,disabled:u||p,className:`px-4 py-2 text-sm font-medium border rounded-lg transition-colors flex items-center space-x-2 ${b?"text-white bg-red-600 border-red-600 hover:bg-red-700":"text-red-600 bg-white border-red-300 hover:bg-red-50"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsx("span",{children:p?"Đang xóa...":b?"Xác nhận xóa":"Xóa đánh giá"})]}),b&&e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 transition-colors",children:"Hủy xóa"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:r,disabled:p,className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Hủy"}),e.jsx("button",{type:"submit",disabled:u||p||a===0,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:u?"Đang cập nhật...":"Cập nhật đánh giá"})]})]})]})]})},Ab=({totalReviews:t,selectedRating:s,sortBy:r,onRatingFilter:n,onSortChange:a,ratingDistribution:l={}})=>{const i=o=>Array(5).fill(0).map((c,d)=>e.jsx(pe,{className:`h-4 w-4 ${d<o?"text-yellow-400 fill-current":"text-gray-300"}`},d));return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>n(null),className:`px-4 py-2 text-sm font-medium rounded-lg border transition-colors ${s===null?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:["All (",t,")"]}),[5,4,3,2,1].map(o=>{const c=l[o]||0;return e.jsxs("button",{onClick:()=>n(o),className:`px-4 py-2 text-sm font-medium rounded-lg border transition-colors flex items-center ${s===o?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("div",{className:"flex mr-2",children:i(o)}),"(",c,")"]},o)})]})})})})},Ib=({reviews:t,loading:s=!1,showPagination:r=!1,currentPage:n=0,totalPages:a=0,onPageChange:l,hotelId:i,showStats:o=!1,showFilters:c=!1})=>{const[d,u]=h.useState(new Set),[m,p]=h.useState(null),[x,b]=h.useState(t),[f,v]=h.useState(null),[N,g]=h.useState("newest");yr.useEffect(()=>{let P=[...t];f!==null&&(P=P.filter(R=>R.rating===f)),P.sort((R,T)=>{switch(N){case"newest":return new Date(T.createdAt).getTime()-new Date(R.createdAt).getTime();case"oldest":return new Date(R.createdAt).getTime()-new Date(T.createdAt).getTime();case"highest":return T.rating-R.rating;case"lowest":return R.rating-T.rating;default:return 0}}),b(P)},[t,f,N]),yr.useEffect(()=>{if((o||c)&&t.length>0){const P=t.length,R=t.reduce((E,I)=>E+I.rating,0)/P,T={1:0,2:0,3:0,4:0,5:0};t.forEach(E=>{T[E.rating]++}),p({averageRating:R,totalReviews:P,ratingDistribution:T})}},[t,o,c]);const y=P=>new Date(P).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),j=P=>{const R=new Date,T=new Date(P),E=R.getTime()-T.getTime(),I=Math.floor(E/(1e3*60*60*24));return I===0?"Hôm nay":I===1?"Hôm qua":I<7?`${I} ngày trước`:I<30?`${Math.floor(I/7)} tuần trước`:I<365?`${Math.floor(I/30)} tháng trước`:`${Math.floor(I/365)} năm trước`},w=(P,R="md")=>{const T={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return Array(5).fill(0).map((E,I)=>e.jsx(pe,{className:`${T[R]} ${I<P?"text-yellow-400 fill-current":"text-gray-300"}`},I))},C=P=>{const R=new Set(d);R.has(P)?R.delete(P):R.add(P),u(R)},k=P=>null,S=P=>P&&P.length>300;return s?e.jsx("div",{className:"space-y-4",children:Array(3).fill(0).map((P,R)=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},R))}):e.jsxs("div",{className:"space-y-6",children:[o&&m&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reviews"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:m.averageRating.toFixed(1)}),e.jsx("div",{className:"flex justify-center mb-2",children:w(Math.round(m.averageRating),"lg")}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Từ ",m.totalReviews," đánh giá"]})]}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(P=>{const R=m.ratingDistribution[P]||0,T=m.totalReviews>0?R/m.totalReviews*100:0;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium w-4",children:P}),e.jsx(pe,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${T}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-8",children:R})]},P)})})]})]}),c&&m&&e.jsx(Ab,{totalReviews:t.length,selectedRating:f,sortBy:N,onRatingFilter:v,onSortChange:g,ratingDistribution:m.ratingDistribution}),e.jsx("div",{className:"space-y-4",children:x.length===0?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[e.jsx(Rr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa có đánh giá nào"}),e.jsx("p",{className:"text-gray-600",children:"Hãy là người đầu tiên để lại đánh giá cho khách sạn này."})]}):x.map(P=>{const R=d.has(P.id),E=P.comment&&S(P.comment)&&!R?P.comment.substring(0,300)+"...":P.comment;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:e.jsx(He,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:P.userName||"Khách ẩn danh"}),k()]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"flex",children:w(P.rating)}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[P.rating,"/5"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:j(P.createdAt)}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{children:y(P.createdAt)})]})]})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(Sx,{className:"h-4 w-4"})})]}),P.comment&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-800 leading-relaxed",children:E}),P.comment&&S(P.comment)&&e.jsx("button",{onClick:()=>C(P.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium mt-2",children:R?"Show Less":"Show More"})]})]},P.id)})}),r&&a>1&&l&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[e.jsx("button",{onClick:()=>l(Math.max(0,n-1)),disabled:n===0,className:`px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium ${n===0?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:"Trước"}),Array.from({length:Math.min(5,a)},(P,R)=>{const T=Math.max(0,Math.min(n-2,a-5))+R,E=T===n;return e.jsx("button",{onClick:()=>l(T),className:`px-4 py-2 border rounded-lg text-sm font-medium ${E?"bg-blue-600 text-white border-blue-600":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:T+1},T)}),e.jsx("button",{onClick:()=>l(Math.min(a-1,n+1)),disabled:n>=a-1,className:`px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium ${n>=a-1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:"Sau"})]})]})},Mb=()=>{const{id:t}=ot(),s=le(),r=Ut(),{user:n}=ir(),a=new URLSearchParams(r.search),l=a.get("checkIn")||new Date(Date.now()+864e5).toISOString().split("T")[0],i=a.get("checkOut")||new Date(Date.now()+2*864e5).toISOString().split("T")[0],o=parseInt(a.get("guests")||"2"),c=a.get("returnUrl"),[d,u]=h.useState(null),[m,p]=h.useState([]),[x,b]=h.useState([]),[f,v]=h.useState(!0),[N,g]=h.useState(null),[y,j]=h.useState("overview"),[w,C]=h.useState(!1),[k,S]=h.useState(null),[P,R]=h.useState(!1),T=Math.max(1,Math.ceil((new Date(i).getTime()-new Date(l).getTime())/(1e3*60*60*24))),E=async()=>{if(t)try{v(!0),g(null);const[O,A,F]=await Promise.all([me.getHotelDetails(t),jt.getRoomTypesByHotel(t,0,20),Wt.getReviewsByHotel(t,0,10).catch(()=>({data:{result:{content:[]}}}))]);O.data.success?u(O.data.result):g("Hotel information not found"),A.data.success&&p(A.data.result.content||[]),F.data.success&&b(F.data.result.content||[])}catch(O){console.error("Error fetching hotel details:",O),g("An error occurred while loading hotel information")}finally{v(!1)}};h.useEffect(()=>{E()},[t]),h.useEffect(()=>{n&&t?_():S(null)},[n,t]);const I=O=>O?O.toLocaleString("en-US")+" VND":"Contact",U=O=>O?Array.from({length:5},(A,F)=>e.jsx(pe,{className:`h-5 w-5 ${F<O?"text-yellow-400 fill-current":"text-gray-300"}`},F)):null,K=O=>{const A=O.toLowerCase();return A.includes("wifi")||A.includes("internet")?e.jsx(mb,{className:"h-5 w-5"}):A.includes("parking")||A.includes("car park")?e.jsx(Wy,{className:"h-5 w-5"}):A.includes("restaurant")||A.includes("dining")?e.jsx(cb,{className:"h-5 w-5"}):A.includes("gym")||A.includes("fitness")?e.jsx(Jy,{className:"h-5 w-5"}):A.includes("pool")||A.includes("swimming")?e.jsx(db,{className:"h-5 w-5"}):A.includes("bar")||A.includes("coffee")?e.jsx(Yy,{className:"h-5 w-5"}):e.jsx(pe,{className:"h-5 w-5"})},q=O=>O||"https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg",_=async()=>{if(!(!n||!t))try{R(!0);const O=await Wt.getMyReviews(0,100);if(O.data.success){const A=O.data.result.content.find(F=>F.hotelId===t);S(A||null)}}catch(O){console.error("Error checking user existing review:",O),S(null)}finally{R(!1)}},z=O=>{C(!1),S(null),Promise.all([E(),_()]),alert("Your review has been submitted successfully!")},Y=()=>{C(!1),Promise.all([E(),_()]),alert("Your review has been updated!")},W=()=>{C(!1),S(null),E(),alert("Your review has been deleted!")};return f?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-6"}),e.jsx("div",{className:"h-64 bg-gray-300 rounded-lg mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-6"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-4/6"})]})]}),e.jsx("div",{children:e.jsx("div",{className:"h-64 bg-gray-300 rounded-lg"})})]})]})})}):N||!d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-4",children:N||"Hotel not found"}),e.jsx(ce,{to:"/hotels",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to hotel list"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(ce,{to:"/",className:"hover:text-blue-600",children:"Home"}),e.jsx(oa,{className:"h-4 w-4 rotate-180"}),e.jsx(ce,{to:c||"/hotels",className:"hover:text-blue-600",children:"Hotels"}),e.jsx(oa,{className:"h-4 w-4 rotate-180"}),e.jsx("span",{className:"text-gray-900 font-medium",children:d.name})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),new Date(l).toLocaleDateString("vi-VN")," - ",new Date(i).toLocaleDateString("vi-VN")]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),o," guests"]}),e.jsxs("div",{className:"text-blue-600 font-medium",children:[T," nights"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"relative h-64 md:h-96 rounded-lg overflow-hidden mb-8",children:[e.jsx("img",{src:q(d.imageUrl),alt:d.name,className:"w-full h-full object-cover",onError:O=>{const A=O.target;A.src="https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg"}}),d.featured&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Featured"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:d.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Be,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:d.address})]}),d.city&&e.jsxs("div",{className:"text-gray-600",children:[d.city,d.country&&`, ${d.country}`]})]}),e.jsxs("div",{className:"text-right",children:[d.starRating&&e.jsxs("div",{className:"flex items-center mb-2",children:[U(d.starRating),e.jsxs("span",{className:"ml-2 text-lg font-medium",children:[d.starRating," stars"]})]}),d.averageRating&&e.jsxs("div",{className:"text-sm text-gray-600",children:[d.averageRating.toFixed(1),"/5 (",d.totalReviews||0," reviews)"]})]})]})}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview"},{id:"rooms",label:`Rooms (${m.length})`},{id:"reviews",label:`Reviews (${x.length})`}].map(O=>e.jsx("button",{onClick:()=>j(O.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${y===O.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:O.label},O.id))})}),y==="overview"&&e.jsxs("div",{className:"space-y-8",children:[d.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:d.description})]}),d.amenities&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d.amenities.split(",").map((O,A)=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[K(O.trim()),e.jsx("span",{className:"ml-3 text-gray-700",children:O.trim()})]},A))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.cancellationPolicy&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Cancellation Policy"}),e.jsx("p",{className:"text-gray-700",children:d.cancellationPolicy})]}),d.petPolicy&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Pet Policy"}),e.jsx("p",{className:"text-gray-700",children:d.petPolicy})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.phone&&e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(Le,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"ml-3 text-gray-700",children:d.phone})]}),d.email&&e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(De,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"ml-3 text-gray-700",children:d.email})]}),d.website&&e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(Ql,{className:"h-5 w-5 text-gray-600"}),e.jsx("a",{href:d.website,target:"_blank",rel:"noopener noreferrer",className:"ml-3 text-blue-600 hover:underline",children:d.website})]})]})]})]}),y==="rooms"&&e.jsx("div",{className:"space-y-6",children:m.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No room information available"}):m.map(O=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:q(O.imageUrl),alt:O.name,className:"w-full h-48 object-cover rounded-lg",onError:A=>{const F=A.target;F.src="https://images.pexels.com/photos/164595/pexels-photo-164595.jpeg"}})}),e.jsxs("div",{className:"md:w-2/3",children:[e.jsx("h4",{className:"text-xl font-semibold mb-2",children:O.name}),O.description&&e.jsx("p",{className:"text-gray-600 mb-4",children:O.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Max ",O.maxOccupancy," guests"]})]}),O.bedType&&e.jsxs("div",{className:"text-sm text-gray-700",children:["Bed type: ",O.bedType]}),O.roomSize&&e.jsxs("div",{className:"text-sm text-gray-700",children:["Size: ",O.roomSize,"m²"]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Available: ",O.availableRooms," rooms"]})]}),O.amenities&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Room amenities:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:O.amenities.split(",").map((A,F)=>e.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 text-xs rounded-full border border-green-200",children:A.trim()},F))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:I(O.pricePerNight)}),e.jsx("div",{className:"text-sm text-gray-600",children:"per night"}),T>1&&e.jsxs("div",{className:"text-lg font-semibold text-green-600 mt-1",children:[I(O.pricePerNight*T)," total"]})]}),e.jsxs("div",{className:"text-right",children:[O.maxOccupancy<o?e.jsx("div",{className:"text-red-600 text-sm mb-2",children:"Room capacity exceeded"}):O.availableRooms===0?e.jsx("div",{className:"text-red-600 text-sm mb-2",children:"Sold out"}):e.jsxs("div",{className:"text-green-600 text-sm mb-2",children:[O.availableRooms," rooms available"]}),e.jsx("button",{onClick:()=>{if(O.maxOccupancy<o){alert(`This room can accommodate maximum ${O.maxOccupancy} guests. Please select a different room type or reduce guest count.`);return}if(O.availableRooms===0){alert("This room type is currently sold out for the selected dates.");return}const A=new URLSearchParams({hotelId:d.id,roomTypeId:O.id,checkIn:l,checkOut:i,guests:o.toString()});s(`/booking?${A.toString()}`)},disabled:O.maxOccupancy<o||O.availableRooms===0,className:`px-6 py-2 rounded-lg font-semibold transition-colors ${O.maxOccupancy<o||O.availableRooms===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:O.maxOccupancy<o?"Capacity Exceeded":O.availableRooms===0?"Sold Out":"Book Now"})]})]})]})]})},O.id))}),y==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[n?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:P?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Checking your review..."})]}):k?w?e.jsx(Db,{review:{id:k.id,rating:k.rating,comment:k.comment,hotelId:k.hotelId,hotelName:d==null?void 0:d.name},onSuccess:Y,onCancel:()=>C(!1),onDelete:W}):e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"You have already reviewed this hotel"}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[Array(5).fill(0).map((O,A)=>e.jsx(pe,{className:`h-5 w-5 ${A<k.rating?"text-yellow-400 fill-current":"text-gray-300"}`},A)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[k.rating,"/5 stars"]})]}),k.comment&&e.jsxs("p",{className:"text-gray-700 text-sm",children:['"',k.comment,'"']}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Reviewed on ",new Date(k.createdAt).toLocaleDateString("en-US")]})]}),e.jsx("button",{onClick:()=>C(!0),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Edit review"})]}):w?e.jsx(Eb,{hotelId:(d==null?void 0:d.id)||"",hotelName:(d==null?void 0:d.name)||"",onSuccess:z,onCancel:()=>C(!1)}):e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Share your experience"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your review will help others make better choices"}),e.jsx("button",{onClick:()=>C(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Write a review"})]})}):e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Login to write a review"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You need to login to share your experience and review this hotel"}),e.jsx(ce,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-block",children:"Login"})]}),e.jsx(Ib,{reviews:x,loading:f,showStats:!0,showFilters:!0,hotelId:d==null?void 0:d.id})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Booking Information"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:I(d.pricePerNight)}),d.pricePerNight&&e.jsx("div",{className:"text-gray-500",children:"per night"})]}),(d.checkInTime||d.checkOutTime)&&e.jsxs("div",{className:"mb-6 space-y-3",children:[d.checkInTime&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Check-in: ",d.checkInTime]})]}),d.checkOutTime&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Check-out: ",d.checkOutTime]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-center",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:d.totalRoomTypes||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Room types"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:d.totalRooms||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total rooms"})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Your Search"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-blue-700",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),new Date(l).toLocaleDateString("vi-VN")," - ",new Date(i).toLocaleDateString("vi-VN")]}),e.jsxs("div",{className:"flex items-center text-blue-700",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),o," guests • ",T," nights"]})]})]}),e.jsx("button",{onClick:()=>{const O=m.filter(A=>A.availableRooms>0&&A.maxOccupancy>=o);if(O.length>0){const A=O.reduce((B,se)=>B.pricePerNight<se.pricePerNight?B:se),F=new URLSearchParams({hotelId:d.id,roomTypeId:A.id,checkIn:l,checkOut:i,guests:o.toString()});s(`/booking?${F.toString()}`)}else alert(`No rooms available for ${o} guests on the selected dates. Please try different dates or guest count.`)},className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold mb-4",children:"Book Now"}),e.jsx(ce,{to:"/hotels",className:"w-full block text-center border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"View other hotels"})]})})]})]})]})},gn=({status:t,size:s="md",showIcon:r=!0})=>{const n=u=>{const m={PENDING:{label:"Pending",className:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Pe},CONFIRMED:{label:"Confirmed",className:"bg-green-100 text-green-800 border-green-200",icon:kt},CANCELLED:{label:"Cancelled",className:"bg-red-100 text-red-800 border-red-200",icon:ve},CANCELLED_BY_GUEST:{label:"Cancelled by Guest",className:"bg-orange-100 text-orange-800 border-orange-200",icon:ve},CANCELLED_BY_HOST:{label:"Cancelled by Host",className:"bg-red-100 text-red-800 border-red-200",icon:ve},COMPLETED:{label:"Completed",className:"bg-blue-100 text-blue-800 border-blue-200",icon:kt},NO_SHOW:{label:"No Show",className:"bg-gray-100 text-gray-800 border-gray-200",icon:As}};return m[u]||m.PENDING},a=u=>{const m={sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"};return m[u]||m.md},l=u=>{const m={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return m[u]||m.md},i=n(t),o=i.icon,c=a(s),d=l(s);return e.jsxs("span",{className:`inline-flex items-center ${c} rounded-full font-medium border ${i.className}`,children:[r&&e.jsx(o,{className:`${d} mr-1`}),i.label]})},pn=({status:t,size:s="md",showIcon:r=!0})=>{const n=u=>{const m={PENDING:{label:"Pending Payment",className:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Pe},PAID:{label:"Paid",className:"bg-green-100 text-green-800 border-green-200",icon:kt},FAILED:{label:"Failed",className:"bg-red-100 text-red-800 border-red-200",icon:ve},REFUNDED:{label:"Refunded",className:"bg-gray-100 text-gray-800 border-gray-200",icon:ge},PARTIALLY_REFUNDED:{label:"Partially Refunded",className:"bg-orange-100 text-orange-800 border-orange-200",icon:ge},REFUND_PENDING:{label:"Refund Pending",className:"bg-purple-100 text-purple-800 border-purple-200",icon:Pe},NO_PAYMENT:{label:"No Payment",className:"bg-gray-100 text-gray-600 border-gray-200",icon:ve},CANCELLED:{label:"No Refund",className:"bg-red-100 text-red-800 border-red-200",icon:ve}};return m[u]||m.PENDING},a=u=>{const m={sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"};return m[u]||m.md},l=u=>{const m={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return m[u]||m.md},i=n(t),o=i.icon,c=a(s),d=l(s);return e.jsxs("span",{className:`inline-flex items-center ${c} rounded-full font-medium border ${i.className}`,children:[r&&e.jsx(o,{className:`${d} mr-1`}),i.label]})},Lb=()=>{const t=le(),[s,r]=h.useState([]),[n,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState({}),[d,u]=h.useState(!1);h.useEffect(()=>{m()},[o]),h.useEffect(()=>{const f=()=>{m(!0)};return window.addEventListener("focus",f),()=>{window.removeEventListener("focus",f)}},[]),h.useEffect(()=>{m(!0)},[]);const m=async(f=!1)=>{var v;f?i(!0):a(!0);try{console.log("Fetching bookings with filters:",o);const N=await Ne.getMyBookings(o);console.log("API Response:",N.data),console.log("Bookings data:",(v=N.data.result)==null?void 0:v.content),r(N.data.result.content||[])}catch(N){console.error("Error fetching bookings:",N)}finally{a(!1),i(!1)}},p=()=>{m(!0)},x=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=(f,v)=>{c(N=>({...N,[f]:v||void 0}))};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading bookings..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Bookings"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:p,disabled:l,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(Qe,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:()=>{console.log("Force refresh clicked"),m(!0)},disabled:l,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[e.jsx(Qe,{className:`h-3 w-3 mr-1 ${l?"animate-spin":""}`}),"Force"]}),e.jsxs("button",{onClick:()=>u(!d),className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),d&&e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:o.status||"",onChange:f=>b("status",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"CANCELLED_BY_GUEST",children:"Cancelled by Guest"}),e.jsx("option",{value:"CANCELLED_BY_HOST",children:"Cancelled by Host"}),e.jsx("option",{value:"NO_SHOW",children:"No Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsxs("select",{value:o.paymentStatus||"",onChange:f=>b("paymentStatus",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Payment Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"PAID",children:"Paid"}),e.jsx("option",{value:"FAILED",children:"Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"}),e.jsx("option",{value:"PARTIALLY_REFUNDED",children:"Partially Refunded"}),e.jsx("option",{value:"REFUND_PENDING",children:"Refund Pending"}),e.jsx("option",{value:"NO_PAYMENT",children:"No Payment"}),e.jsx("option",{value:"CANCELLED",children:"No Refund"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),e.jsx("input",{type:"date",value:o.checkInDate||"",onChange:f=>b("checkInDate",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),e.jsx("input",{type:"date",value:o.checkOutDate||"",onChange:f=>b("checkOutDate",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"You haven't made any bookings yet."}),e.jsx("button",{onClick:()=>t("/hotels"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Hotels"})]}):e.jsx("div",{className:"space-y-6",children:s.map(f=>e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(`/bookings/${f.id}`),children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/4",children:e.jsx("img",{src:"https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg",alt:f.hotelName,className:"h-48 w-full object-cover"})}),e.jsxs("div",{className:"p-6 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:f.hotelName}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[e.jsx(Be,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:f.hotelAddress})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Booking Reference: ",f.bookingReference]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(gn,{status:f.status,size:"sm"}),e.jsx("div",{className:"mt-2",children:e.jsx(pn,{status:f.paymentStatus,size:"sm"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Check-in"}),e.jsx("div",{className:"font-medium",children:x(f.checkInDate)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Check-out"}),e.jsx("div",{className:"font-medium",children:x(f.checkOutDate)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsxs("div",{className:"font-medium",children:["$",f.totalAmount]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"space-x-4",children:[e.jsx("span",{children:f.roomTypeName}),e.jsxs("span",{children:[f.guests," Guests"]}),e.jsxs("span",{children:[f.numberOfNights," Nights"]})]}),f.paymentMethod&&e.jsx("span",{className:"text-blue-600",children:f.paymentMethod})]})]})]})},f.id))})]})})},Bb=()=>{const{id:t}=ot(),s=le(),[r,n]=h.useState(null),[a,l]=h.useState(!0),[i,o]=h.useState(null),[c,d]=h.useState(!1);h.useEffect(()=>{t&&u()},[t]);const u=async()=>{var b,f;if(t){l(!0);try{const v=await Ne.getMyBookingById(t);n(v.data.result)}catch(v){console.error("Error fetching booking:",v),o(((f=(b=v.response)==null?void 0:b.data)==null?void 0:f.message)||"Failed to fetch booking details")}finally{l(!1)}}},m=async()=>{var f,v;if(!r||!t)return;const b=prompt("Please provide a reason for cancellation (optional):");if(b!==null){d(!0);try{await Ne.cancelMyBooking(t,b),await u(),alert("Booking cancelled successfully")}catch(N){console.error("Error cancelling booking:",N),alert(((v=(f=N.response)==null?void 0:f.data)==null?void 0:v.message)||"Failed to cancel booking")}finally{d(!1)}}},p=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(a)return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading booking details..."})]})})});if(i||!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s("/bookings"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Back to Bookings"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 text-lg font-semibold mb-2",children:i||"Booking not found"}),e.jsx("button",{onClick:()=>s("/bookings"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Bookings"})]})]})});const x=r.status==="PENDING"||r.status==="CONFIRMED";return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s("/bookings"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Back to Bookings"]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Details"}),e.jsxs("p",{className:"text-gray-600",children:["Booking #",r.bookingReference]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(gn,{status:r.status}),e.jsx("div",{className:"mt-2",children:e.jsx(pn,{status:r.paymentStatus})})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:"https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg",alt:r.hotelName,className:"w-full h-64 object-cover rounded-lg"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r.hotelName}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r.hotelAddress})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[r.guests," Guests"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[p(r.checkInDate)," - ",p(r.checkOutDate)]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[r.numberOfNights," Night",r.numberOfNights>1?"s":""]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Hotel Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r.hotelPhone||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r.hotelEmail||"N/A"})]})]}),e.jsx("h3",{className:"font-semibold mb-3 mt-6",children:"Guest Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r.guestName})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r.guestEmail})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r.guestPhone})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Room Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Room Type"}),e.jsx("p",{className:"font-medium",children:r.roomTypeName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Room Description"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.roomDescription})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Max Occupancy"}),e.jsxs("p",{className:"font-medium",children:[r.maxOccupancy," guests"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Bed Type"}),e.jsx("p",{className:"font-medium",children:r.bedType})]})]}),r.specialRequests&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"Special Requests"}),e.jsx("p",{className:"text-sm bg-gray-100 p-3 rounded-lg",children:r.specialRequests})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Payment Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Payment Method"}),e.jsx("p",{className:"font-medium",children:r.paymentMethod||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Payment Status"}),e.jsx("p",{className:"font-medium",children:r.paymentStatus})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Price per Night"}),e.jsxs("p",{className:"font-medium",children:["$",r.pricePerNight]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"font-medium text-xl text-blue-600",children:["$",r.totalAmount]})]})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Created: ",p(r.createdAt)]}),e.jsxs("p",{children:["Last Updated: ",p(r.updatedAt)]})]}),e.jsxs("div",{className:"flex space-x-4",children:[x&&e.jsx("button",{onClick:m,disabled:c,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Download Invoice"]})]})]})})]})})]})})},zb=()=>{const{bookingId:t}=ot();le();const[s,r]=h.useState(null),[n,a]=h.useState(!0),[l,i]=h.useState(null);h.useEffect(()=>{(async()=>{if(!t){i("Booking ID not found"),a(!1);return}try{a(!0);const p=await Ne.getMyBookingById(t);p.data.success?r(p.data.result):i("Unable to load booking details")}catch(p){console.error("Error fetching booking:",p),i("Failed to load booking information")}finally{a(!1)}})()},[t]);const o=m=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m),c=m=>new Date(m).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=m=>{switch(m){case"CONFIRMED":return"text-green-600 bg-green-100";case"PENDING":return"text-yellow-600 bg-yellow-100";case"CANCELLED":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},u=m=>{switch(m){case"VNPAY":return"VNPay";case"CASH_ON_CHECKIN":return"Thanh toán khi đặt phòng";default:return"Thanh toán khi đặt phòng"}};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l||!s?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-xl font-semibold mb-4",children:l||"Booking not found"}),e.jsxs(ce,{to:"/hotels",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Back to Hotels"]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(kt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Đặt phòng thành công!"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Cảm ơn bạn đã đặt phòng. Chi tiết booking của bạn như sau:"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"bg-blue-50 px-6 py-4 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Booking Reference: ",s.bookingReference]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Booked on ",new Date(s.createdAt).toLocaleDateString("vi-VN")]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(s.status)}`,children:s.status})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Be,{className:"h-5 w-5 mr-2 text-blue-600"}),"Hotel Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.hotelName}),e.jsx("div",{className:"text-gray-600",children:s.hotelAddress})]}),s.hotelPhone&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),s.hotelPhone]}),s.hotelEmail&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),s.hotelEmail]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.roomTypeName}),s.roomDescription&&e.jsx("div",{className:"text-gray-600",children:s.roomDescription})]}),e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Bed Type:"})," ",s.bedType]}),e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Max Occupancy:"})," ",s.maxOccupancy," guests"]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 mr-2 text-blue-600"}),"Booking Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Check-in:"}),e.jsx("div",{className:"text-gray-900",children:c(s.checkInDate)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Check-out:"}),e.jsx("div",{className:"text-gray-900",children:c(s.checkOutDate)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 mr-2 text-gray-500"}),e.jsxs("span",{className:"text-gray-600",children:[s.guests," guests"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Duration:"}),e.jsxs("span",{className:"text-gray-900 ml-2",children:[s.numberOfNights," nights"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Guest Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),e.jsx("div",{className:"text-gray-900",children:s.guestName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Email:"}),e.jsx("div",{className:"text-gray-900",children:s.guestEmail})]}),s.guestPhone&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Phone:"}),e.jsx("div",{className:"text-gray-900",children:s.guestPhone})]})]})]})]}),s.specialRequests&&e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Rr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Special Requests"]}),e.jsx("p",{className:"text-gray-700",children:s.specialRequests})]}),e.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ot,{className:"h-5 w-5 mr-2 text-blue-600"}),"Payment Summary"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Room rate per night:"}),e.jsx("span",{className:"font-medium",children:o(s.pricePerNight)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Number of nights:"}),e.jsx("span",{className:"font-medium",children:s.numberOfNights})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total Amount:"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:o(s.totalAmount)})]})}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Payment Method:"}),e.jsx("span",{className:"text-gray-900",children:u(s.paymentMethod)})]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Payment Status:"}),e.jsx("span",{className:`px-2 py-1 rounded text-sm ${s.paymentStatus==="PAID"?"bg-green-100 text-green-800":s.paymentStatus==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.paymentStatus})]})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Important Information:"}),e.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1",children:[e.jsx("li",{children:"• Please bring a valid ID for check-in"}),e.jsx("li",{children:"• Check-in time is typically 3:00 PM, check-out at 11:00 AM"}),s.paymentMethod==="CASH_ON_CHECKIN"&&e.jsx("li",{children:"• Please prepare exact cash amount for payment at the hotel"}),e.jsx("li",{children:"• Contact the hotel directly for any special arrangements"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ce,{to:"/bookings/my",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View My Bookings"}),e.jsxs(ce,{to:"/hotels",className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Back to Hotels"]}),e.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Print Confirmation"]})]})]})})};var ts=(t=>(t.ACTIVE="ACTIVE",t.INACTIVE="INACTIVE",t.EXPIRED="EXPIRED",t.USED_UP="USED_UP",t))(ts||{}),rs=(t=>(t.PERCENTAGE="PERCENTAGE",t.HOTEL_SPECIFIC="HOTEL_SPECIFIC",t))(rs||{}),Dr=(t=>(t.ALL_HOTELS="ALL_HOTELS",t.SPECIFIC_HOTELS="SPECIFIC_HOTELS",t))(Dr||{});const Ob=t=>{const[s,r]=h.useState([]),[n,a]=h.useState(!1),[l,i]=h.useState(null);return h.useEffect(()=>{if(!t){r([]);return}(async()=>{var c,d;a(!0),i(null);try{const u=await ks.getAvailableVouchersForHotel(t);u.data.success&&r(u.data.result)}catch(u){i(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Failed to load vouchers"),r([])}finally{a(!1)}})()},[t]),{vouchers:s,loading:n,error:l,refetch:()=>r([])}},Hb=({hotelId:t,onVoucherSelect:s,className:r=""})=>{const{vouchers:n,loading:a,error:l}=Ob(t),i=u=>u.toLocaleString("vi-VN")+"đ",o=u=>new Date(u).toLocaleDateString("vi-VN"),c=u=>{if(u.discountType===rs.PERCENTAGE){const m=u.maxDiscount?` (tối đa ${i(u.maxDiscount)})`:"";return`${u.discountValue}%${m}`}return i(u.discountValue)},d=u=>u.usageLimit?`${u.usageLimit-u.usageCount} lượt còn lại`:"Không giới hạn";return a?e.jsx("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${r}`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-16 bg-gray-200 rounded"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):l?e.jsx("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${r}`,children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Không thể tải voucher"})]})}):n.length===0?e.jsx("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${r}`,children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Không có voucher nào khả dụng cho khách sạn này"})]})}):e.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${r}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Qt,{size:20,className:"text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Voucher khả dụng"})]}),e.jsx("div",{className:"space-y-3",children:n.map(u=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s==null?void 0:s(u.code),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:u.code}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:u.name})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:u.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xn,{size:12,className:"mr-1 text-green-600"}),e.jsxs("span",{children:["Giảm ",c(u)]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{size:12,className:"mr-1 text-blue-600"}),e.jsx("span",{children:d(u)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{size:12,className:"mr-1 text-orange-600"}),e.jsxs("span",{children:["Đến ",o(u.endDate)]})]})]}),u.minBookingValue&&e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["Áp dụng cho đơn từ ",i(u.minBookingValue)]})]}),e.jsx("div",{className:"ml-3 flex-shrink-0",children:e.jsx("button",{onClick:m=>{m.stopPropagation(),s==null||s(u.code)},className:"text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",children:"Áp dụng"})})]})},u.id))}),e.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:"Nhấp vào voucher để áp dụng"})]})},Fb=({hotelId:t,bookingAmount:s,onVoucherApplied:r,onVoucherRemoved:n,appliedVoucherCode:a,disabled:l=!1})=>{var w,C;const[i,o]=h.useState(a||""),[c,d]=h.useState(!1),[u,m]=h.useState(null),[p,x]=h.useState(""),[b,f]=h.useState(!1),v=async()=>{var k,S;if(!i.trim()){x("Vui lòng nhập mã voucher");return}d(!0),x(""),m(null);try{const P=await ks.validateVoucher({code:i.toUpperCase(),hotelId:t,bookingAmount:s});if(P.data.success){const R=P.data.result;m(R),R.valid&&R.discountAmount&&r?r(R.discountAmount,i.toUpperCase()):R.valid||x(R.message||"Voucher không hợp lệ")}}catch(P){x(((S=(k=P.response)==null?void 0:k.data)==null?void 0:S.message)||"Không thể kiểm tra voucher")}finally{d(!1)}},N=()=>{o(""),m(null),x(""),n&&n()},g=k=>k.toLocaleString("vi-VN")+"đ",y=k=>{k.key==="Enter"&&v()},j=async k=>{var S,P;o(k),f(!1),d(!0),x(""),m(null);try{const R=await ks.validateVoucher({code:k,hotelId:t,bookingAmount:s});if(R.data.success){const T=R.data.result;m(T),T.valid&&T.discountAmount&&r?r(T.discountAmount,k):T.valid||x(T.message||"Voucher không hợp lệ")}}catch(R){x(((P=(S=R.response)==null?void 0:S.data)==null?void 0:P.message)||"Không thể kiểm tra voucher")}finally{d(!1)}};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Qt,{size:20,className:"text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mã giảm giá"})]}),a?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-green-800",children:[e.jsx(We,{size:16,className:"mr-2"}),e.jsxs("span",{className:"font-medium",children:["Đã áp dụng: ",a]})]}),e.jsx("button",{onClick:N,disabled:l,className:"text-red-600 hover:text-red-800 disabled:opacity-50",children:e.jsx(ve,{size:16})})]}),u&&e.jsx("div",{className:"text-sm text-green-700 mt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Giảm giá:"}),e.jsxs("span",{className:"font-semibold",children:["-",g(u.discountAmount||0)]})]})})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:i,onChange:k=>o(k.target.value.toUpperCase()),onKeyPress:y,placeholder:"Nhập mã voucher (VD: SUMMER2024)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l||c})}),e.jsx("button",{onClick:v,disabled:l||c||!i.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:c?e.jsx(ab,{size:16,className:"animate-spin"}):"Áp dụng"})]}),p&&e.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[e.jsx(he,{size:16,className:"mr-2"}),p]}),u&&u.valid&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center text-green-800 mb-2",children:[e.jsx(We,{size:16,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Voucher hợp lệ!"})]}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsxs("div",{children:["Mã: ",e.jsx("span",{className:"font-medium",children:(w=u.voucher)==null?void 0:w.code})]}),e.jsxs("div",{children:["Tên: ",(C=u.voucher)==null?void 0:C.name]}),e.jsxs("div",{className:"flex justify-between mt-2 pt-2 border-t border-green-200",children:[e.jsx("span",{children:"Giảm giá:"}),e.jsxs("span",{className:"font-semibold",children:["-",g(u.discountAmount||0)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Thành tiền:"}),e.jsx("span",{className:"font-semibold",children:g(u.finalAmount||0)})]})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("button",{onClick:()=>f(!b),className:"flex items-center text-sm text-blue-600 hover:text-blue-800 transition-colors",disabled:l,children:[e.jsx("span",{children:"Xem voucher khả dụng"}),b?e.jsx(_t,{size:16,className:"ml-1"}):e.jsx(Tt,{size:16,className:"ml-1"})]}),b&&e.jsx("div",{className:"mt-3",children:e.jsx(Hb,{hotelId:t,onVoucherSelect:j})})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Nhập mã voucher hoặc chọn từ danh sách voucher khả dụng"})]})},Vb=({amount:t,orderInfo:s,bookingId:r,onPaymentInitiated:n,onError:a,disabled:l=!1})=>{const[i,o]=h.useState(!1),c=async()=>{o(!0);try{const u=await(await fetch("/api/payment/vnpay/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t,orderInfo:s,bookingId:r,language:"vn"})})).json();u.code===1e3?(n(u.data.paymentUrl,u.data.txnRef),window.location.href=u.data.paymentUrl):a(u.message||"Tạo thanh toán thất bại")}catch{a("Lỗi kết nối. Vui lòng thử lại.")}finally{o(!1)}};return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ot,{className:"h-6 w-6 text-blue-600"}),e.jsx("h4",{className:"font-medium text-gray-900",children:"Thanh toán VNPay"})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Bạn sẽ được chuyển đến trang thanh toán VNPay để hoàn tất giao dịch."}),e.jsx("button",{onClick:c,disabled:l||i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(wx,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Đang xử lý..."})]}):e.jsx("span",{children:"Thanh toán ngay"})})]})})},$b=({amount:t,orderInfo:s,bookingId:r,selectedMethod:n,onMethodChange:a,onVNPayInitiated:l,disabled:i=!1})=>{const[o,c]=h.useState(!1),d=[{id:"CASH_ON_CHECKIN",name:"Thanh toán khi nhận phòng",description:"Thanh toán bằng tiền mặt khi check-in tại khách sạn",icon:Lo,color:"green",available:!0,pros:["Không cần thanh toán trước","Linh hoạt với thời gian thanh toán","Không phí giao dịch"],cons:["Cần chuẩn bị tiền mặt","Có thể hủy phòng nếu không thanh toán"]},{id:"VNPAY",name:"VNPay",description:"Thanh toán online qua ví điện tử VNPay",icon:Ot,color:"blue",available:!0,pros:["Thanh toán nhanh chóng, tiện lợi","Xác nhận booking ngay lập tức","Bảo mật cao với công nghệ mã hóa","Hỗ trợ nhiều ngân hàng"],cons:["Cần có tài khoản ngân hàng/thẻ","Phí giao dịch (nếu có)"]}],u=x=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(x),m=x=>{a(x),c(x==="VNPAY")},p=(x,b)=>{l==null||l(x,b)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Chọn phương thức thanh toán"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(x=>{const b=x.icon,f=n===x.id,N={green:{border:f?"border-green-500":"border-gray-200",bg:f?"bg-green-50":"bg-white",icon:f?"text-green-600":"text-gray-400",check:"text-green-600"},blue:{border:f?"border-blue-500":"border-gray-200",bg:f?"bg-blue-50":"bg-white",icon:f?"text-blue-600":"text-gray-400",check:"text-blue-600"}}[x.color];return e.jsxs("div",{className:`relative border-2 rounded-lg transition-all ${i?"cursor-not-allowed opacity-60":`cursor-pointer hover:border-gray-300 ${N.border}`} ${N.bg}`,onClick:()=>!i&&x.available&&m(x.id),children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(b,{className:`h-6 w-6 mt-1 ${N.icon}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:x.name}),f&&e.jsx(We,{className:`h-5 w-5 ${N.check}`})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-700 mb-1",children:"Ưu điểm:"}),e.jsx("ul",{className:"space-y-1",children:x.pros.map((g,y)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-1",children:"•"}),e.jsx("span",{className:"text-gray-600",children:g})]},y))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-orange-700 mb-1",children:"Lưu ý:"}),e.jsx("ul",{className:"space-y-1",children:x.cons.map((g,y)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-orange-500 mr-1",children:"•"}),e.jsx("span",{className:"text-gray-600",children:g})]},y))})]})]})]})]})}),f&&e.jsx("div",{className:`absolute top-0 right-0 w-0 h-0 border-l-[20px] border-l-transparent border-t-[20px] ${x.color==="green"?"border-t-green-500":"border-t-blue-500"}`,children:e.jsx(We,{className:"absolute -top-[18px] -right-[15px] h-3 w-3 text-white"})})]},x.id)})})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Tổng số tiền thanh toán"}),e.jsx("div",{className:"text-sm text-gray-600",children:s})]}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:u(t)})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Je,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Thanh toán an toàn & bảo mật"}),e.jsx("div",{className:"text-blue-700",children:n==="VNPAY"?e.jsx("p",{children:"VNPay sử dụng công nghệ mã hóa SSL 256-bit và tuân thủ chuẩn bảo mật PCI DSS để đảm bảo thông tin thanh toán của bạn được bảo vệ tuyệt đối."}):e.jsx("p",{children:"Thanh toán trực tiếp tại khách sạn giúp bạn linh hoạt và không cần lo lắng về bảo mật thông tin trực tuyến."})})]})]})}),n==="VNPAY"&&o&&e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"border-t pt-6",children:e.jsx(Vb,{amount:t,orderInfo:s,bookingId:r,onPaymentInitiated:p,onError:x=>{console.error("VNPay payment error:",x)},disabled:i})})}),n==="CASH_ON_CHECKIN"&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(he,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Lưu ý về thanh toán tiền mặt"}),e.jsxs("div",{className:"text-green-700 space-y-1",children:[e.jsxs("p",{children:["• Vui lòng chuẩn bị đúng số tiền ",u(t)," khi check-in"]}),e.jsx("p",{children:"• Khách sạn có quyền hủy booking nếu không thanh toán đúng hạn"}),e.jsx("p",{children:"• Bạn có thể thanh toán bằng tiền mặt hoặc thẻ tại khách sạn"}),e.jsx("p",{children:"• Booking sẽ được xác nhận sau khi thanh toán thành công"})]})]})]})})]})},Ub=({hotel:t,roomType:s,checkInDate:r,checkOutDate:n,guests:a,onSuccess:l})=>{const i=le(),{user:o}=ir(),[c,d]=h.useState(1),[u,m]=h.useState(!1),[p,x]=h.useState(!1),[b,f]=h.useState(null),[v,N]=h.useState({hotelId:t.id,roomTypeId:s.id,checkInDate:r,checkOutDate:n,guests:a,totalAmount:0,paymentMethod:"CASH_ON_CHECKIN",specialRequests:""}),[g,y]=h.useState({}),[j,w]=h.useState({}),[C,k]=h.useState(""),[S,P]=h.useState(0),[R,T]=h.useState(0),E=Math.ceil((new Date(n).getTime()-new Date(r).getTime())/(1e3*60*60*24));h.useEffect(()=>{const F=E*s.pricePerNight;T(F);const B=F-S;N(se=>({...se,totalAmount:B}))},[E,s.pricePerNight,S]);const I=[{step:1,title:"Review Booking",description:"Confirm your selection",isCompleted:c>1,isActive:c===1},{step:2,title:"Guest Information",description:"Verify your details",isCompleted:c>2,isActive:c===2},{step:3,title:"Payment Method",description:"Choose payment option",isCompleted:c>3,isActive:c===3},{step:4,title:"Confirmation",description:"Review and confirm",isCompleted:!1,isActive:c===4}];h.useEffect(()=>{(async()=>{x(!0);try{const B=await Ne.checkRoomAvailability(s.id,r,n);f(B.data.result)}catch(B){console.error("Error checking availability:",B),f(!1)}finally{x(!1)}})()},[s.id,r,n]);const U=()=>{var B,se;const F={};if(c===2){if(!o)return F.user="Please login to continue with booking",y(F),!1;(B=o.name)!=null&&B.trim()||(F.user="Please complete your profile with your name"),(se=o.email)!=null&&se.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(F.user="Please update your email to a valid format"):F.user="Please complete your profile with your email"}return c===3&&!v.paymentMethod&&(F.paymentMethod="Payment method is required"),y(F),Object.keys(F).length===0},K=()=>{U()&&d(F=>Math.min(F+1,4))},q=()=>{d(F=>Math.max(F-1,1))},_=(F,B)=>{N(se=>({...se,[F]:B})),w(se=>({...se,[F]:!0})),g[F]&&y(se=>({...se,[F]:""}))},z=(F,B)=>{P(F),k(B)},Y=()=>{P(0),k("")},W=async()=>{var F,B,se,oe,Re,Q;if(!(!U()||!b)){m(!0);try{const D={...v,...C&&{voucherCode:C}},V=(await Ne.createBooking(D)).data.result.id;if(v.paymentMethod==="VNPAY"){const re=localStorage.getItem("pendingPayment");if(re)try{const G=JSON.parse(re);G.txnRef&&(await Hy.linkPaymentToBooking(G.txnRef,V),localStorage.removeItem("pendingPayment"))}catch(G){console.error("Error linking payment to booking:",G)}}l?l(V):i(`/bookings/confirmation/${V}`)}catch(D){console.error("Error creating booking:",D),console.log("Full error response:",(F=D.response)==null?void 0:F.data);const J=(se=(B=D.response)==null?void 0:B.data)==null?void 0:se.code,V=(oe=D.response)==null?void 0:oe.status,re=((Q=(Re=D.response)==null?void 0:Re.data)==null?void 0:Q.message)||"";J===5016||V===409||re.includes("Booking conflict detected")||re.includes("overlapping bookings")||re.includes("conflict detected with existing reservations")?alert("Booking existed"):alert(re||"Booking failed")}finally{m(!1)}}},O=F=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(F),A=F=>new Date(F).toLocaleDateString("vi-VN",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return o?e.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:I.map((F,B)=>e.jsxs(yr.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${F.isCompleted?"bg-green-500 text-white":F.isActive?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:F.isCompleted?e.jsx(We,{className:"h-4 w-4"}):F.step}),e.jsxs("div",{className:"ml-3 hidden sm:block",children:[e.jsx("div",{className:`text-sm font-medium ${F.isActive?"text-blue-600":F.isCompleted?"text-green-600":"text-gray-500"}`,children:F.title}),e.jsx("div",{className:"text-xs text-gray-500",children:F.description})]})]}),B<I.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-4 ${F.isCompleted?"bg-green-500":"bg-gray-200"}`})]},F.step))})}),e.jsxs("div",{className:"p-6",children:[p&&e.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3"}),e.jsx("span",{className:"text-blue-800",children:"Checking room availability..."})]})}),b===!1&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsx("span",{className:"text-red-800",children:"Room is not available for the selected dates"})]})}),g.user&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsx("span",{className:"text-red-800",children:g.user})]})}),e.jsxs("div",{className:"min-h-[400px]",children:[c===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Your Booking"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:t.name}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),t.address]}),t.starRating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-2 text-yellow-500"}),t.starRating," Star Hotel"]})]}),t.imageUrl&&e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-32 object-cover rounded-lg mt-3"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:s.name}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Max ",s.maxOccupancy," guests"]}),s.bedType&&e.jsxs("div",{children:["Bed: ",s.bedType]}),s.roomSize&&e.jsxs("div",{children:["Size: ",s.roomSize," m²"]})]}),s.imageUrl&&e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-32 object-cover rounded-lg mt-3"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Booking Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Check-in"]}),e.jsx("div",{className:"font-medium",children:A(r)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Check-out"]}),e.jsx("div",{className:"font-medium",children:A(n)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Guests"]}),e.jsxs("div",{className:"font-medium",children:[a," guest",a>1?"s":""]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Price Breakdown"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Room rate per night"}),e.jsx("span",{children:O(s.pricePerNight)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Number of nights"}),e.jsx("span",{children:E})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsx("span",{className:"text-blue-600",children:O(v.totalAmount)})]})]})]})]}),c===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Guest Information"}),e.jsx("p",{className:"text-gray-600",children:"Your information from your account will be used for this booking."}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Booking Guest"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(He,{className:"h-4 w-4 inline mr-1"}),"Full Name"]}),e.jsx("div",{className:"px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900",children:o.name||"Name not provided"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(De,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),e.jsx("div",{className:"px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900",children:o.email||"Email not provided"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Le,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),e.jsx("div",{className:"px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900",children:o.tel||"Phone not provided"})]})]}),(!o.name||!o.email)&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-5 w-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"Incomplete Profile"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Please update your profile to continue with the booking."}),e.jsx("button",{onClick:()=>i("/profile"),className:"mt-2 text-blue-600 hover:text-blue-800 underline text-sm",children:"Update Profile"})]})]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Rr,{className:"h-4 w-4 inline mr-1"}),"Special Requests (Optional)"]}),e.jsx("textarea",{value:v.specialRequests,onChange:F=>_("specialRequests",F.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",placeholder:"Any special requests? (e.g., early check-in, room preferences, dietary requirements)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Special requests cannot be guaranteed but we'll do our best to accommodate them"})]})]}),c===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Method"}),e.jsx("p",{className:"text-gray-600",children:"Choose how you'd like to pay for your booking."}),e.jsx(Fb,{hotelId:t.id,bookingAmount:R,onVoucherApplied:z,onVoucherRemoved:Y,appliedVoucherCode:C,disabled:u}),e.jsx($b,{amount:v.totalAmount,orderInfo:`Booking ${t.name} - ${s.name} (${E} nights)`,selectedMethod:v.paymentMethod,onMethodChange:F=>_("paymentMethod",F),onVNPayInitiated:(F,B)=>{localStorage.setItem("pendingPayment",JSON.stringify({bookingData:v,paymentUrl:F,txnRef:B,timestamp:Date.now()})),window.location.href=F},disabled:u})]}),c===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Confirm Your Booking"}),e.jsx("p",{className:"text-gray-600",children:"Please review all details before confirming your booking."}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Guest Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"})," ",o.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Email:"})," ",o.email]}),o.tel&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",o.tel]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Booking Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hotel:"})," ",t.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Room:"})," ",s.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Check-in:"})," ",A(r)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Check-out:"})," ",A(n)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Guests:"})," ",a]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Nights:"})," ",E]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Payment Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),v.paymentMethod==="VNPAY"?" VNPay":" Cash on Check-in"]}),e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:["Room Price (",E," nights):"]}),e.jsx("span",{children:O(R)})]}),S>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Discount (",C,"):"]}),e.jsxs("span",{children:["-",O(S)]})]}),e.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between font-semibold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsx("span",{children:O(v.totalAmount)})]})]})]})]}),v.specialRequests&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Special Requests"}),e.jsx("p",{className:"text-sm text-gray-600",children:v.specialRequests})]})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(We,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:"Ready to Book"}),e.jsx("p",{className:"text-green-700 text-sm mt-1",children:"By confirming this booking, you agree to the hotel's terms and conditions. You will receive a confirmation email once the booking is processed."})]})]})})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:q,disabled:c===1,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${c===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[e.jsx(oa,{className:"h-4 w-4 mr-1"}),"Back"]}),c<4?e.jsxs("button",{onClick:K,disabled:b===!1||c===2&&(!o.name||!o.email),className:`flex items-center px-6 py-2 rounded-lg transition-colors ${b===!1||c===2&&(!o.name||!o.email)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:["Next",e.jsx(Yl,{className:"h-4 w-4 ml-1"})]}):e.jsx("button",{onClick:W,disabled:u||b===!1,className:`flex items-center px-6 py-2 rounded-lg transition-colors ${u||b===!1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Confirming..."]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),"Confirm Booking"]})})]})]})]}):e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[e.jsx(He,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Login Required"}),e.jsx("p",{className:"text-yellow-700 mb-4",children:"You need to login to make a booking"}),e.jsx("button",{onClick:()=>i("/login"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Login to Continue"})]})},_b=()=>{const t=Ut(),s=le(),[r,n]=h.useState(null),[a,l]=h.useState(null),[i,o]=h.useState(!0),[c,d]=h.useState(null),u=new URLSearchParams(t.search),m=u.get("hotelId"),p=u.get("roomTypeId"),x=u.get("checkIn")||"",b=u.get("checkOut")||"",f=parseInt(u.get("guests")||"1");h.useEffect(()=>{m&&p&&v()},[m,p]);const v=async()=>{if(!(!m||!p)){o(!0);try{const[g,y]=await Promise.all([me.getHotelDetails(m),jt.getRoomTypeById(p)]);n(g.data.result),l(y.data.result)}catch(g){console.error("Error fetching data:",g),d("Failed to load booking information")}finally{o(!1)}}},N=g=>{s(`/bookings/confirmation/${g}`)};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading booking form..."})]})})}):c||!r||!a?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Go Back"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 text-lg font-semibold mb-2",children:c||"Hotel or room type not found"}),e.jsx("button",{onClick:()=>s("/hotels"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Hotels"})]})]})}):!m||!p?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Go Back"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-orange-500 text-lg font-semibold mb-2",children:"Missing Booking Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Hotel and room information are required to proceed with booking."}),e.jsx("button",{onClick:()=>s("/hotels"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Hotels"})]})]})}):!x||!b?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Go Back"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-orange-500 text-lg font-semibold mb-2",children:"Missing Booking Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please select check-in and check-out dates to proceed with booking."}),e.jsx("button",{onClick:()=>s(`/hotels/${m}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Hotel Details"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Back to Hotel"]}),e.jsx(Ub,{hotel:r,roomType:a,checkInDate:x,checkOutDate:b,guests:f,onSuccess:N})]})})},qb=()=>{const t=le(),[s,r]=h.useState({reviews:[],loading:!0,error:null,totalReviews:0,currentPage:0,totalPages:0}),[n,a]=h.useState(null),[l,i]=h.useState({rating:0,comment:""}),o=10,c=async(g=0)=>{var y;try{r(C=>({...C,loading:!0,error:null}));const w=(await Wt.getMyReviews(g,o,"createdAt")).data.result;r(C=>({...C,reviews:w.content,totalReviews:w.totalElements,currentPage:w.pageNumber,totalPages:w.totalPages,loading:!1}))}catch(j){console.error("Error fetching my reviews:",j);let w="An error occurred while loading reviews.";if(((y=j.response)==null?void 0:y.status)===401){w="You need to log in to view your reviews.",t("/login");return}r(C=>({...C,loading:!1,error:w}))}};h.useEffect(()=>{c()},[]);const d=g=>{a(g.id),i({rating:g.rating,comment:g.comment||""})},u=()=>{a(null),i({rating:0,comment:""})},m=async g=>{try{if(l.rating===0){alert("Please select a star rating");return}if(l.comment.length>2e3){alert("Review content must not exceed 2000 characters");return}await Wt.updateMyReview(g,{rating:l.rating,comment:l.comment.trim()}),await c(s.currentPage),a(null),alert("Review updated successfully!")}catch(y){console.error("Error updating review:",y),alert("An error occurred while updating the review. Please try again.")}},p=async(g,y)=>{var j,w,C;if(window.confirm(`Are you sure you want to delete the review for "${y}"? This action cannot be undone.`))try{await Wt.deleteMyReview(g),r(k=>({...k,reviews:k.reviews.filter(S=>S.id!==g),totalReviews:k.totalReviews-1})),alert("Review has been deleted successfully!")}catch(k){console.error("Error deleting review:",k),((j=k.response)==null?void 0:j.status)===401?alert("You need to log in to delete reviews."):((w=k.response)==null?void 0:w.status)===403?alert("You do not have permission to delete this review."):((C=k.response)==null?void 0:C.status)===404?alert("Review not found."):alert("An error occurred while deleting the review. Please try again.")}},x=g=>{t(`/hotels/${g}`)},b=g=>{c(g)},f=(g,y=!1,j)=>Array(5).fill(0).map((w,C)=>{const k=C+1,S=k<=g;return e.jsx("button",{type:"button",onClick:()=>y&&j&&j(k),className:`${y?"cursor-pointer hover:scale-110":"cursor-default"} transition-transform ${S?"text-yellow-400":"text-gray-300"}`,disabled:!y,children:e.jsx(pe,{size:y?24:16,className:`${S?"fill-current":""}`})},C)}),v=g=>new Date(g).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}),N=g=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(pe,{className:"w-3 h-3 mr-1"}),"Published"]});return s.loading&&s.reviews.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):s.error?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(he,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"An error occurred"}),e.jsx("p",{className:"text-red-600 mb-4",children:s.error}),e.jsx("button",{onClick:()=>c(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Try again"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Reviews"}),e.jsxs("p",{className:"text-gray-600",children:["Manage and edit your written reviews (",s.totalReviews," reviews)"]})]}),s.reviews.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx(Rr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No reviews yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't written any reviews. Book a stay and share your experience!"}),e.jsx("button",{onClick:()=>t("/hotels"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"Explore hotels"})]}):e.jsx("div",{className:"space-y-6",children:s.reviews.map(g=>e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.hotelName}),N()]}),e.jsx("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),v(g.createdAt)]})})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>x(g.hotelId),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"View hotel",children:e.jsx(Oe,{size:18})}),e.jsx("button",{onClick:()=>d(g),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg",title:"Edit",children:e.jsx(Fe,{size:18})}),e.jsx("button",{onClick:()=>p(g.id,g.hotelName||"this hotel"),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:e.jsx(tt,{size:18})})]})]}),n===g.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsx("div",{className:"flex",children:f(l.rating,!0,y=>i(j=>({...j,rating:y})))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review content"}),e.jsx("textarea",{value:l.comment,onChange:y=>i(j=>({...j,comment:y.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Share your experience...",maxLength:2e3}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[l.comment.length,"/2000"]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{onClick:()=>m(g.id),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700",children:"Save changes"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[f(g.rating),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[g.rating,"/5 stars"]})]}),g.comment&&e.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.comment})]})]})},g.id))}),s.totalPages>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>b(s.currentPage-1),disabled:s.currentPage===0,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${s.currentPage===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Previous"}),Array.from({length:Math.min(5,s.totalPages)},(g,y)=>{const j=Math.max(0,Math.min(s.currentPage-2,s.totalPages-5))+y,w=j===s.currentPage;return e.jsx("button",{onClick:()=>b(j),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${w?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:j+1},j)}),e.jsx("button",{onClick:()=>b(s.currentPage+1),disabled:s.currentPage>=s.totalPages-1,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${s.currentPage>=s.totalPages-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Next"})]})})]})})},Ex=({isOpen:t,onClose:s,onConfirm:r,bookingReference:n,loading:a=!1})=>{const[l,i]=h.useState(""),[o,c]=h.useState(!1),d=async()=>{await r(l||void 0),i(""),c(!1)},u=()=>{a||(i(""),c(!1),s())};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(As,{className:"h-6 w-6 text-red-500 mr-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cancel Booking"})]}),e.jsx("button",{onClick:u,disabled:a,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:e.jsx(ve,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to cancel this booking?",n&&e.jsxs("span",{className:"block font-medium text-gray-900 mt-1",children:["Booking: ",n]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:m=>c(m.target.checked),disabled:a,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Provide cancellation reason (optional)"})]})}),o&&e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:l,onChange:m=>i(m.target.value),placeholder:"Please explain why you're cancelling this booking...",disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 disabled:opacity-50",rows:3})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(As,{className:"h-5 w-5 text-yellow-500 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-700",children:[e.jsx("p",{className:"font-medium mb-1",children:"Cancellation Policy"}),e.jsx("p",{children:"Please review the cancellation terms for your booking. Depending on the timing and hotel policy, cancellation fees may apply."})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[e.jsx("button",{onClick:u,disabled:a,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Keep Booking"}),e.jsx("button",{onClick:d,disabled:a,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cancelling..."]}):"Cancel Booking"})]})]})}):null},Kb=()=>{var T,E;const{user:t}=ir(),{showToast:s}=Ce(),[r,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(null),[c,d]=h.useState(""),[u,m]=h.useState("ALL"),[p,x]=h.useState("ALL"),[b,f]=h.useState(null),[v,N]=h.useState({isOpen:!1});h.useEffect(()=>{g()},[u,p]);const g=async()=>{if(t)try{l(!0);const I={};u!=="ALL"&&(I.status=u),p!=="ALL"&&(I.paymentStatus=p);const U=await Ne.getMyBookings(I);U.data.success?n(U.data.result.content||[]):o("Unable to load bookings")}catch(I){console.error("Error fetching bookings:",I),o("Failed to load bookings")}finally{l(!1)}},y=r.filter(I=>{const U=c.toLowerCase();return I.hotelName.toLowerCase().includes(U)||I.bookingReference.toLowerCase().includes(U)||I.guestName.toLowerCase().includes(U)}),j=I=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(I),w=I=>new Date(I).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric"}),C=I=>{const U={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:Pe,label:"Pending"},CONFIRMED:{color:"bg-green-100 text-green-800",icon:kt,label:"Confirmed"},CANCELLED:{color:"bg-red-100 text-red-800",icon:he,label:"Cancelled"},CANCELLED_BY_GUEST:{color:"bg-red-100 text-red-800",icon:he,label:"Cancelled by Guest"},CANCELLED_BY_HOST:{color:"bg-red-100 text-red-800",icon:he,label:"Cancelled by Host"},COMPLETED:{color:"bg-blue-100 text-blue-800",icon:kt,label:"Completed"},NO_SHOW:{color:"bg-gray-100 text-gray-800",icon:he,label:"No Show"}},K=U[I]||U.PENDING,q=K.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.color}`,children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),K.label]})},k=I=>{const U={PENDING:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},PAID:{color:"bg-green-100 text-green-800",label:"Paid"},FAILED:{color:"bg-red-100 text-red-800",label:"Failed"},REFUNDED:{color:"bg-blue-100 text-blue-800",label:"Refunded"},PARTIALLY_REFUNDED:{color:"bg-orange-100 text-orange-800",label:"Partial Refund"},REFUND_PENDING:{color:"bg-orange-100 text-orange-800",label:"Refund Pending"},NO_PAYMENT:{color:"bg-gray-100 text-gray-800",label:"No Payment"},CANCELLED:{color:"bg-gray-100 text-gray-800",label:"Payment Cancelled"}},K=U[I]||U.PENDING;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.color}`,children:K.label})},S=I=>{switch(I){case"VNPAY":return"VNPay";case"CASH_ON_CHECKIN":return"Cash on Check-in";default:return"Cash on Check-in"}},P=I=>{N({isOpen:!0,booking:I})},R=async I=>{var U,K;if(v.booking){f(v.booking.id);try{const q=await Ne.cancelMyBooking(v.booking.id,I);if(q.data.success)await g(),N({isOpen:!1}),s("success","Booking Cancelled","Your booking has been cancelled successfully");else throw new Error(q.data.message||"Failed to cancel booking")}catch(q){console.error("Error cancelling booking:",q),s("error","Cancellation Failed",((K=(U=q.response)==null?void 0:U.data)==null?void 0:K.message)||q.message||"Failed to cancel booking")}finally{f(null)}}};return a?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your bookings..."})]})})}):i?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(he,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("div",{className:"text-red-500 text-xl font-semibold mb-2",children:i}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Bookings"}),e.jsx("p",{className:"text-gray-600",children:"Manage and track all your hotel reservations"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search bookings...",value:c,onChange:I=>d(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{children:e.jsxs("select",{value:u,onChange:I=>m(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ALL",children:"All Statuses"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"CANCELLED_BY_GUEST",children:"Cancelled by Guest"}),e.jsx("option",{value:"CANCELLED_BY_HOST",children:"Cancelled by Host"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"NO_SHOW",children:"No Show"})]})}),e.jsx("div",{children:e.jsxs("select",{value:p,onChange:I=>x(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ALL",children:"All Payments"}),e.jsx("option",{value:"PENDING",children:"Payment Pending"}),e.jsx("option",{value:"PAID",children:"Payment Completed"}),e.jsx("option",{value:"FAILED",children:"Payment Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"}),e.jsx("option",{value:"PARTIALLY_REFUNDED",children:"Partial Refund"}),e.jsx("option",{value:"REFUND_PENDING",children:"Refund Pending"}),e.jsx("option",{value:"NO_PAYMENT",children:"No Payment"}),e.jsx("option",{value:"CANCELLED",children:"Payment Cancelled"})]})}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),y.length," booking",y.length!==1?"s":""," found"]})]})}),y.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx(ge,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c||u!=="ALL"||p!=="ALL"?"Try adjusting your search or filters":"You haven't made any bookings yet"}),e.jsx(ce,{to:"/hotels",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Explore Hotels"})]}):e.jsx("div",{className:"space-y-6",children:y.map(I=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:I.hotelName}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(Be,{className:"h-4 w-4 mr-1"}),I.hotelAddress]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:j(I.totalAmount)}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Reference: ",I.bookingReference]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Room"}),e.jsx("div",{className:"font-medium",children:I.roomTypeName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Check-in"}),e.jsx("div",{className:"font-medium",children:w(I.checkInDate)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Check-out"}),e.jsx("div",{className:"font-medium",children:w(I.checkOutDate)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Guests"}),e.jsxs("div",{className:"font-medium flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),I.guests]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[C(I.status),k(I.paymentStatus),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ot,{className:"h-4 w-4 mr-1"}),S(I.paymentMethod)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(ce,{to:`/bookings/confirmation/${I.id}`,className:"inline-flex items-center px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:["View Details",e.jsx(vx,{className:"h-3 w-3 ml-1"})]}),I.status==="PENDING"&&e.jsx("button",{onClick:()=>P(I),disabled:b===I.id,className:"inline-flex items-center px-3 py-1 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b===I.id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"}),"Cancelling..."]}):"Cancel"})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Booked on ",w(I.createdAt)]}),e.jsxs("span",{className:"text-gray-600",children:[I.numberOfNights," night",I.numberOfNights!==1?"s":""]})]})})]},I.id))}),e.jsx(Ex,{isOpen:v.isOpen,onClose:()=>N({isOpen:!1}),onConfirm:R,bookingReference:(T=v.booking)==null?void 0:T.bookingReference,loading:b===((E=v.booking)==null?void 0:E.id)})]})})},Gb=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState({totalHotels:0,activeHotels:0,inactiveHotels:0,featuredHotels:0,totalRoomTypes:0,totalReviews:0,approvedReviews:0,pendingReviews:0,verifiedReviews:0,totalUsers:0}),[a,l]=h.useState(!0),i=async()=>{try{l(!0);const u=await Oy.getDashboard();if(u.data.success)n(u.data.result);else throw new Error("Failed to fetch dashboard stats")}catch(u){console.error("Error fetching dashboard stats:",u),s("error","Error","Unable to load dashboard statistics")}finally{l(!1)}};h.useEffect(()=>{i()},[]);const o=()=>{i()},c=[{label:"Total Users",value:r.totalUsers.toLocaleString(),icon:ke,color:"blue",description:"Total registered users"},{label:"Total Hotels",value:r.totalHotels.toLocaleString(),icon:et,color:"green",description:"Total hotels in the system"},{label:"Active Hotels",value:r.activeHotels.toLocaleString(),icon:kt,color:"emerald",description:"Number of active hotels"},{label:"Featured Hotels",value:r.featuredHotels.toLocaleString(),icon:nn,color:"yellow",description:"Number of featured hotels"},{label:"Total Room Types",value:r.totalRoomTypes.toLocaleString(),icon:Ct,color:"indigo",description:"Total room types in the system"},{label:"Total Reviews",value:r.totalReviews.toLocaleString(),icon:pe,color:"orange",description:"Total reviews from customers"}],d=u=>{const m={blue:{bg:"bg-blue-50",text:"text-blue-600",icon:"text-blue-500"},green:{bg:"bg-green-50",text:"text-green-600",icon:"text-green-500"},emerald:{bg:"bg-emerald-50",text:"text-emerald-600",icon:"text-emerald-500"},yellow:{bg:"bg-yellow-50",text:"text-yellow-600",icon:"text-yellow-500"},purple:{bg:"bg-purple-50",text:"text-purple-600",icon:"text-purple-500"},orange:{bg:"bg-orange-50",text:"text-orange-600",icon:"text-orange-500"},indigo:{bg:"bg-indigo-50",text:"text-indigo-600",icon:"text-indigo-500"},teal:{bg:"bg-teal-50",text:"text-teal-600",icon:"text-teal-500"}};return m[u]||m.blue};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Hotel management system overview"})]}),e.jsxs("button",{onClick:o,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(Qe,{size:20,className:`mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:c.map((u,m)=>{const p=u.icon,x=d(u.color);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-full ${x.bg}`,children:e.jsx(p,{className:`h-6 w-6 ${x.icon}`})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:u.label}),e.jsx("h3",{className:`text-2xl font-bold ${x.text}`,children:a?e.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-16 rounded"}):u.value})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:u.description})]},m)})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(xr,{size:20,className:"mr-2 text-blue-500"}),"Quick Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.totalHotels>0?Math.round(r.activeHotels/r.totalHotels*100):0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active hotels rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[r.totalHotels>0?Math.round(r.featuredHotels/r.totalHotels*100):0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Featured hotels rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.totalReviews&&r.totalHotels>0?Math.round(r.totalReviews/r.totalHotels):0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average reviews/hotel"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsx(Bs,{title:"User Management",description:"Manage user accounts and permissions",icon:e.jsx(ke,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/users"),stats:`${r.totalUsers.toLocaleString()} users`}),e.jsx(Bs,{title:"Hotel Management",description:"Manage hotel list and information",icon:e.jsx(et,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/hotels"),stats:`${r.totalHotels.toLocaleString()} hotels`}),e.jsx(Bs,{title:"Room Type Management",description:"Manage room types and configurations",icon:e.jsx(Ct,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/room-types"),stats:`${r.totalRoomTypes.toLocaleString()} room types`}),e.jsx(Bs,{title:"Booking Management",description:"View and manage booking orders",icon:e.jsx(ds,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/bookings"),stats:`${r.totalReviews.toLocaleString()} bookings`}),e.jsx(Bs,{title:"Review Management",description:"Approve and manage user reviews",icon:e.jsx(pe,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/reviews"),stats:`${r.totalReviews.toLocaleString()} reviews`}),e.jsx(Bs,{title:"Statistics & Analytics",description:"View reports and system statistics",icon:e.jsx(ia,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/analytics"),stats:"Detailed reports"}),e.jsx(Bs,{title:"Promotion Management",description:"Create and manage promotion codes",icon:e.jsx(Qt,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/promotions"),stats:"Promotion codes"}),e.jsx(Bs,{title:"System Settings",description:"Configure system settings",icon:e.jsx(sr,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/settings"),stats:"Configuration"})]})]})},Bs=({title:t,description:s,icon:r,onClick:n,stats:a})=>e.jsxs("button",{onClick:n,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 text-left transition-all hover:shadow-md hover:border-blue-200 group",children:[e.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-2 sm:p-3 rounded-full mr-3 sm:mr-4 group-hover:bg-blue-200 transition-colors",children:r}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold group-hover:text-blue-600 transition-colors",children:t}),a&&e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:a})]})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:s})]}),Wb=()=>{var _,z,Y,W,O,A,F;const t=le(),[s,r]=h.useState("rates"),[n,a]=h.useState(""),[l,i]=h.useState("all"),[o,c]=h.useState(1),[d,u]=h.useState(!1),[m,p]=h.useState(null),x=[{id:"RATE-001",ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",rate:15,isDefault:!1,effectiveDate:"2023-01-01",status:"active",notes:"Tỷ lệ hoa hồng đặc biệt cho đối tác lớn"},{id:"RATE-002",ownerName:"Công ty TNHH Metropole",ownerId:"OWN-002",rate:12,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-003",ownerName:"Tập đoàn Mường Thanh",ownerId:"OWN-003",rate:10,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-004",ownerName:"Công ty CP Fusion",ownerId:"OWN-004",propertyName:"Fusion Maia Resort",propertyId:"PROP-004",rate:18,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-005",ownerName:"Tập đoàn Accor",ownerId:"OWN-005",rate:15,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-006",ownerName:"Nguyễn Văn Hùng",ownerId:"OWN-006",rate:10,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-007",ownerName:"Tất cả chủ khách sạn",ownerId:"ALL",rate:20,isDefault:!0,effectiveDate:"2023-01-01",status:"active",notes:"Tỷ lệ hoa hồng mặc định cho tất cả chủ khách sạn"},{id:"RATE-008",ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",rate:12,isDefault:!1,effectiveDate:"2023-11-01",expiryDate:"2023-12-31",status:"upcoming",notes:"Tỷ lệ khuyến mãi cho mùa cao điểm"}],b=[{id:"PAY-001",invoiceId:"INV-001",bookingId:"BK-001",ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",amount:75e5,commissionAmount:1125e3,commissionRate:15,ownerAmount:6375e3,platformAmount:1125e3,status:"paid",paymentDate:"2023-09-25",dueDate:"2023-09-27"},{id:"PAY-002",invoiceId:"INV-002",bookingId:"BK-002",ownerName:"Công ty TNHH Metropole",ownerId:"OWN-002",propertyName:"Metropole Hanoi",propertyId:"PROP-002",amount:64e5,commissionAmount:768e3,commissionRate:12,ownerAmount:5632e3,platformAmount:768e3,status:"pending",dueDate:"2023-10-15"},{id:"PAY-003",invoiceId:"INV-003",bookingId:"BK-003",ownerName:"Tập đoàn Mường Thanh",ownerId:"OWN-003",propertyName:"Mường Thanh Luxury",propertyId:"PROP-003",amount:84e5,commissionAmount:84e4,commissionRate:10,ownerAmount:756e4,platformAmount:84e4,status:"paid",paymentDate:"2023-08-20",dueDate:"2023-08-22"},{id:"PAY-004",invoiceId:"INV-004",bookingId:"BK-004",ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",amount:36e5,commissionAmount:54e4,commissionRate:15,ownerAmount:306e4,platformAmount:54e4,status:"processing",dueDate:"2023-10-17"},{id:"PAY-005",invoiceId:"INV-005",bookingId:"BK-005",ownerName:"Công ty TNHH Metropole",ownerId:"OWN-002",propertyName:"Metropole Hanoi",propertyId:"PROP-002",amount:96e5,commissionAmount:1152e3,commissionRate:12,ownerAmount:8448e3,platformAmount:1152e3,status:"paid",paymentDate:"2023-10-10",dueDate:"2023-10-12"},{id:"PAY-006",invoiceId:"INV-006",bookingId:"BK-006",ownerName:"Công ty CP Fusion",ownerId:"OWN-004",propertyName:"Fusion Maia Resort",propertyId:"PROP-004",amount:125e5,commissionAmount:225e4,commissionRate:18,ownerAmount:1025e4,platformAmount:225e4,status:"paid",paymentDate:"2023-10-15",dueDate:"2023-10-19"},{id:"PAY-007",invoiceId:"INV-007",bookingId:"BK-007",ownerName:"Tập đoàn Accor",ownerId:"OWN-005",propertyName:"Pullman Saigon",propertyId:"PROP-005",amount:84e5,commissionAmount:126e4,commissionRate:15,ownerAmount:714e4,platformAmount:126e4,status:"pending",dueDate:"2023-10-22"},{id:"PAY-008",invoiceId:"INV-008",bookingId:"BK-008",ownerName:"Nguyễn Văn Hùng",ownerId:"OWN-006",propertyName:"Sapa Homestay",propertyId:"PROP-006",amount:24e5,commissionAmount:24e4,commissionRate:10,ownerAmount:216e4,platformAmount:24e4,status:"pending",dueDate:"2023-10-25"}],f=5,v=x.filter(B=>{const se=B.ownerName.toLowerCase().includes(n.toLowerCase())||B.propertyName&&B.propertyName.toLowerCase().includes(n.toLowerCase()),oe=l==="all"||B.status===l;return se&&oe}),N=b.filter(B=>{const se=B.ownerName.toLowerCase().includes(n.toLowerCase())||B.propertyName.toLowerCase().includes(n.toLowerCase())||B.invoiceId.toLowerCase().includes(n.toLowerCase())||B.bookingId.toLowerCase().includes(n.toLowerCase()),oe=l==="all"||B.status===l;return se&&oe}),g=Math.ceil((s==="rates"?v:N).length/f),y=(s==="rates"?v:N).slice((o-1)*f,o*f),j=B=>{const se={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(B).toLocaleDateString("vi-VN",se)},w=B=>B.toLocaleString("vi-VN")+"đ",C=B=>{t(`/admin/invoices/${B}`)},k=B=>{t(`/admin/bookings/${B}`)},S=B=>{t(`/admin/users/${B}`)},P=B=>{t(`/admin/hotels/${B}`)},R=()=>{u(!0)},T=B=>{p(B)},E=B=>{window.confirm("Bạn có chắc chắn muốn xóa tỷ lệ hoa hồng này không?")&&alert(`Đã xóa tỷ lệ hoa hồng có ID: ${B}`)},I=()=>{alert("Đã lưu tỷ lệ hoa hồng"),u(!1),p(null)},U=()=>{u(!1),p(null)},K=B=>{alert(`Đã đánh dấu thanh toán có ID: ${B} là đã thanh toán`)},q=B=>{switch(B){case"active":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đang áp dụng"});case"expired":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:"Đã hết hạn"});case"upcoming":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Sắp áp dụng"});case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đã thanh toán"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Chờ thanh toán"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Đang xử lý"});default:return null}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Quản lý hoa hồng"}),s==="rates"&&e.jsxs("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Thêm tỷ lệ hoa hồng mới"]})]}),e.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[e.jsx("button",{className:`py-2 px-4 font-medium text-sm ${s==="rates"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>{r("rates"),c(1),i("all")},children:"Tỷ lệ hoa hồng"}),e.jsx("button",{className:`py-2 px-4 font-medium text-sm ${s==="payments"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>{r("payments"),c(1),i("all")},children:"Thanh toán hoa hồng"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:s==="rates"?"Tìm kiếm theo tên chủ khách sạn, khách sạn...":"Tìm kiếm theo mã hóa đơn, đặt phòng, chủ khách sạn...",value:n,onChange:B=>a(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:l,onChange:B=>i(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tất cả trạng thái"}),s==="rates"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"active",children:"Đang áp dụng"}),e.jsx("option",{value:"expired",children:"Đã hết hạn"}),e.jsx("option",{value:"upcoming",children:"Sắp áp dụng"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"paid",children:"Đã thanh toán"}),e.jsx("option",{value:"pending",children:"Chờ thanh toán"}),e.jsx("option",{value:"processing",children:"Đang xử lý"})]})]})]})]})}),(d||m)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:d?"Thêm tỷ lệ hoa hồng mới":"Chỉnh sửa tỷ lệ hoa hồng"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chủ khách sạn"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m?(_=x.find(B=>B.id===m))==null?void 0:_.ownerId:"",children:[e.jsx("option",{value:"",children:"-- Chọn chủ khách sạn --"}),e.jsx("option",{value:"ALL",children:"Tất cả chủ khách sạn (Mặc định)"}),e.jsx("option",{value:"OWN-001",children:"Công ty CP Vinpearl"}),e.jsx("option",{value:"OWN-002",children:"Công ty TNHH Metropole"}),e.jsx("option",{value:"OWN-003",children:"Tập đoàn Mường Thanh"}),e.jsx("option",{value:"OWN-004",children:"Công ty CP Fusion"}),e.jsx("option",{value:"OWN-005",children:"Tập đoàn Accor"}),e.jsx("option",{value:"OWN-006",children:"Nguyễn Văn Hùng"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Khách sạn (tùy chọn)"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m?(z=x.find(B=>B.id===m))==null?void 0:z.propertyId:"",children:[e.jsx("option",{value:"",children:"-- Tất cả khách sạn --"}),e.jsx("option",{value:"PROP-001",children:"Vinpearl Resort & Spa Nha Trang"}),e.jsx("option",{value:"PROP-002",children:"Metropole Hanoi"}),e.jsx("option",{value:"PROP-003",children:"Mường Thanh Luxury Đà Nẵng"}),e.jsx("option",{value:"PROP-004",children:"Fusion Maia Resort"}),e.jsx("option",{value:"PROP-005",children:"Pullman Saigon"}),e.jsx("option",{value:"PROP-006",children:"Sapa Homestay"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tỷ lệ hoa hồng (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m?(Y=x.find(B=>B.id===m))==null?void 0:Y.rate:20})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngày bắt đầu áp dụng"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m?(W=x.find(B=>B.id===m))==null?void 0:W.effectiveDate:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngày hết hạn (tùy chọn)"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m&&((O=x.find(B=>B.id===m))!=null&&O.expiryDate)?(A=x.find(B=>B.id===m))==null?void 0:A.expiryDate:""})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi chú (tùy chọn)"}),e.jsx("textarea",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,defaultValue:m?(F=x.find(B=>B.id===m))==null?void 0:F.notes:""})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-2",children:[e.jsx("button",{onClick:U,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hủy"}),e.jsxs("button",{onClick:I,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(nt,{size:18,className:"mr-2"}),"Lưu"]})]})]}),s==="rates"&&e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chủ khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tỷ lệ"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thời gian áp dụng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(B=>e.jsxs("tr",{className:`hover:bg-gray-50 ${B.isDefault?"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.ownerId==="ALL"?e.jsxs("div",{className:"flex items-center",children:[e.jsx(wt,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.ownerName}),e.jsx("div",{className:"text-xs text-blue-600",children:"Tỷ lệ mặc định"})]})]}):e.jsxs("button",{onClick:()=>S(B.ownerId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(wt,{size:14,className:"mr-1"}),B.ownerName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.propertyName?e.jsx("button",{onClick:()=>P(B.propertyId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:B.propertyName}):e.jsx("span",{className:"text-sm text-gray-500",children:"Tất cả khách sạn"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xn,{size:16,className:"text-gray-500 mr-1"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.rate,"%"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Từ: ",j(B.effectiveDate)]}),B.expiryDate&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Đến: ",j(B.expiryDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q(B.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>T(B.id),className:"text-blue-600 hover:text-blue-900",title:"Chỉnh sửa",children:e.jsx(Fe,{size:18})}),!B.isDefault&&e.jsx("button",{onClick:()=>E(B.id),className:"text-red-600 hover:text-red-900",title:"Xóa",children:e.jsx(tt,{size:18})})]})})]},B.id))})]})})}),s==="payments"&&e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã thanh toán"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chủ khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hồng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.id}),e.jsxs("div",{className:"flex space-x-2 text-xs text-gray-500",children:[e.jsx("button",{onClick:()=>C(B.invoiceId),className:"text-blue-600 hover:text-blue-900",children:B.invoiceId}),e.jsx("span",{children:"|"}),e.jsx("button",{onClick:()=>k(B.bookingId),className:"text-blue-600 hover:text-blue-900",children:B.bookingId})]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>S(B.ownerId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(wt,{size:14,className:"mr-1"}),B.ownerName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>P(B.propertyId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:B.propertyName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w(B.amount)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[w(B.commissionAmount)," (",B.commissionRate,"%)"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Nền tảng: ",w(B.platformAmount)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"mb-1",children:q(B.status)}),B.status==="pending"?e.jsxs("div",{className:"text-xs text-gray-500",children:["Hạn: ",j(B.dueDate)]}):B.paymentDate?e.jsxs("div",{className:"text-xs text-gray-500",children:["Ngày TT: ",j(B.paymentDate)]}):null]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[B.status==="pending"&&e.jsx("button",{onClick:()=>K(B.id),className:"text-green-600 hover:text-green-900",title:"Đánh dấu đã thanh toán",children:e.jsx(We,{size:18})}),e.jsx("button",{onClick:()=>C(B.invoiceId),className:"text-blue-600 hover:text-blue-900",title:"Xem hóa đơn",children:e.jsx(FileText,{size:18})})]})})]},B.id))})]})})}),g>1&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Trước"}),e.jsx("button",{onClick:()=>c(Math.min(g,o+1)),disabled:o===g,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===g?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hiển thị ",e.jsx("span",{className:"font-medium",children:(o-1)*f+1})," đến"," ",e.jsx("span",{className:"font-medium",children:Math.min(o*f,(s==="rates"?v:N).length)})," ","trong tổng số ",e.jsx("span",{className:"font-medium",children:(s==="rates"?v:N).length})," ",s==="rates"?"tỷ lệ hoa hồng":"thanh toán hoa hồng"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${o===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang trước"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:g}).map((B,se)=>e.jsx("button",{onClick:()=>c(se+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===se+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:se+1},se)),e.jsxs("button",{onClick:()=>c(Math.min(g,o+1)),disabled:o===g,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${o===g?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]}),y.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:s==="rates"?"Không tìm thấy tỷ lệ hoa hồng nào":"Không tìm thấy thanh toán hoa hồng nào"}),e.jsx("p",{className:"text-gray-600",children:s==="rates"?"Không có tỷ lệ hoa hồng nào phù hợp với tiêu chí tìm kiếm của bạn.":"Không có thanh toán hoa hồng nào phù hợp với tiêu chí tìm kiếm của bạn."}),s==="rates"&&e.jsxs("button",{onClick:R,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center mx-auto",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Thêm tỷ lệ hoa hồng mới"]})]})]})},Yb=()=>{const t=le(),[s,r]=h.useState(""),[n,a]=h.useState("all"),[l,i]=h.useState("all"),[o,c]=h.useState(1),d=[{id:"INV-001",bookingId:"BK-001",guestName:"Nguyễn Văn An",guestId:"USER-001",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",amount:75e5,commission:{rate:15,amount:1125e3,ownerAmount:6375e3,platformAmount:1125e3,status:"paid"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-09-20",issueDate:"2023-09-20",dueDate:"2023-09-27"},{id:"INV-002",bookingId:"BK-002",guestName:"Trần Thị Bình",guestId:"USER-002",propertyName:"Metropole Hanoi",propertyId:"PROP-002",ownerName:"Công ty TNHH Metropole",ownerId:"OWN-002",amount:64e5,commission:{rate:12,amount:768e3,ownerAmount:5632e3,platformAmount:768e3,status:"pending"},status:"pending",paymentMethod:"Bank Transfer",issueDate:"2023-10-01",dueDate:"2023-10-08"},{id:"INV-003",bookingId:"BK-003",guestName:"Lê Văn Cường",guestId:"USER-003",propertyName:"Mường Thanh Luxury",propertyId:"PROP-003",ownerName:"Tập đoàn Mường Thanh",ownerId:"OWN-003",amount:84e5,commission:{rate:10,amount:84e4,ownerAmount:756e4,platformAmount:84e4,status:"paid"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-08-15",issueDate:"2023-08-15",dueDate:"2023-08-22"},{id:"INV-004",bookingId:"BK-004",guestName:"Phạm Thị Dung",guestId:"USER-004",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",amount:36e5,commission:{rate:15,amount:54e4,ownerAmount:306e4,platformAmount:54e4,status:"processing"},status:"refunded",paymentMethod:"Credit Card",paymentDate:"2023-10-12",issueDate:"2023-10-10",dueDate:"2023-10-17"},{id:"INV-005",bookingId:"BK-005",guestName:"Hoàng Văn Em",guestId:"USER-005",propertyName:"Metropole Hanoi",propertyId:"PROP-002",ownerName:"Công ty TNHH Metropole",ownerId:"OWN-002",amount:96e5,commission:{rate:12,amount:1152e3,ownerAmount:8448e3,platformAmount:1152e3,status:"paid"},status:"paid",paymentMethod:"Bank Transfer",paymentDate:"2023-10-06",issueDate:"2023-10-05",dueDate:"2023-10-12"},{id:"INV-006",bookingId:"BK-006",guestName:"Ngô Thị Phương",guestId:"USER-006",propertyName:"Fusion Maia Resort",propertyId:"PROP-004",ownerName:"Công ty CP Fusion",ownerId:"OWN-004",amount:125e5,commission:{rate:18,amount:225e4,ownerAmount:1025e4,platformAmount:225e4,status:"paid"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-10-13",issueDate:"2023-10-12",dueDate:"2023-10-19"},{id:"INV-007",bookingId:"BK-007",guestName:"Đỗ Văn Giang",guestId:"USER-007",propertyName:"Pullman Saigon",propertyId:"PROP-005",ownerName:"Tập đoàn Accor",ownerId:"OWN-005",amount:84e5,commission:{rate:15,amount:126e4,ownerAmount:714e4,platformAmount:126e4,status:"pending"},status:"pending",paymentMethod:"Bank Transfer",issueDate:"2023-10-15",dueDate:"2023-10-22"},{id:"INV-008",bookingId:"BK-008",guestName:"Vũ Thị Hương",guestId:"USER-008",propertyName:"Sapa Homestay",propertyId:"PROP-006",ownerName:"Nguyễn Văn Hùng",ownerId:"OWN-006",amount:24e5,commission:{rate:10,amount:24e4,ownerAmount:216e4,platformAmount:24e4,status:"pending"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-10-19",issueDate:"2023-10-18",dueDate:"2023-10-25"}],u=5,m=d.filter(P=>{const R=P.id.toLowerCase().includes(s.toLowerCase())||P.bookingId.toLowerCase().includes(s.toLowerCase())||P.guestName.toLowerCase().includes(s.toLowerCase())||P.propertyName.toLowerCase().includes(s.toLowerCase())||P.ownerName.toLowerCase().includes(s.toLowerCase()),T=n==="all"||P.status===n;let E=!0;const I=new Date,U=new Date(P.issueDate),K=new Date(P.dueDate);if(l==="thisMonth"){const q=I.getMonth(),_=I.getFullYear();E=U.getMonth()===q&&U.getFullYear()===_}else if(l==="lastMonth"){const q=I.getMonth()===0?11:I.getMonth()-1,_=I.getMonth()===0?I.getFullYear()-1:I.getFullYear();E=U.getMonth()===q&&U.getFullYear()===_}else l==="overdue"&&(E=K<I&&P.status==="pending");return R&&T&&E}),p=Math.ceil(m.length/u),x=m.slice((o-1)*u,o*u),b=P=>{const R={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(P).toLocaleDateString("vi-VN",R)},f=P=>P.toLocaleString("vi-VN")+"đ",v=P=>{t(`/admin/invoices/${P}`)},N=P=>{t(`/admin/bookings/${P}`)},g=P=>{t(`/admin/users/${P}`)},y=P=>{t(`/admin/hotels/${P}`)},j=P=>{t(`/admin/users/${P}`)},w=P=>{alert(`Đã tải xuống hóa đơn có ID: ${P}`)},C=()=>{alert("Đã xuất danh sách hóa đơn")},k=P=>{switch(P){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đã thanh toán"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Chờ thanh toán"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Đã hủy"});case"refunded":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:"Đã hoàn tiền"});default:return null}},S=P=>{switch(P){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đã thanh toán"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Chờ thanh toán"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Đang xử lý"});default:return null}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Quản lý hóa đơn"}),e.jsxs("button",{onClick:C,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Cr,{size:20,className:"mr-2"}),"Xuất dữ liệu"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Tìm kiếm theo mã hóa đơn, đặt phòng, tên khách, khách sạn...",value:s,onChange:P=>r(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:n,onChange:P=>a(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tất cả trạng thái"}),e.jsx("option",{value:"paid",children:"Đã thanh toán"}),e.jsx("option",{value:"pending",children:"Chờ thanh toán"}),e.jsx("option",{value:"cancelled",children:"Đã hủy"}),e.jsx("option",{value:"refunded",children:"Đã hoàn tiền"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("select",{value:l,onChange:P=>i(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tất cả thời gian"}),e.jsx("option",{value:"thisMonth",children:"Tháng này"}),e.jsx("option",{value:"lastMonth",children:"Tháng trước"}),e.jsx("option",{value:"overdue",children:"Quá hạn"})]})})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hóa đơn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chủ khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số tiền"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hồng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(P=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id}),e.jsx("button",{onClick:()=>N(P.bookingId),className:"text-xs text-blue-600 hover:text-blue-900",children:P.bookingId})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),"Ngày: ",b(P.issueDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>g(P.guestId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(He,{size:14,className:"mr-1"}),P.guestName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>y(P.propertyId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:P.propertyName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>j(P.ownerId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(wt,{size:14,className:"mr-1"}),P.ownerName]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:f(P.amount)}),e.jsx("div",{className:"text-xs text-gray-500",children:P.paymentMethod})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[f(P.commission.amount)," (",P.commission.rate,"%)"]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Pe,{size:14,className:"mr-1 text-gray-500"}),S(P.commission.status)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"mb-1",children:k(P.status)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Hạn: ",b(P.dueDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>v(P.id),className:"text-blue-600 hover:text-blue-900",title:"Xem chi tiết",children:e.jsx(Oe,{size:18})}),e.jsx("button",{onClick:()=>w(P.id),className:"text-green-600 hover:text-green-900",title:"Tải xuống",children:e.jsx(Cr,{size:18})})]})})]},P.id))})]})}),p>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Trước"}),e.jsx("button",{onClick:()=>c(Math.min(p,o+1)),disabled:o===p,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===p?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hiển thị ",e.jsx("span",{className:"font-medium",children:(o-1)*u+1})," đến"," ",e.jsx("span",{className:"font-medium",children:Math.min(o*u,m.length)})," ","trong tổng số ",e.jsx("span",{className:"font-medium",children:m.length})," hóa đơn"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${o===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang trước"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:p}).map((P,R)=>e.jsx("button",{onClick:()=>c(R+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===R+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:R+1},R)),e.jsxs("button",{onClick:()=>c(Math.min(p,o+1)),disabled:o===p,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${o===p?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),x.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Không tìm thấy hóa đơn nào"}),e.jsx("p",{className:"text-gray-600",children:"Không có hóa đơn nào phù hợp với tiêu chí tìm kiếm của bạn."})]})]})},Qb=()=>{const{id:t}=ot(),s=le(),[r,n]=h.useState(!1),[a,l]=h.useState(""),i={id:"INV-001",bookingId:"BK-001",guestName:"Nguyễn Văn An",guestId:"USER-001",guestEmail:"nguyenvanan@example.com",guestPhone:"0901234567",guestAddress:"123 Nguyễn Huệ, Quận 1, TP. Hồ Chí Minh",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",propertyAddress:"Vinpearl Resort, Nha Trang, Khánh Hòa",ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"contact@vinpearl.com",ownerPhone:"1900 2345",ownerAddress:"7 Đường Trường Sa, Vĩnh Hòa, Nha Trang, Khánh Hòa",ownerTaxId:"0123456789",roomName:"Deluxe Ocean View",checkIn:"2023-10-15",checkOut:"2023-10-18",nights:3,guests:{adults:2,children:0},items:[{description:"Deluxe Ocean View - 3 đêm",quantity:3,unitPrice:23e5,amount:69e5},{description:"Phí dịch vụ",quantity:1,unitPrice:3e5,amount:3e5},{description:"Thuế VAT (10%)",quantity:1,unitPrice:3e5,amount:3e5}],subtotal:72e5,taxRate:10,taxAmount:3e5,totalAmount:75e5,commission:{rate:15,amount:1125e3,ownerAmount:6375e3,platformAmount:1125e3,status:"paid",paidDate:"2023-09-25"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-09-20",issueDate:"2023-09-20",dueDate:"2023-09-27",notes:"Khách hàng VIP, đã ở nhiều lần tại khách sạn."},o=j=>{const w={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(j).toLocaleDateString("vi-VN",w)},c=j=>j.toLocaleString("vi-VN")+"đ",d=()=>{s("/admin/invoices")},u=()=>{window.print()},m=()=>{alert(`Đã tải xuống hóa đơn có ID: ${t}`)},p=()=>{alert(`Đã gửi hóa đơn đến khách hàng: ${i.guestEmail}`)},x=()=>{s(`/admin/bookings/${i.bookingId}`)},b=()=>{s(`/admin/users/${i.guestId}`)},f=()=>{s(`/admin/hotels/${i.propertyId}`)},v=()=>{s(`/admin/users/${i.ownerId}`)},N=()=>{alert("Đã lưu ghi chú"),n(!1)},g=j=>{switch(j){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đã thanh toán"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Chờ thanh toán"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Đã hủy"});case"refunded":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:"Đã hoàn tiền"});default:return null}},y=j=>{switch(j){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đã thanh toán"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Chờ thanh toán"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Đang xử lý"});default:return null}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:d,className:"mr-4 text-gray-600 hover:text-gray-900",children:e.jsx(ye,{size:24})}),e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold",children:["Hóa đơn #",i.id]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsxs("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[e.jsx(Vc,{size:18,className:"mr-2"}),"In hóa đơn"]}),e.jsxs("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Cr,{size:18,className:"mr-2"}),"Tải hóa đơn"]}),e.jsxs("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(De,{size:18,className:"mr-2"}),"Gửi hóa đơn"]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:[e.jsx(os,{size:18,className:"mr-2"}),"Xem đặt phòng"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Trạng thái hóa đơn"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:g(i.status)}),e.jsxs("p",{className:"text-gray-600",children:["Ngày phát hành: ",o(i.issueDate)]}),e.jsxs("p",{className:"text-gray-600",children:["Hạn thanh toán: ",o(i.dueDate)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-600",children:"Tổng thanh toán"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c(i.totalAmount)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Thanh toán ngày ",o(i.paymentDate)]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(He,{size:20,className:"mr-2 text-blue-600"}),"Thông tin khách hàng"]}),e.jsx("button",{onClick:b,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem hồ sơ"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.guestName}),e.jsx("p",{className:"text-gray-600",children:i.guestEmail}),e.jsx("p",{className:"text-gray-600",children:i.guestPhone}),e.jsx("p",{className:"text-gray-600",children:i.guestAddress})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(wt,{size:20,className:"mr-2 text-blue-600"}),"Thông tin khách sạn"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:f,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem khách sạn"}),e.jsx("button",{onClick:v,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem chủ sở hữu"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.propertyName}),e.jsx("p",{className:"text-gray-600",children:i.propertyAddress}),e.jsxs("p",{className:"text-gray-600",children:["Chủ sở hữu: ",i.ownerName]}),e.jsxs("p",{className:"text-gray-600",children:["Mã số thuế: ",i.ownerTaxId]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(ge,{size:20,className:"mr-2 text-blue-600"}),"Chi tiết đặt phòng"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Mã đặt phòng:"}),e.jsx("p",{className:"font-medium",children:i.bookingId})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Phòng:"}),e.jsx("p",{className:"font-medium",children:i.roomName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Số khách:"}),e.jsxs("p",{className:"font-medium",children:[i.guests.adults," người lớn, ",i.guests.children," trẻ em"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Ngày nhận phòng:"}),e.jsx("p",{className:"font-medium",children:o(i.checkIn)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Ngày trả phòng:"}),e.jsx("p",{className:"font-medium",children:o(i.checkOut)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Số đêm:"}),e.jsxs("p",{className:"font-medium",children:[i.nights," đêm"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-600"}),"Chi tiết hóa đơn"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mô tả"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số lượng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Đơn giá"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thành tiền"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.items.map((j,w)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:j.quantity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:c(j.unitPrice)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:c(j.amount)})]},w))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:"Tổng cộng:"}),e.jsx("td",{className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:c(i.totalAmount)})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(xn,{size:20,className:"mr-2 text-blue-600"}),"Chi tiết hoa hồng"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Tỷ lệ hoa hồng:"}),e.jsxs("span",{className:"font-medium",children:[i.commission.rate,"%"]})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Số tiền hoa hồng:"}),e.jsx("span",{className:"font-medium",children:c(i.commission.amount)})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Số tiền chủ khách sạn nhận:"}),e.jsx("span",{className:"font-medium",children:c(i.commission.ownerAmount)})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Số tiền nền tảng nhận:"}),e.jsx("span",{className:"font-medium",children:c(i.commission.platformAmount)})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Trạng thái thanh toán hoa hồng"}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Pe,{size:16,className:"mr-2 text-gray-500"}),e.jsx("span",{className:"mr-2",children:"Trạng thái:"}),y(i.commission.status)]}),e.jsxs("p",{className:"text-gray-600",children:["Ngày thanh toán: ",o(i.commission.paidDate)]}),i.commission.status==="pending"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{size:20,className:"mr-2 text-blue-600"}),"Thông tin thanh toán"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Phương thức thanh toán:"}),e.jsx("span",{className:"font-medium",children:i.paymentMethod})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Trạng thái thanh toán:"}),e.jsx("span",{children:g(i.status)})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Ngày thanh toán:"}),e.jsx("span",{className:"font-medium",children:o(i.paymentDate)})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Hạn thanh toán:"}),e.jsx("span",{className:"font-medium",children:o(i.dueDate)})]})]})}),e.jsxs("div",{children:[i.status==="pending",e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Hóa đơn đã thanh toán"}),e.jsxs("p",{className:"text-green-700",children:["Hóa đơn này đã được thanh toán đầy đủ vào ngày ",o(i.paymentDate),"."]})]}),i.status==="cancelled",i.status==="refunded"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2 text-blue-600"}),"Ghi chú nội bộ"]}),!r&&e.jsxs("button",{onClick:()=>n(!0),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(Fe,{size:16,className:"mr-1"}),"Chỉnh sửa"]})]}),r?e.jsxs("div",{children:[e.jsx("textarea",{value:a||i.notes||"",onChange:j=>l(j.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[100px]",placeholder:"Thêm ghi chú về hóa đơn này..."}),e.jsxs("div",{className:"flex justify-end mt-3 space-x-2",children:[e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hủy"}),e.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(nt,{size:16,className:"mr-2"}),"Lưu"]})]})]}):e.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg min-h-[60px]",children:i.notes})]})]})},Xb=({selectedHotelIds:t,onHotelSelectionChange:s,error:r})=>{const{showToast:n}=Ce(),[a,l]=h.useState(""),[i,o]=h.useState([]),[c,d]=h.useState([]),[u,m]=h.useState(!1),[p,x]=h.useState(!1),[b,f]=h.useState(null);h.useEffect(()=>{t.length>0&&v()},[t]);const v=async()=>{try{const k=t.map(R=>me.getHotelDetails(R)),P=(await Promise.all(k)).filter(R=>R.data.success).map(R=>R.data.result);d(P)}catch(k){console.error("Error loading selected hotels:",k)}},N=h.useCallback(k=>{b&&clearTimeout(b);const S=setTimeout(()=>{k.trim().length>=2?g(k.trim()):o([])},300);f(S)},[b]),g=async k=>{try{m(!0);const S=await me.searchHotels(k,0,20,"name");if(S.data.success){const P=S.data.result.content.filter(R=>!t.includes(R.id));o(P)}}catch(S){console.error("Error searching hotels:",S),n("error","Lỗi","Không thể tìm kiếm khách sạn")}finally{m(!1)}},y=k=>{const S=k.target.value;l(S),N(S),S.length>=2?x(!0):x(!1)},j=k=>{const S=[...t,k.id],P=[...c,k];d(P),s(S),o(i.filter(R=>R.id!==k.id)),l(""),x(!1)},w=k=>{const S=t.filter(R=>R!==k),P=c.filter(R=>R.id!==k);d(P),s(S)},C=k=>{const S=[];return k.city&&S.push(k.city),k.country&&S.push(k.country),S.join(", ")};return e.jsxs("div",{className:"space-y-4",children:[c.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Khách sạn đã chọn (",c.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.map(k=>e.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wt,{size:16,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:k.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[k.starRating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{size:12,className:"text-yellow-400 fill-current mr-1"}),e.jsx("span",{children:k.starRating})]}),C(k)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{size:12,className:"mr-1"}),e.jsx("span",{children:C(k)})]})]})]})]}),e.jsx("button",{onClick:()=>w(k.id),className:"text-red-600 hover:text-red-800 p-1",title:"Xóa khỏi danh sách",children:e.jsx(ve,{size:16})})]},k.id))})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm và thêm khách sạn"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(at,{size:16,className:"text-gray-400"})}),e.jsx("input",{type:"text",value:a,onChange:y,onFocus:()=>a.length>=2&&x(!0),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"border-red-500":"border-gray-300"}`,placeholder:"Nhập tên khách sạn để tìm kiếm (tối thiểu 2 ký tự)..."}),u&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),p&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:i.length>0?e.jsx("div",{className:"py-1",children:i.map(k=>e.jsx("button",{onClick:()=>j(k),className:"w-full text-left px-4 py-3 hover:bg-gray-50 focus:bg-gray-50 focus:outline-none",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wt,{size:16,className:"text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:k.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[k.starRating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{size:12,className:"text-yellow-400 fill-current mr-1"}),e.jsx("span",{children:k.starRating})]}),C(k)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{size:12,className:"mr-1"}),e.jsx("span",{children:C(k)})]})]})]})]})},k.id))}):a.length>=2&&!u?e.jsxs("div",{className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(wt,{size:24,className:"mx-auto text-gray-400 mb-2"}),e.jsx("p",{children:"Không tìm thấy khách sạn nào"}),e.jsx("p",{className:"text-sm",children:"Thử tìm với từ khóa khác"})]}):a.length<2?e.jsx("div",{className:"px-4 py-4 text-center text-gray-500 text-sm",children:"Nhập ít nhất 2 ký tự để tìm kiếm"}):null})]}),p&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>x(!1)}),r&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center mt-1",children:[e.jsx(ve,{size:16,className:"mr-1"}),r]}),e.jsx("p",{className:"text-sm text-gray-500",children:"💡 Gõ tên khách sạn để tìm kiếm và chọn nhiều khách sạn cùng lúc"})]})},Jb=({voucher:t,onSubmit:s,onCancel:r,isLoading:n=!1})=>{const[a,l]=h.useState({code:(t==null?void 0:t.code)||"",name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",discountType:(t==null?void 0:t.discountType)||rs.PERCENTAGE,discountValue:(t==null?void 0:t.discountValue)||0,maxDiscount:(t==null?void 0:t.maxDiscount)||void 0,minBookingValue:(t==null?void 0:t.minBookingValue)||void 0,startDate:t!=null&&t.startDate?t.startDate.substring(0,16):"",endDate:t!=null&&t.endDate?t.endDate.substring(0,16):"",usageLimit:(t==null?void 0:t.usageLimit)||void 0,applicableScope:(t==null?void 0:t.applicableScope)||Dr.ALL_HOTELS,hotelIds:(t==null?void 0:t.hotelIds)||[]}),[i,o]=h.useState({}),c=()=>{const m={};if(a.code?/^[A-Z0-9]+$/.test(a.code)||(m.code="Mã voucher chỉ được chứa chữ in hoa và số"):m.code="Mã voucher là bắt buộc",a.name||(m.name="Tên voucher là bắt buộc"),(!a.discountValue||a.discountValue<=0)&&(m.discountValue="Giá trị giảm giá phải lớn hơn 0"),a.startDate||(m.startDate="Ngày bắt đầu là bắt buộc"),a.endDate||(m.endDate="Ngày kết thúc là bắt buộc"),a.startDate&&a.endDate){const p=new Date(a.startDate);new Date(a.endDate)<=p&&(m.endDate="Ngày kết thúc phải sau ngày bắt đầu")}return a.discountType===rs.PERCENTAGE&&(a.discountValue>100&&(m.discountValue="Phần trăm giảm giá không được vượt quá 100%"),a.maxDiscount||(m.maxDiscount="Số tiền giảm tối đa là bắt buộc cho voucher phần trăm")),a.applicableScope===Dr.SPECIFIC_HOTELS&&(!a.hotelIds||a.hotelIds.length===0)&&(m.hotelIds="Phải chọn ít nhất một khách sạn khi áp dụng cho khách sạn cụ thể"),o(m),Object.keys(m).length===0},d=m=>{if(m.preventDefault(),c()){const p={...a,startDate:new Date(a.startDate).toISOString(),endDate:new Date(a.endDate).toISOString()};s(p)}},u=(m,p)=>{l(x=>({...x,[m]:p})),i[m]&&o(x=>({...x,[m]:""}))};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t?"Chỉnh sửa voucher":"Tạo voucher mới"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:e.jsx(ve,{size:24})})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã voucher *"}),e.jsx("input",{type:"text",value:a.code,onChange:m=>u("code",m.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.code?"border-red-500":"border-gray-300"}`,placeholder:"VD: SUMMER2024"}),i.code&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{size:16,className:"mr-1"}),i.code]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên voucher *"}),e.jsx("input",{type:"text",value:a.name,onChange:m=>u("name",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.name?"border-red-500":"border-gray-300"}`,placeholder:"VD: Khuyến mãi mùa hè"}),i.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{size:16,className:"mr-1"}),i.name]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),e.jsx("textarea",{value:a.description,onChange:m=>u("description",m.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mô tả chi tiết về voucher..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại giảm giá *"}),e.jsxs("select",{value:a.discountType,onChange:m=>u("discountType",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:rs.PERCENTAGE,children:"Giảm theo phần trăm"}),e.jsx("option",{value:rs.HOTEL_SPECIFIC,children:"Khách sạn cụ thể"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Giá trị giảm giá * ",a.discountType===rs.PERCENTAGE?"(%)":"(VNĐ)"]}),e.jsx("input",{type:"number",value:a.discountValue,onChange:m=>u("discountValue",Number(m.target.value)),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.discountValue?"border-red-500":"border-gray-300"}`,placeholder:a.discountType===rs.PERCENTAGE?"20":"500000",min:"0",max:a.discountType===rs.PERCENTAGE?"100":void 0}),i.discountValue&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{size:16,className:"mr-1"}),i.discountValue]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.discountType===rs.PERCENTAGE&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số tiền giảm tối đa * (VNĐ)"}),e.jsx("input",{type:"number",value:a.maxDiscount||"",onChange:m=>u("maxDiscount",m.target.value?Number(m.target.value):void 0),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.maxDiscount?"border-red-500":"border-gray-300"}`,placeholder:"2000000",min:"0"}),i.maxDiscount&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{size:16,className:"mr-1"}),i.maxDiscount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá trị đặt phòng tối thiểu (VNĐ)"}),e.jsx("input",{type:"number",value:a.minBookingValue||"",onChange:m=>u("minBookingValue",m.target.value?Number(m.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000000",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới hạn sử dụng"}),e.jsx("input",{type:"number",value:a.usageLimit||"",onChange:m=>u("usageLimit",m.target.value?Number(m.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000",min:"1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày bắt đầu *"}),e.jsx("input",{type:"datetime-local",value:a.startDate,onChange:m=>u("startDate",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.startDate?"border-red-500":"border-gray-300"}`}),i.startDate&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{size:16,className:"mr-1"}),i.startDate]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày kết thúc *"}),e.jsx("input",{type:"datetime-local",value:a.endDate,onChange:m=>u("endDate",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.endDate?"border-red-500":"border-gray-300"}`}),i.endDate&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{size:16,className:"mr-1"}),i.endDate]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phạm vi áp dụng *"}),e.jsxs("select",{value:a.applicableScope,onChange:m=>u("applicableScope",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:Dr.ALL_HOTELS,children:"Tất cả khách sạn"}),e.jsx("option",{value:Dr.SPECIFIC_HOTELS,children:"Khách sạn cụ thể"})]})]}),a.applicableScope===Dr.SPECIFIC_HOTELS&&e.jsx(Xb,{selectedHotelIds:a.hotelIds||[],onHotelSelectionChange:m=>u("hotelIds",m),error:i.hotelIds}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Hủy"}),e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang xử lý..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{size:16,className:"mr-2"}),t?"Cập nhật":"Tạo voucher"]})})]})]})]})},Zb=({isOpen:t,onClose:s,onConfirmDelete:r,onDisableInstead:n,voucherCode:a,hasUsageRecords:l})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:l?e.jsx(As,{className:"h-6 w-6 text-orange-600"}):e.jsx(Ns,{className:"h-6 w-6 text-red-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l?"Không thể xóa voucher":"Xác nhận xóa voucher"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Voucher: ",e.jsx("span",{className:"font-semibold text-blue-600",children:a})]}),l?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-orange-800",children:e.jsx("strong",{children:"Voucher này đã được sử dụng trong các booking!"})}),e.jsxs("p",{className:"text-sm text-orange-700 mt-1",children:["Để bảo vệ tính toàn vẹn dữ liệu, bạn nên ",e.jsx("strong",{children:"tắt voucher"})," thay vì xóa."]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Khuyến nghị:"})," Tắt voucher để ngừng sử dụng nhưng vẫn giữ lại lịch sử."]})})]}):e.jsx("p",{className:"text-sm text-gray-600",children:"Bạn có chắc chắn muốn xóa voucher này? Hành động này không thể hoàn tác."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Hủy"}),l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-orange-600 border border-transparent rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 flex items-center justify-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Tắt voucher"]}),e.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center justify-center",children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Vẫn xóa"]})]}):e.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center justify-center",children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Xóa voucher"]})]})]})})}):null,ej=()=>{var Q;le();const[t,s]=h.useState(""),[r,n]=h.useState("all"),[a,l]=h.useState(1),[i,o]=h.useState([]),[c,d]=h.useState(!1),[u,m]=h.useState([]),[p,x]=h.useState(!1),[b,f]=h.useState(!1),[v,N]=h.useState(null),[g,y]=h.useState({show:!1,type:"success",message:""}),[j,w]=h.useState(0),[C,k]=h.useState(0),[S,P]=h.useState({isOpen:!1,voucher:null,hasUsageRecords:!1}),R=10;h.useEffect(()=>{T()},[a,r,t]);const T=async()=>{x(!0);try{const D={pageNumber:a-1,pageSize:R,sortBy:"createdAt"};r!=="all"&&(D.status=r),t&&(D.name=t);const J=await ks.getAllVouchers(D);J.data.success&&(m(J.data.result.content),w(J.data.result.totalPages),k(J.data.result.totalElements))}catch(D){E("error","Không thể tải danh sách voucher"),console.error("Error loading vouchers:",D)}finally{x(!1)}},E=(D,J)=>{y({show:!0,type:D,message:J}),setTimeout(()=>y({show:!1,type:"success",message:""}),5e3)},I=async D=>{var J,V;x(!0);try{(await ks.createVoucher(D)).data.success&&(E("success","Tạo voucher thành công"),f(!1),T())}catch(re){E("error",((V=(J=re.response)==null?void 0:J.data)==null?void 0:V.message)||"Không thể tạo voucher")}finally{x(!1)}},U=async D=>{var J,V;if(v){x(!0);try{(await ks.updateVoucher(v.id,D)).data.success&&(E("success","Cập nhật voucher thành công"),f(!1),N(null),T())}catch(re){E("error",((V=(J=re.response)==null?void 0:J.data)==null?void 0:V.message)||"Không thể cập nhật voucher")}finally{x(!1)}}},K=D=>{P({isOpen:!0,voucher:D,hasUsageRecords:D.usageCount>0})},q=async()=>{var D,J,V;if(S.voucher)try{(await ks.deleteVoucher(S.voucher.id)).data.success&&(E("success","Xóa voucher thành công"),T())}catch(re){const G=((J=(D=re.response)==null?void 0:D.data)==null?void 0:J.message)||"Không thể xóa voucher";if(((V=re.response)==null?void 0:V.status)===409){P(be=>({...be,hasUsageRecords:!0}));return}E("error",G)}finally{P({isOpen:!1,voucher:null,hasUsageRecords:!1})}},_=async()=>{var D,J;if(S.voucher)try{S.voucher.status===ts.ACTIVE?(await ks.toggleVoucherStatus(S.voucher.id)).data.success&&(E("success","Đã tắt voucher thành công"),T()):E("success","Voucher đã được tắt")}catch(V){E("error",((J=(D=V.response)==null?void 0:D.data)==null?void 0:J.message)||"Không thể tắt voucher")}finally{P({isOpen:!1,voucher:null,hasUsageRecords:!1})}},z=async D=>{var J,V;try{(await ks.toggleVoucherStatus(D)).data.success&&(E("success","Cập nhật trạng thái thành công"),T())}catch(re){E("error",((V=(J=re.response)==null?void 0:J.data)==null?void 0:V.message)||"Không thể cập nhật trạng thái")}},Y=D=>{const J={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(D).toLocaleDateString("vi-VN",J)},W=D=>D.toLocaleString("vi-VN")+"đ",O=D=>{const V={[ts.ACTIVE]:{color:"bg-green-100 text-green-800",icon:We,text:"Hoạt động"},[ts.INACTIVE]:{color:"bg-gray-100 text-gray-800",icon:ve,text:"Tạm dừng"},[ts.EXPIRED]:{color:"bg-red-100 text-red-800",icon:Pe,text:"Hết hạn"},[ts.USED_UP]:{color:"bg-orange-100 text-orange-800",icon:Qt,text:"Hết lượt"}}[D],re=V.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${V.color}`,children:[e.jsx(re,{size:12,className:"mr-1"}),V.text]})},A=D=>D.discountType===rs.PERCENTAGE?`${D.discountValue}% (tối đa ${W(D.maxDiscount||0)})`:W(D.discountValue),F=(D,J)=>J?Math.min(D/J*100,100):0,B=()=>{o(c?[]:u.map(D=>D.id)),d(!c)},se=D=>{i.includes(D)?o(i.filter(J=>J!==D)):o([...i,D])},oe=D=>{N(D),f(!0)},Re=()=>{N(null),f(!0)};return b?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx(Jb,{voucher:v||void 0,onSubmit:v?U:I,onCancel:()=>{f(!1),N(null)},isLoading:p})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý Voucher"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Tạo và quản lý các voucher giảm giá"})]}),e.jsxs("button",{onClick:Re,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Tạo voucher mới"]})]})})}),g.show&&e.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-center ${g.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[e.jsx(he,{size:20,className:"mr-2"}),g.message]}),e.jsx("div",{className:"px-6 py-4",children:e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tìm kiếm theo tên hoặc mã voucher...",value:t,onChange:D=>s(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:r,onChange:D=>n(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tất cả trạng thái"}),e.jsx("option",{value:ts.ACTIVE,children:"Hoạt động"}),e.jsx("option",{value:ts.INACTIVE,children:"Tạm dừng"}),e.jsx("option",{value:ts.EXPIRED,children:"Hết hạn"}),e.jsx("option",{value:ts.USED_UP,children:"Hết lượt"})]})})]})})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:B,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("span",{className:"ml-3 text-sm text-gray-700",children:["Đã chọn ",i.length," voucher"]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Tổng: ",C," voucher"]})]})}),p?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qt,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Chưa có voucher nào"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voucher"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giảm giá"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thời gian"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sử dụng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(D=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.includes(D.id),onChange:()=>se(D.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-4"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{size:16,className:"text-blue-600 mr-2"}),e.jsx("span",{className:"font-semibold text-blue-600",children:D.code})]}),e.jsx("div",{className:"text-sm font-medium text-gray-900 mt-1",children:D.name}),D.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:D.description})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xn,{size:16,className:"text-green-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:A(D)})]}),D.minBookingValue&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Tối thiểu: ",W(D.minBookingValue)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ge,{size:16,className:"mr-2"}),e.jsxs("div",{children:[e.jsx("div",{children:Y(D.startDate)}),e.jsxs("div",{className:"text-xs",children:["đến ",Y(D.endDate)]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[D.usageCount," / ",D.usageLimit||"∞"]}),D.usageLimit&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${F(D.usageCount,D.usageLimit)}%`}})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O(D.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>oe(D),className:"text-blue-600 hover:text-blue-900",children:e.jsx(Fe,{size:16})}),e.jsx("button",{onClick:()=>z(D.id),className:"text-yellow-600 hover:text-yellow-900",children:D.status===ts.ACTIVE?e.jsx(ve,{size:16}):e.jsx(We,{size:16})}),e.jsx("button",{onClick:()=>K(D),className:"text-red-600 hover:text-red-900",children:e.jsx(tt,{size:16})})]})})]},D.id))})]})}),j>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Hiển thị ",(a-1)*R+1," - ",Math.min(a*R,C)," của ",C," voucher"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(D=>Math.max(D-1,1)),disabled:a===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[a," / ",j]}),e.jsx("button",{onClick:()=>l(D=>Math.min(D+1,j)),disabled:a===j,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Tiếp"})]})]})})]})]})}),e.jsx(Zb,{isOpen:S.isOpen,onClose:()=>P({isOpen:!1,voucher:null,hasUsageRecords:!1}),onConfirmDelete:q,onDisableInstead:_,voucherCode:((Q=S.voucher)==null?void 0:Q.code)||"",hasUsageRecords:S.hasUsageRecords})]})},tj=()=>{const[t,s]=h.useState("month"),[r,n]=h.useState(!0),a={revenue:{current:125e7,previous:98e7,percentChange:27.55},bookings:{current:1876,previous:1543,percentChange:21.58},users:{current:3254,previous:2890,percentChange:12.6},hotels:{current:245,previous:210,percentChange:16.67},avgBookingValue:{current:28e5,previous:25e5,percentChange:12},occupancyRate:{current:78,previous:72,percentChange:8.33}},l={labels:["T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12"],revenue:[82e7,75e7,9e8,95e7,88e7,105e7,115e7,12e8,11e8,125e7,13e8,14e8],bookings:[1200,1150,1300,1350,1280,1450,1550,1600,1500,1650,1700,1800],newUsers:[250,220,280,300,270,320,350,370,340,380,400,420],newHotels:[15,12,18,20,16,22,25,28,24,30,32,35]},i=[{id:"1",name:"Vinpearl Resort & Spa",location:"Nha Trang",bookings:245,revenue:6125e5},{id:"2",name:"Metropole Hanoi",location:"Hà Nội",bookings:210,revenue:588e6},{id:"3",name:"Fusion Maia Resort",location:"Đà Nẵng",bookings:180,revenue:504e6},{id:"4",name:"Pullman Saigon",location:"Hồ Chí Minh",bookings:165,revenue:462e6},{id:"5",name:"Amanoi Resort",location:"Ninh Thuận",bookings:120,revenue:42e7}],o=[{name:"Hồ Chí Minh",bookings:520,revenue:1456e6},{name:"Hà Nội",bookings:480,revenue:1344e6},{name:"Đà Nẵng",bookings:350,revenue:98e7},{name:"Nha Trang",bookings:320,revenue:896e6},{name:"Phú Quốc",bookings:280,revenue:784e6}],c=x=>x.toLocaleString("vi-VN")+"đ",d=x=>x>=0?"text-green-600 bg-green-100":"text-red-600 bg-red-100",u=x=>x>=0?e.jsx(_y,{size:14,className:"mr-1"}):e.jsx(Uy,{size:14,className:"mr-1"}),m=()=>{switch(t){case"week":return"tuần trước";case"month":return"tháng trước";case"quarter":return"quý trước";case"year":return"năm trước";default:return"tháng trước"}},p=({data:x,labels:b,color:f})=>{const v=Math.max(...x);return e.jsx("div",{className:"flex h-40 items-end space-x-2",children:x.map((N,g)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-full ${f} rounded-t`,style:{height:`${N/v*100}%`}}),e.jsx("div",{className:"text-xs mt-1 text-gray-600",children:b[g]})]},g))})};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 space-y-4 lg:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Thống kê & Phân tích"}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:t,onChange:x=>s(x.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base w-full sm:w-auto",children:[e.jsx("option",{value:"week",children:"Tuần này"}),e.jsx("option",{value:"month",children:"Tháng này"}),e.jsx("option",{value:"quarter",children:"Quý này"}),e.jsx("option",{value:"year",children:"Năm nay"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:x=>n(x.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("span",{className:"ml-2 text-gray-700 text-sm sm:text-base",children:["So sánh với ",m()]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 col-span-1 sm:col-span-2 lg:col-span-1 xl:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Doanh thu"}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(Se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:c(a.revenue.current)}),r&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.revenue.percentChange)}`,children:[u(a.revenue.percentChange),Math.abs(a.revenue.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so với ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Đặt phòng"}),e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(ds,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:a.bookings.current.toLocaleString()}),r&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.bookings.percentChange)}`,children:[u(a.bookings.percentChange),Math.abs(a.bookings.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so với ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Người dùng mới"}),e.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:e.jsx(ke,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:a.users.current.toLocaleString()}),r&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.users.percentChange)}`,children:[u(a.users.percentChange),Math.abs(a.users.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so với ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Khách sạn mới"}),e.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:e.jsx(et,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:a.hotels.current}),r&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.hotels.percentChange)}`,children:[u(a.hotels.percentChange),Math.abs(a.hotels.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so với ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Giá trị đặt phòng TB"}),e.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:e.jsx(xr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-indigo-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:c(a.avgBookingValue.current)}),r&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.avgBookingValue.percentChange)}`,children:[u(a.avgBookingValue.percentChange),Math.abs(a.avgBookingValue.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so với ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Tỷ lệ lấp đầy"}),e.jsx("div",{className:"p-2 bg-teal-100 rounded-full",children:e.jsx(ge,{className:"h-5 w-5 sm:h-6 sm:w-6 text-teal-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:[a.occupancyRate.current,"%"]}),r&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.occupancyRate.percentChange)}`,children:[u(a.occupancyRate.percentChange),Math.abs(a.occupancyRate.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so với ",m()]})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Doanh thu theo tháng"}),e.jsx(p,{data:l.revenue,labels:l.labels,color:"bg-blue-500"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Đặt phòng theo tháng"}),e.jsx(p,{data:l.bookings,labels:l.labels,color:"bg-green-500"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Người dùng mới theo tháng"}),e.jsx(p,{data:l.newUsers,labels:l.labels,color:"bg-purple-500"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Khách sạn mới theo tháng"}),e.jsx(p,{data:l.newHotels,labels:l.labels,color:"bg-orange-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Top khách sạn"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:i.map((x,b)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:["#",b+1]})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:x.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:x.location})]})]}),e.jsxs("div",{className:"text-right ml-4 flex-shrink-0",children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base",children:c(x.revenue)}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[x.bookings," đặt phòng"]})]})]},x.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Top địa điểm"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:o.map((x,b)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["#",b+1]})}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:x.name})})]}),e.jsxs("div",{className:"text-right ml-4 flex-shrink-0",children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base",children:c(x.revenue)}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[x.bookings," đặt phòng"]})]})]},x.name))})]})]})]})},sj=()=>{const t=le(),[s,r]=h.useState(""),[n,a]=h.useState("all"),[l,i]=h.useState("all"),[o,c]=h.useState(1),[d,u]=h.useState(null),[m,p]=h.useState([]),[x,b]=h.useState(!1),f=[{id:"CP-001",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"finance@vinpearl.com",ownerPhone:"1900 2345",ownerBankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CÔNG TY CỔ PHẦN VINPEARL"},totalBookings:45,totalAmount:1125e5,commissionAmount:16875e3,ownerAmount:95625e3,platformAmount:16875e3,status:"paid",paymentDate:"2023-10-05",paymentMethod:"Bank Transfer",transactionId:"TRX-12345678",createdAt:"2023-10-01",updatedAt:"2023-10-05",invoices:[{id:"INV-001",bookingId:"BK-001",propertyName:"Vinpearl Resort & Spa Nha Trang",amount:75e5,commissionAmount:1125e3,commissionRate:15,date:"2023-09-20"},{id:"INV-004",bookingId:"BK-004",propertyName:"Vinpearl Resort & Spa Nha Trang",amount:36e5,commissionAmount:54e4,commissionRate:15,date:"2023-09-12"},{id:"INV-009",bookingId:"BK-009",propertyName:"Vinpearl Resort & Spa Đà Nẵng",amount:54e5,commissionAmount:81e4,commissionRate:15,date:"2023-09-15"}]},{id:"CP-002",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Công ty TNHH Metropole",ownerId:"OWN-002",ownerEmail:"finance@metropole.com",ownerPhone:"024 3826 6919",ownerBankInfo:{bankName:"BIDV",accountNumber:"0987654321",accountName:"CÔNG TY TNHH METROPOLE"},totalBookings:38,totalAmount:96e6,commissionAmount:1152e4,ownerAmount:8448e4,platformAmount:1152e4,status:"pending",createdAt:"2023-10-01",updatedAt:"2023-10-01",invoices:[{id:"INV-002",bookingId:"BK-002",propertyName:"Metropole Hanoi",amount:64e5,commissionAmount:768e3,commissionRate:12,date:"2023-09-10"},{id:"INV-005",bookingId:"BK-005",propertyName:"Metropole Hanoi",amount:96e5,commissionAmount:1152e3,commissionRate:12,date:"2023-09-18"}]},{id:"CP-003",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Tập đoàn Mường Thanh",ownerId:"OWN-003",ownerEmail:"finance@muongthanh.com",ownerPhone:"1800 1234",ownerBankInfo:{bankName:"Techcombank",accountNumber:"9876543210",accountName:"TẬP ĐOÀN MƯỜNG THANH"},totalBookings:52,totalAmount:126e6,commissionAmount:126e5,ownerAmount:1134e5,platformAmount:126e5,status:"processing",createdAt:"2023-10-01",updatedAt:"2023-10-03",notes:"Đang chờ xác nhận từ ngân hàng",invoices:[{id:"INV-003",bookingId:"BK-003",propertyName:"Mường Thanh Luxury Đà Nẵng",amount:84e5,commissionAmount:84e4,commissionRate:10,date:"2023-09-15"},{id:"INV-010",bookingId:"BK-010",propertyName:"Mường Thanh Grand Hà Nội",amount:62e5,commissionAmount:62e4,commissionRate:10,date:"2023-09-22"}]},{id:"CP-004",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Công ty CP Fusion",ownerId:"OWN-004",ownerEmail:"finance@fusion.com",ownerPhone:"028 3822 9999",ownerBankInfo:{bankName:"VPBank",accountNumber:"1122334455",accountName:"CÔNG TY CỔ PHẦN FUSION"},totalBookings:32,totalAmount:875e5,commissionAmount:1575e4,ownerAmount:7175e4,platformAmount:1575e4,status:"paid",paymentDate:"2023-10-04",paymentMethod:"Bank Transfer",transactionId:"TRX-87654321",createdAt:"2023-10-01",updatedAt:"2023-10-04",invoices:[{id:"INV-006",bookingId:"BK-006",propertyName:"Fusion Maia Resort",amount:125e5,commissionAmount:225e4,commissionRate:18,date:"2023-09-13"}]},{id:"CP-005",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Tập đoàn Accor",ownerId:"OWN-005",ownerEmail:"finance@accor.com",ownerPhone:"028 3520 9999",ownerBankInfo:{bankName:"HSBC",accountNumber:"5544332211",accountName:"ACCOR VIETNAM COMPANY LIMITED"},totalBookings:41,totalAmount:1029e5,commissionAmount:15435e3,ownerAmount:87465e3,platformAmount:15435e3,status:"failed",createdAt:"2023-10-01",updatedAt:"2023-10-06",notes:"Thông tin tài khoản không chính xác, cần liên hệ lại",invoices:[{id:"INV-007",bookingId:"BK-007",propertyName:"Pullman Saigon",amount:84e5,commissionAmount:126e4,commissionRate:15,date:"2023-09-15"},{id:"INV-011",bookingId:"BK-011",propertyName:"Novotel Nha Trang",amount:55e5,commissionAmount:825e3,commissionRate:15,date:"2023-09-18"}]},{id:"CP-006",period:{startDate:"2023-08-01",endDate:"2023-08-31"},ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"finance@vinpearl.com",ownerPhone:"1900 2345",ownerBankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CÔNG TY CỔ PHẦN VINPEARL"},totalBookings:38,totalAmount:95e6,commissionAmount:1425e4,ownerAmount:8075e4,platformAmount:1425e4,status:"paid",paymentDate:"2023-09-05",paymentMethod:"Bank Transfer",transactionId:"TRX-23456789",createdAt:"2023-09-01",updatedAt:"2023-09-05",invoices:[{id:"INV-012",bookingId:"BK-012",propertyName:"Vinpearl Resort & Spa Nha Trang",amount:68e5,commissionAmount:102e4,commissionRate:15,date:"2023-08-10"},{id:"INV-013",bookingId:"BK-013",propertyName:"Vinpearl Resort & Spa Đà Nẵng",amount:72e5,commissionAmount:108e4,commissionRate:15,date:"2023-08-15"}]},{id:"CP-007",period:{startDate:"2023-08-01",endDate:"2023-08-31"},ownerName:"Công ty TNHH Metropole",ownerId:"OWN-002",ownerEmail:"finance@metropole.com",ownerPhone:"024 3826 6919",ownerBankInfo:{bankName:"BIDV",accountNumber:"0987654321",accountName:"CÔNG TY TNHH METROPOLE"},totalBookings:32,totalAmount:8e7,commissionAmount:96e5,ownerAmount:704e5,platformAmount:96e5,status:"paid",paymentDate:"2023-09-04",paymentMethod:"Bank Transfer",transactionId:"TRX-34567890",createdAt:"2023-09-01",updatedAt:"2023-09-04",invoices:[{id:"INV-014",bookingId:"BK-014",propertyName:"Metropole Hanoi",amount:88e5,commissionAmount:1056e3,commissionRate:12,date:"2023-08-12"}]},{id:"CP-008",period:{startDate:"2023-10-01",endDate:"2023-10-31"},ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"finance@vinpearl.com",ownerPhone:"1900 2345",ownerBankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CÔNG TY CỔ PHẦN VINPEARL"},totalBookings:12,totalAmount:3e7,commissionAmount:45e5,ownerAmount:255e5,platformAmount:45e5,status:"pending",createdAt:"2023-10-15",updatedAt:"2023-10-15",notes:"Thanh toán tạm tính giữa tháng",invoices:[{id:"INV-015",bookingId:"BK-015",propertyName:"Vinpearl Resort & Spa Nha Trang",amount:85e5,commissionAmount:1275e3,commissionRate:15,date:"2023-10-05"},{id:"INV-016",bookingId:"BK-016",propertyName:"Vinpearl Resort & Spa Phú Quốc",amount:92e5,commissionAmount:138e4,commissionRate:15,date:"2023-10-08"}]}],v=5,N=f.filter(A=>{const F=A.id.toLowerCase().includes(s.toLowerCase())||A.ownerName.toLowerCase().includes(s.toLowerCase())||A.ownerEmail.toLowerCase().includes(s.toLowerCase())||A.transactionId&&A.transactionId.toLowerCase().includes(s.toLowerCase()),B=n==="all"||A.status===n;let se=!0;const oe=new Date,Re=oe.getMonth(),Q=oe.getFullYear(),D=new Date(A.period.startDate);if(new Date(A.period.endDate),l==="currentMonth")se=D.getMonth()===Re&&D.getFullYear()===Q;else if(l==="lastMonth"){const J=Re===0?11:Re-1,V=Re===0?Q-1:Q;se=D.getMonth()===J&&D.getFullYear()===V}else if(l==="last3Months"){const J=new Date;J.setMonth(J.getMonth()-3),se=D>=J}return F&&B&&se}),g=Math.ceil(N.length/v),y=N.slice((o-1)*v,o*v),j=A=>{const F={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(A).toLocaleDateString("vi-VN",F)},w=A=>A.toLocaleString("vi-VN")+"đ",C=()=>{p(x?[]:y.map(A=>A.id)),b(!x)},k=A=>{m.includes(A)?p(m.filter(F=>F!==A)):p([...m,A])},S=A=>{u(d===A?null:A)},P=()=>{t("/admin/commission-payments/create")},R=A=>{t(`/admin/commission-payments/${A}`)},T=A=>{t(`/admin/users/${A}`)},E=A=>{t(`/admin/invoices/${A}`)},I=A=>{t(`/admin/bookings/${A}`)},U=A=>{alert(`Đã bắt đầu xử lý thanh toán có ID: ${A}`)},K=A=>{alert(`Đã đánh dấu thanh toán có ID: ${A} là đã thanh toán`)},q=A=>{alert(`Đã thử lại thanh toán có ID: ${A}`)},_=A=>{alert(`Đã gửi nhắc nhở cho thanh toán có ID: ${A}`)},z=()=>{alert("Đã xuất danh sách thanh toán hoa hồng")},Y=()=>{m.length!==0&&alert(`Đã bắt đầu xử lý ${m.length} thanh toán đã chọn`)},W=A=>{switch(A){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đã thanh toán"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Chờ thanh toán"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Đang xử lý"});case"failed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Thất bại"});default:return null}},O=(A,F)=>`${j(A)} - ${j(F)}`;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Thanh toán hoa hồng"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:z,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Cr,{size:20,className:"mr-2"}),"Xuất dữ liệu"]}),e.jsxs("button",{onClick:P,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Tạo thanh toán mới"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Tìm kiếm theo mã thanh toán, chủ khách sạn, email...",value:s,onChange:A=>r(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:n,onChange:A=>a(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tất cả trạng thái"}),e.jsx("option",{value:"pending",children:"Chờ thanh toán"}),e.jsx("option",{value:"processing",children:"Đang xử lý"}),e.jsx("option",{value:"paid",children:"Đã thanh toán"}),e.jsx("option",{value:"failed",children:"Thất bại"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:l,onChange:A=>i(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tất cả thời gian"}),e.jsx("option",{value:"currentMonth",children:"Tháng hiện tại"}),e.jsx("option",{value:"lastMonth",children:"Tháng trước"}),e.jsx("option",{value:"last3Months",children:"3 tháng gần đây"})]})]})]})]})}),m.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex justify-between items-center",children:[e.jsxs("span",{className:"text-blue-700",children:["Đã chọn ",m.length," thanh toán"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:Y,className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Se,{size:16,className:"mr-1"}),"Xử lý hàng loạt"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:C,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),"Mã thanh toán"]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kỳ thanh toán"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chủ khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số lượng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hồng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(A=>e.jsxs(yr.Fragment,{children:[e.jsxs("tr",{className:`hover:bg-gray-50 ${d===A.id?"bg-blue-50":""}`,children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.includes(A.id),onChange:()=>k(A.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-3"}),e.jsxs("button",{onClick:()=>S(A.id),className:"flex items-center text-blue-600 hover:text-blue-900",children:[d===A.id?e.jsx(_t,{size:16,className:"mr-1"}):e.jsx(Tt,{size:16,className:"mr-1"}),A.id]})]}),e.jsxs("div",{className:"ml-7 text-xs text-gray-500 mt-1",children:["Tạo: ",j(A.createdAt)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:O(A.period.startDate,A.period.endDate)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("button",{onClick:()=>T(A.ownerId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(wt,{size:14,className:"mr-1"}),A.ownerName]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:A.ownerEmail})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[A.totalBookings," đặt phòng"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[A.invoices.length," hóa đơn"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w(A.totalAmount)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:w(A.commissionAmount)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Chủ KS: ",w(A.ownerAmount)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"mb-1",children:W(A.status)}),A.status==="paid"&&A.paymentDate&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Ngày TT: ",j(A.paymentDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[A.status==="pending"&&e.jsx("button",{onClick:()=>U(A.id),className:"text-blue-600 hover:text-blue-900",title:"Xử lý thanh toán",children:e.jsx(Se,{size:18})}),A.status==="processing"&&e.jsx("button",{onClick:()=>K(A.id),className:"text-green-600 hover:text-green-900",title:"Đánh dấu đã thanh toán",children:e.jsx(We,{size:18})}),A.status==="failed"&&e.jsx("button",{onClick:()=>q(A.id),className:"text-orange-600 hover:text-orange-900",title:"Thử lại",children:e.jsx(Pe,{size:18})}),e.jsx("button",{onClick:()=>R(A.id),className:"text-indigo-600 hover:text-indigo-900",title:"Xem chi tiết",children:e.jsx(os,{size:18})}),A.status==="pending"&&e.jsx("button",{onClick:()=>_(A.id),className:"text-purple-600 hover:text-purple-900",title:"Gửi nhắc nhở",children:e.jsx(Xl,{size:18})})]})})]}),d===A.id&&e.jsx("tr",{className:"bg-blue-50",children:e.jsxs("td",{colSpan:8,className:"px-6 py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Thông tin thanh toán"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Thông tin ngân hàng:"}),e.jsx("p",{className:"text-sm font-medium",children:A.ownerBankInfo.bankName}),e.jsx("p",{className:"text-sm font-medium",children:A.ownerBankInfo.accountNumber}),e.jsx("p",{className:"text-sm font-medium",children:A.ownerBankInfo.accountName})]}),A.status==="paid"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phương thức thanh toán:"}),e.jsx("p",{className:"text-sm font-medium",children:A.paymentMethod}),A.transactionId&&e.jsxs("p",{className:"text-sm font-medium",children:["Mã giao dịch: ",A.transactionId]})]}),A.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ghi chú:"}),e.jsx("p",{className:"text-sm",children:A.notes})]})]})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Danh sách hóa đơn"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã hóa đơn"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã đặt phòng"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách sạn"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số tiền"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hồng"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.invoices.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:e.jsx("button",{onClick:()=>E(F.id),className:"text-blue-600 hover:text-blue-900",children:F.id})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:e.jsx("button",{onClick:()=>I(F.bookingId),className:"text-blue-600 hover:text-blue-900",children:F.bookingId})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:F.propertyName}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:j(F.date)}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:w(F.amount)}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[w(F.commissionAmount)," (",F.commissionRate,"%)"]})]},F.id))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"px-4 py-2 text-sm font-medium text-right",children:"Tổng cộng:"}),e.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:w(A.totalAmount)}),e.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:w(A.commissionAmount)})]})})]})})]})})]},A.id))})]})}),g>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Trước"}),e.jsx("button",{onClick:()=>c(Math.min(g,o+1)),disabled:o===g,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===g?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hiển thị ",e.jsx("span",{className:"font-medium",children:(o-1)*v+1})," đến"," ",e.jsx("span",{className:"font-medium",children:Math.min(o*v,N.length)})," ","trong tổng số ",e.jsx("span",{className:"font-medium",children:N.length})," thanh toán"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${o===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang trước"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:g}).map((A,F)=>e.jsx("button",{onClick:()=>c(F+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===F+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:F+1},F)),e.jsxs("button",{onClick:()=>c(Math.min(g,o+1)),disabled:o===g,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${o===g?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),y.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Không tìm thấy thanh toán hoa hồng nào"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Không có thanh toán hoa hồng nào phù hợp với tiêu chí tìm kiếm của bạn."}),e.jsxs("button",{onClick:P,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Tạo thanh toán mới"]})]})]})},rj=()=>{const{id:t}=ot(),s=le(),[r,n]=h.useState(!1),[a,l]=h.useState(""),[i,o]=h.useState(!1),[c,d]=h.useState({paymentMethod:"",transactionId:"",paymentDate:new Date().toISOString().split("T")[0]}),u={id:"CP-001",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Công ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"finance@vinpearl.com",ownerPhone:"1900 2345",ownerAddress:"7 Đường Trường Sa, Vĩnh Hòa, Nha Trang, Khánh Hòa",ownerTaxId:"0123456789",ownerBankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CÔNG TY CỔ PHẦN VINPEARL",branch:"Chi nhánh Nha Trang",swiftCode:"BFTVVNVX"},totalBookings:45,totalAmount:1125e5,commissionAmount:16875e3,ownerAmount:95625e3,platformAmount:16875e3,status:"pending",createdAt:"2023-10-01",updatedAt:"2023-10-01",notes:"Thanh toán hoa hồng tháng 9/2023 cho Vinpearl",invoices:[{id:"INV-001",bookingId:"BK-001",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",checkIn:"2023-09-15",checkOut:"2023-09-18",guestName:"Nguyễn Văn An",amount:75e5,commissionAmount:1125e3,commissionRate:15,date:"2023-09-20"},{id:"INV-004",bookingId:"BK-004",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",checkIn:"2023-09-10",checkOut:"2023-09-12",guestName:"Phạm Thị Dung",amount:36e5,commissionAmount:54e4,commissionRate:15,date:"2023-09-12"},{id:"INV-009",bookingId:"BK-009",propertyName:"Vinpearl Resort & Spa Đà Nẵng",propertyId:"PROP-002",checkIn:"2023-09-12",checkOut:"2023-09-15",guestName:"Trần Văn Bình",amount:54e5,commissionAmount:81e4,commissionRate:15,date:"2023-09-15"}],history:[{date:"2023-10-01 08:30:00",action:"Tạo thanh toán",user:"Admin",notes:"Tạo thanh toán hoa hồng tháng 9/2023"},{date:"2023-10-01 09:15:00",action:"Gửi thông báo",user:"System",notes:"Đã gửi email thông báo thanh toán đến chủ khách sạn"}]},m=E=>{const I={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(E).toLocaleDateString("vi-VN",I)},p=E=>{const I={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(E).toLocaleString("vi-VN",I)},x=E=>E.toLocaleString("vi-VN")+"đ",b=()=>{s("/admin/commission-payments")},f=()=>{window.print()},v=()=>{alert(`Đã tải xuống thanh toán có ID: ${t}`)},N=()=>{alert(`Đã gửi thông báo thanh toán đến: ${u.ownerEmail}`)},g=()=>{s(`/admin/users/${u.ownerId}`)},y=E=>{s(`/admin/invoices/${E}`)},j=E=>{s(`/admin/bookings/${E}`)},w=E=>{s(`/admin/hotels/${E}`)},C=()=>{alert("Đã lưu ghi chú"),n(!1)},k=()=>{alert("Đã bắt đầu xử lý thanh toán")},S=()=>{alert("Đã đánh dấu thanh toán là đã thanh toán"),o(!1)},P=()=>{window.confirm("Bạn có chắc chắn muốn hủy thanh toán này không?")&&alert("Đã hủy thanh toán")},R=E=>{switch(E){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đã thanh toán"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Chờ thanh toán"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Đang xử lý"});case"failed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Thất bại"});default:return null}},T=(E,I)=>`${m(E)} - ${m(I)}`;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:b,className:"mr-4 text-gray-600 hover:text-gray-900",children:e.jsx(ye,{size:24})}),e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold",children:["Thanh toán hoa hồng #",u.id]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[e.jsx(Vc,{size:18,className:"mr-2"}),"In thanh toán"]}),e.jsxs("button",{onClick:v,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Cr,{size:18,className:"mr-2"}),"Tải xuống"]}),e.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(De,{size:18,className:"mr-2"}),"Gửi thông báo"]}),e.jsxs("button",{onClick:k,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center",children:[e.jsx(Se,{size:18,className:"mr-2"}),"Xử lý thanh toán"]}),u.status==="processing",e.jsxs("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[e.jsx(ve,{size:18,className:"mr-2"}),"Hủy thanh toán"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Trạng thái thanh toán"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:R(u.status)}),e.jsxs("p",{className:"text-gray-600",children:["Kỳ thanh toán: ",T(u.period.startDate,u.period.endDate)]}),e.jsxs("p",{className:"text-gray-600",children:["Ngày tạo: ",m(u.createdAt)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-600",children:"Tổng thanh toán"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(u.ownerAmount)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Hoa hồng: ",x(u.commissionAmount)]}),u.status==="paid"]})]})}),i&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Đánh dấu đã thanh toán"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phương thức thanh toán"}),e.jsxs("select",{value:c.paymentMethod,onChange:E=>d({...c,paymentMethod:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"-- Chọn phương thức thanh toán --"}),e.jsx("option",{value:"Bank Transfer",children:"Chuyển khoản ngân hàng"}),e.jsx("option",{value:"Cash",children:"Tiền mặt"}),e.jsx("option",{value:"Credit Card",children:"Thẻ tín dụng"}),e.jsx("option",{value:"PayPal",children:"PayPal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mã giao dịch"}),e.jsx("input",{type:"text",value:c.transactionId,onChange:E=>d({...c,transactionId:E.target.value}),placeholder:"Nhập mã giao dịch",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngày thanh toán"}),e.jsx("input",{type:"date",value:c.paymentDate,onChange:E=>d({...c,paymentDate:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-2",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hủy"}),e.jsxs("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(nt,{size:18,className:"mr-2"}),"Lưu"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(wt,{size:20,className:"mr-2 text-blue-600"}),"Thông tin chủ khách sạn"]}),e.jsx("button",{onClick:g,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem hồ sơ"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.ownerName}),e.jsx("p",{className:"text-gray-600",children:u.ownerEmail}),e.jsx("p",{className:"text-gray-600",children:u.ownerPhone}),e.jsx("p",{className:"text-gray-600",children:u.ownerAddress}),e.jsxs("p",{className:"text-gray-600",children:["Mã số thuế: ",u.ownerTaxId]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{size:20,className:"mr-2 text-blue-600"}),"Thông tin ngân hàng"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.ownerBankInfo.bankName}),e.jsxs("p",{className:"text-gray-600",children:["Số tài khoản: ",u.ownerBankInfo.accountNumber]}),e.jsxs("p",{className:"text-gray-600",children:["Tên tài khoản: ",u.ownerBankInfo.accountName]}),e.jsxs("p",{className:"text-gray-600",children:["Chi nhánh: ",u.ownerBankInfo.branch]}),e.jsxs("p",{className:"text-gray-600",children:["Mã SWIFT: ",u.ownerBankInfo.swiftCode]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(xn,{size:20,className:"mr-2 text-blue-600"}),"Chi tiết thanh toán"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Tổng số đặt phòng:"}),e.jsx("p",{className:"font-medium",children:u.totalBookings})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Tổng doanh thu:"}),e.jsx("p",{className:"font-medium",children:x(u.totalAmount)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Số hóa đơn:"}),e.jsx("p",{className:"font-medium",children:u.invoices.length})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Hoa hồng:"}),e.jsx("p",{className:"font-medium",children:x(u.commissionAmount)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Số tiền nền tảng:"}),e.jsx("p",{className:"font-medium",children:x(u.platformAmount)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Số tiền chủ khách sạn:"}),e.jsx("p",{className:"font-medium",children:x(u.ownerAmount)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-600"}),"Danh sách hóa đơn"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã hóa đơn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã đặt phòng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số tiền"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hồng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.invoices.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>y(E.id),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:E.id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>j(E.bookingId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:E.bookingId})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>w(E.propertyId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:E.propertyName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:E.guestName})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:m(E.date)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[m(E.checkIn)," - ",m(E.checkOut)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:x(E.amount)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:x(E.commissionAmount)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[E.commissionRate,"%"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>y(E.id),className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(os,{size:18})})})]},E.id))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:5,className:"px-6 py-4 text-sm font-medium text-right",children:"Tổng cộng:"}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:x(u.totalAmount)}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:x(u.commissionAmount)}),e.jsx("td",{})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Pe,{size:20,className:"mr-2 text-blue-600"}),"Lịch sử thanh toán"]}),e.jsx("div",{className:"space-y-4",children:u.history.map((E,I)=>e.jsxs("div",{className:"flex items-start pb-4 border-b border-gray-200 last:border-0",children:[e.jsxs("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:[E.action.includes("Tạo")&&e.jsx(os,{size:20,className:"text-blue-600"}),E.action.includes("Gửi")&&e.jsx(Xl,{size:20,className:"text-blue-600"}),E.action.includes("Xử lý")&&e.jsx(Se,{size:20,className:"text-blue-600"}),E.action.includes("Thanh toán")&&e.jsx(We,{size:20,className:"text-green-600"}),E.action.includes("Hủy")&&e.jsx(ve,{size:20,className:"text-red-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.action}),e.jsx("p",{className:"text-sm text-gray-500",children:p(E.date)})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Người thực hiện: ",E.user]}),E.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.notes})]})]},I))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2 text-blue-600"}),"Ghi chú nội bộ"]}),!r&&e.jsxs("button",{onClick:()=>n(!0),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(Fe,{size:16,className:"mr-1"}),"Chỉnh sửa"]})]}),r?e.jsxs("div",{children:[e.jsx("textarea",{value:a||u.adminNotes||"",onChange:E=>l(E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[100px]",placeholder:"Thêm ghi chú về thanh toán này..."}),e.jsxs("div",{className:"flex justify-end mt-3 space-x-2",children:[e.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hủy"}),e.jsxs("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(nt,{size:16,className:"mr-2"}),"Lưu"]})]})]}):e.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg min-h-[60px]",children:u.adminNotes||"Chưa có ghi chú nào."})]})]})},nj=()=>{const t=le(),[s,r]=h.useState(1),[n,a]=h.useState({startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[l,i]=h.useState(null),[o,c]=h.useState(""),[d,u]=h.useState([]),[m,p]=h.useState(""),[x,b]=h.useState(!1),f=[{id:"OWN-001",name:"Công ty CP Vinpearl",email:"finance@vinpearl.com",phone:"1900 2345",bankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CÔNG TY CỔ PHẦN VINPEARL"}},{id:"OWN-002",name:"Công ty TNHH Metropole",email:"finance@metropole.com",phone:"024 3826 6919",bankInfo:{bankName:"BIDV",accountNumber:"0987654321",accountName:"CÔNG TY TNHH METROPOLE"}},{id:"OWN-003",name:"Tập đoàn Mường Thanh",email:"finance@muongthanh.com",phone:"1800 1234",bankInfo:{bankName:"Techcombank",accountNumber:"9876543210",accountName:"TẬP ĐOÀN MƯỜNG THANH"}},{id:"OWN-004",name:"Công ty CP Fusion",email:"finance@fusion.com",phone:"028 3822 9999",bankInfo:{bankName:"VPBank",accountNumber:"1122334455",accountName:"CÔNG TY CỔ PHẦN FUSION"}},{id:"OWN-005",name:"Tập đoàn Accor",email:"finance@accor.com",phone:"028 3520 9999",bankInfo:{bankName:"HSBC",accountNumber:"5544332211",accountName:"ACCOR VIETNAM COMPANY LIMITED"}}],v=[{id:"INV-001",bookingId:"BK-001",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",checkIn:"2023-09-15",checkOut:"2023-09-18",guestName:"Nguyễn Văn An",amount:75e5,commissionAmount:1125e3,commissionRate:15,date:"2023-09-20"},{id:"INV-004",bookingId:"BK-004",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",checkIn:"2023-09-10",checkOut:"2023-09-12",guestName:"Phạm Thị Dung",amount:36e5,commissionAmount:54e4,commissionRate:15,date:"2023-09-12"},{id:"INV-009",bookingId:"BK-009",propertyName:"Vinpearl Resort & Spa Đà Nẵng",propertyId:"PROP-002",checkIn:"2023-09-12",checkOut:"2023-09-15",guestName:"Trần Văn Bình",amount:54e5,commissionAmount:81e4,commissionRate:15,date:"2023-09-15"},{id:"INV-002",bookingId:"BK-002",propertyName:"Metropole Hanoi",propertyId:"PROP-003",checkIn:"2023-09-05",checkOut:"2023-09-08",guestName:"Trần Thị Bình",amount:64e5,commissionAmount:768e3,commissionRate:12,date:"2023-09-10"},{id:"INV-005",bookingId:"BK-005",propertyName:"Metropole Hanoi",propertyId:"PROP-003",checkIn:"2023-09-15",checkOut:"2023-09-18",guestName:"Hoàng Văn Em",amount:96e5,commissionAmount:1152e3,commissionRate:12,date:"2023-09-18"}],N=f.filter(U=>U.name.toLowerCase().includes(o.toLowerCase())||U.email.toLowerCase().includes(o.toLowerCase())),g=l?v.filter(U=>U.propertyName.includes("Vinpearl")&&l.id==="OWN-001"||U.propertyName.includes("Metropole")&&l.id==="OWN-002"||U.propertyName.includes("Mường Thanh")&&l.id==="OWN-003"||U.propertyName.includes("Fusion")&&l.id==="OWN-004"||U.propertyName.includes("Pullman")&&l.id==="OWN-005"):[],y=U=>{const K={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(U).toLocaleDateString("vi-VN",K)},j=U=>U.toLocaleString("vi-VN")+"đ",w=()=>{s>1?r(s-1):t("/admin/commission-payments")},C=U=>{i(U)},k=()=>{if(s===1&&!l){alert("Vui lòng chọn chủ khách sạn");return}if(s===2&&d.length===0){alert("Vui lòng chọn ít nhất một hóa đơn");return}r(s+1)},S=U=>{u(K=>{if(K.some(_=>_.id===U))return K.filter(_=>_.id!==U);{const _=g.find(z=>z.id===U);return _?[...K,_]:K}})},P=()=>{u(x?[]:[...g]),b(!x)},R=U=>{u(K=>K.filter(q=>q.id!==U))},T=()=>{let U=0,K=0;return d.forEach(q=>{U+=q.amount,K+=q.commissionAmount}),{totalAmount:U,totalCommission:K,ownerAmount:U-K}},E=()=>{const U=T();alert(`Đã tạo thanh toán hoa hồng cho ${l==null?void 0:l.name} với tổng số tiền ${j(U.ownerAmount)}`),t("/admin/commission-payments")},I=()=>{switch(s){case 1:return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Bước 1: Chọn kỳ thanh toán và chủ khách sạn"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kỳ thanh toán"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Từ ngày"}),e.jsx("input",{type:"date",value:n.startDate,onChange:K=>a({...n,startDate:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Đến ngày"}),e.jsx("input",{type:"date",value:n.endDate,onChange:K=>a({...n,endDate:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chọn chủ khách sạn"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:"text",placeholder:"Tìm kiếm theo tên, email...",value:o,onChange:K=>c(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:[N.map(K=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(l==null?void 0:l.id)===K.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>C(K),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:K.name}),e.jsx("p",{className:"text-sm text-gray-600",children:K.email}),e.jsx("p",{className:"text-sm text-gray-600",children:K.phone})]}),e.jsx("div",{className:"flex items-center h-full",children:(l==null?void 0:l.id)===K.id&&e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})})]})},K.id)),N.length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Không tìm thấy chủ khách sạn nào phù hợp"})]})]})]});case 2:return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Bước 2: Chọn hóa đơn"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Hóa đơn khả dụng"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:P,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Chọn tất cả"})]})]}),e.jsx("div",{className:"mt-2 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chọn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã hóa đơn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số tiền"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hồng"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(K=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:d.some(q=>q.id===K.id),onChange:()=>S(K.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.id}),e.jsx("div",{className:"text-xs text-gray-500",children:K.bookingId})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:K.propertyName}),e.jsx("div",{className:"text-xs text-gray-500",children:K.guestName})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:y(K.date)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[y(K.checkIn)," - ",y(K.checkOut)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:j(K.amount)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:j(K.commissionAmount)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[K.commissionRate,"%"]})]})]},K.id))})]})}),g.length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500 border border-gray-200 rounded-lg mt-2",children:"Không có hóa đơn nào khả dụng cho chủ khách sạn này trong kỳ thanh toán đã chọn"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-2",children:["Hóa đơn đã chọn (",d.length,")"]}),d.length>0?e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d.map(K=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium",children:[K.id," - ",K.propertyName]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[y(K.date)," - ",j(K.amount)]})]}),e.jsx("button",{onClick:()=>R(K.id),className:"text-red-600 hover:text-red-800",children:e.jsx(tt,{size:16})})]},K.id))}):e.jsx("div",{className:"p-4 text-center text-gray-500 border border-gray-200 rounded-lg",children:"Chưa có hóa đơn nào được chọn"})]})]});case 3:const U=T();return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Bước 3: Xác nhận thanh toán"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Thông tin chủ khách sạn"}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:l==null?void 0:l.name}),e.jsx("p",{className:"text-sm text-gray-600",children:l==null?void 0:l.email}),e.jsx("p",{className:"text-sm text-gray-600",children:l==null?void 0:l.phone})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Thông tin ngân hàng"}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:l==null?void 0:l.bankInfo.bankName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Số tài khoản: ",l==null?void 0:l.bankInfo.accountNumber]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Tên tài khoản: ",l==null?void 0:l.bankInfo.accountName]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Kỳ thanh toán"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-900",children:[y(n.startDate)," - ",y(n.endDate)]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Tổng quan thanh toán"}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tổng số hóa đơn:"}),e.jsx("p",{className:"font-medium text-gray-900",children:d.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tổng doanh thu:"}),e.jsx("p",{className:"font-medium text-gray-900",children:j(U.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tổng hoa hồng:"}),e.jsx("p",{className:"font-medium text-gray-900",children:j(U.totalCommission)})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Số tiền thanh toán cho chủ khách sạn:"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:j(U.ownerAmount)})]})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ghi chú"}),e.jsx("textarea",{value:m,onChange:K=>p(K.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",rows:3,placeholder:"Thêm ghi chú về thanh toán này..."})]})]});default:return null}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:w,className:"mr-4 text-gray-600 hover:text-gray-900",children:e.jsx(ye,{size:24})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Tạo thanh toán hoa hồng mới"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"1"}),e.jsx("div",{className:`flex-1 h-1 mx-2 ${s>=2?"bg-blue-600":"bg-gray-200"}`}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=2?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"2"}),e.jsx("div",{className:`flex-1 h-1 mx-2 ${s>=3?"bg-blue-600":"bg-gray-200"}`}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=3?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"3"})]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("div",{className:"text-center w-10",children:e.jsx("span",{className:`text-xs ${s>=1?"text-blue-600":"text-gray-500"}`,children:"Chọn chủ KS"})}),e.jsx("div",{className:"text-center w-10",children:e.jsx("span",{className:`text-xs ${s>=2?"text-blue-600":"text-gray-500"}`,children:"Chọn hóa đơn"})}),e.jsx("div",{className:"text-center w-10",children:e.jsx("span",{className:`text-xs ${s>=3?"text-blue-600":"text-gray-500"}`,children:"Xác nhận"})})]})]}),I(),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs("button",{onClick:w,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center",children:[e.jsx(ye,{size:18,className:"mr-2"}),s>1?"Quay lại":"Hủy"]}),s<3?e.jsx("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tiếp theo"}):e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{onClick:()=>r(2),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Chỉnh sửa hóa đơn"}),e.jsxs("button",{onClick:E,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(nt,{size:18,className:"mr-2"}),"Tạo thanh toán"]})]})]})]})},aj=()=>{const t=le(),[s,r]=h.useState({bookings:[],loading:!1,error:null,totalPages:0,totalElements:0,currentPage:0}),[n,a]=h.useState(""),[l,i]=h.useState("all"),[o,c]=h.useState("all"),[d,u]=h.useState("all"),[m,p]=h.useState("createdAt"),[x,b]=h.useState("desc"),[f,v]=h.useState([]),[N,g]=h.useState(!1),[y,j]=h.useState(!1),[w,C]=h.useState(null),[k,S]=h.useState(null),[P,R]=h.useState(!1),[T,E]=h.useState(null),[I]=h.useState(10),U=async($=0)=>{r(te=>({...te,loading:!0,error:null}));try{const te={pageNumber:$,pageSize:I,sortBy:m};if(l!=="all"&&(te.status=l),o!=="all"&&(te.paymentStatus=o),d!=="all"){const X=new Date,ie=X.toISOString().split("T")[0];switch(d){case"today":te.checkInDate=ie;break;case"thisWeek":const qe=new Date(X);qe.setDate(X.getDate()-X.getDay()),te.checkInDate=qe.toISOString().split("T")[0];break;case"thisMonth":const je=new Date(X.getFullYear(),X.getMonth(),1);te.checkInDate=je.toISOString().split("T")[0];break}}let L;if(n.trim()?L=await Ne.searchBookings(n,te):L=await Ne.getAllBookings(te),L.data.success){const X=L.data.result,ie=[...X.content].sort((qe,je)=>{let Ae=qe[m],ut=je[m];return(m.includes("Date")||m==="createdAt"||m==="updatedAt")&&(Ae=new Date(Ae).getTime(),ut=new Date(ut).getTime()),(m==="totalAmount"||m==="guests")&&(Ae=Number(Ae)||0,ut=Number(ut)||0),typeof Ae=="string"&&typeof ut=="string"&&(Ae=Ae.toLowerCase(),ut=ut.toLowerCase()),x==="asc"?Ae>ut?1:Ae<ut?-1:0:Ae<ut?1:Ae>ut?-1:0});r(qe=>({...qe,bookings:ie,totalPages:X.totalPages,totalElements:X.totalElements,currentPage:X.number,loading:!1}))}}catch(te){r(L=>{var X,ie;return{...L,error:((ie=(X=te.response)==null?void 0:X.data)==null?void 0:ie.message)||"Error occurred while loading data",loading:!1}})}};h.useEffect(()=>{U(0)},[l,o,d,m]),h.useEffect(()=>{if(s.bookings.length>0){const $=[...s.bookings].sort((te,L)=>{let X=te[m],ie=L[m];return(m.includes("Date")||m==="createdAt"||m==="updatedAt")&&(X=new Date(X).getTime(),ie=new Date(ie).getTime()),(m==="totalAmount"||m==="guests")&&(X=Number(X)||0,ie=Number(ie)||0),typeof X=="string"&&typeof ie=="string"&&(X=X.toLowerCase(),ie=ie.toLowerCase()),x==="asc"?X>ie?1:X<ie?-1:0:X<ie?1:X>ie?-1:0});r(te=>({...te,bookings:$}))}},[x]),h.useEffect(()=>{const $=setTimeout(()=>{U(0)},500);return()=>clearTimeout($)},[n]),h.useEffect(()=>{U(s.currentPage)},[n,l,o,d,m,x]),h.useEffect(()=>{const $=te=>{const L=te.target;w&&!L.closest("[data-dropdown-container]")&&!L.closest(".fixed")&&(C(null),S(null))};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[w]);const K=$=>{U($)},q=()=>{U(s.currentPage)},_=$=>{m===$?b(x==="asc"?"desc":"asc"):(p($),b("desc"))},z=$=>{v(te=>te.includes($)?te.filter(L=>L!==$):[...te,$])},Y=()=>{f.length===s.bookings.length?v([]):v(s.bookings.map($=>$.id))},W=$=>{t(`/admin/bookings/${$}`)},O=async $=>{var te,L;if(window.confirm("Are you sure you want to confirm this booking?"))try{await Ne.confirmBooking($),await U(s.currentPage),alert("Booking confirmed successfully!")}catch(X){console.error("Error confirming booking:",X),alert(((L=(te=X.response)==null?void 0:te.data)==null?void 0:L.message)||"Error occurred while confirming booking")}},A=async $=>{var L,X;const te=prompt("Please enter cancellation reason:");if(te&&window.confirm(`Are you sure you want to cancel this booking?
Reason: ${te}`))try{await Ne.cancelBooking($,te),await U(s.currentPage),alert("Booking cancelled successfully!")}catch(ie){console.error("Error cancelling booking:",ie),alert(((X=(L=ie.response)==null?void 0:L.data)==null?void 0:X.message)||"Error occurred while cancelling booking")}},F=async $=>{var te,L;if(window.confirm("Are you sure you want to confirm this payment? This action cannot be undone."))try{await Ne.adminConfirmPayment($),await U(s.currentPage),alert("Payment confirmed successfully!")}catch(X){console.error("Error confirming payment:",X),alert(((L=(te=X.response)==null?void 0:te.data)==null?void 0:L.message)||"Error occurred while confirming payment")}},B=async $=>{var te,L;if(window.confirm("Are you sure you want to DELETE this booking? This action cannot be undone and will permanently remove all booking data.")){try{await Ne.deleteBooking($),await U(s.currentPage),alert("Booking deleted successfully!")}catch(X){console.error("Error deleting booking:",X),alert(((L=(te=X.response)==null?void 0:te.data)==null?void 0:L.message)||"Error occurred while deleting booking")}C(null),S(null)}},se=$=>{const te=s.bookings.find(L=>L.id===$);te&&(E(te),R(!0),C(null),S(null))},oe=async $=>{var te,L;if(f.length===0){alert("Please select at least one booking");return}if(window.confirm(`Are you sure you want to ${$} ${f.length} selected bookings?`)){j(!0);try{const X=f.map(ie=>{switch($){case"confirm":return Ne.confirmBooking(ie);case"cancel":return Ne.cancelBooking(ie,"Bulk cancel by admin");case"delete":return Ne.deleteBooking(ie);default:return Promise.resolve()}});await Promise.all(X),v([]),await U(s.currentPage)}catch(X){alert(((L=(te=X.response)==null?void 0:te.data)==null?void 0:L.message)||`Error occurred while ${$}ing bookings`)}finally{j(!1)}}},Re=async()=>{try{const $=await Ne.getAllBookings({pageSize:1e3}),te=Q($.data.result.content);D(te,`bookings_${new Date().toISOString().split("T")[0]}.csv`)}catch{alert("Error occurred while exporting data")}},Q=$=>{const te=["ID","Reference","Guest Name","Guest Email","Guest Phone","Hotel Name","Room Type","Check In","Check Out","Guests","Total Amount","Status","Payment Status","Created At"],L=$.map(X=>[X.id,X.bookingReference,X.guestName,X.guestEmail,X.guestPhone,X.hotelName,X.roomTypeName,X.checkInDate,X.checkOutDate,X.guests,X.totalAmount,X.status,X.paymentStatus,X.createdAt]);return[te,...L].map(X=>X.join(",")).join(`
`)},D=($,te)=>{const L=new Blob([$],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a"),ie=URL.createObjectURL(L);X.setAttribute("href",ie),X.setAttribute("download",te),X.style.visibility="hidden",document.body.appendChild(X),X.click(),document.body.removeChild(X)},J=$=>new Date($).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),V=$=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format($),re=$=>e.jsx(gn,{status:$,size:"sm"}),G=$=>e.jsx(pn,{status:$,size:"sm"}),be=()=>{const[$,te]=h.useState({}),[L,X]=h.useState(!1);yr.useEffect(()=>{T&&te({guestName:T.guestName,guestEmail:T.guestEmail,guestPhone:T.guestPhone,checkInDate:T.checkInDate,checkOutDate:T.checkOutDate,guests:T.guests,totalAmount:T.totalAmount,status:T.status,paymentStatus:T.paymentStatus,paymentMethod:T.paymentMethod,specialRequests:T.specialRequests||""})},[T]);const ie=(je,Ae)=>{te(ut=>({...ut,[je]:Ae}))},qe=async je=>{var Ae,ut;if(je.preventDefault(),!!T){X(!0);try{await Ne.updateBooking(T.id,$),await U(s.currentPage),R(!1),E(null),alert("Booking updated successfully!")}catch(qc){console.error("Error updating booking:",qc),alert(((ut=(Ae=qc.response)==null?void 0:Ae.data)==null?void 0:ut.message)||"Error occurred while updating booking")}finally{X(!1)}}};return!P||!T?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1001] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Booking - ",T.bookingReference]}),e.jsx("button",{onClick:()=>{R(!1),E(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ve,{size:24})})]})}),e.jsxs("form",{onSubmit:qe,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Guest Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Name"}),e.jsx("input",{type:"text",value:$.guestName||"",onChange:je=>ie("guestName",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:$.guestEmail||"",onChange:je=>ie("guestEmail",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:$.guestPhone||"",onChange:je=>ie("guestPhone",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),e.jsx("input",{type:"number",min:"1",max:"10",value:$.guests||1,onChange:je=>ie("guests",parseInt(je.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Booking Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),e.jsx("input",{type:"date",value:$.checkInDate||"",onChange:je=>ie("checkInDate",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),e.jsx("input",{type:"date",value:$.checkOutDate||"",onChange:je=>ie("checkOutDate",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:$.totalAmount||0,onChange:je=>ie("totalAmount",parseFloat(je.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsx("input",{type:"text",value:$.paymentMethod||"",onChange:je=>ie("paymentMethod",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"CASH_ON_CHECKIN, CREDIT_CARD, etc."})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Status"}),e.jsxs("select",{value:$.status||"PENDING",onChange:je=>ie("status",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"CANCELLED_BY_GUEST",children:"Cancelled by Guest"}),e.jsx("option",{value:"CANCELLED_BY_HOST",children:"Cancelled by Host"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"NO_SHOW",children:"No Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsxs("select",{value:$.paymentStatus||"PENDING",onChange:je=>ie("paymentStatus",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"PAID",children:"Paid"}),e.jsx("option",{value:"FAILED",children:"Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"}),e.jsx("option",{value:"PARTIALLY_REFUNDED",children:"Partially Refunded"}),e.jsx("option",{value:"REFUND_PENDING",children:"Refund Pending"}),e.jsx("option",{value:"NO_PAYMENT",children:"No Payment"}),e.jsx("option",{value:"CANCELLED",children:"No Refund"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Requests"}),e.jsx("textarea",{value:$.specialRequests||"",onChange:je=>ie("specialRequests",je.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter any special requests..."})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>{R(!1),E(null)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Update Booking"})]})]})]})})};return s.loading&&s.bookings.length===0?e.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading data..."})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Management"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.totalElements," bookings • Page ",s.currentPage+1," / ",s.totalPages]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:q,disabled:s.loading,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Qe,{size:16,className:`mr-2 ${s.loading?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:Re,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(eb,{size:16,className:"mr-2"}),"Export Excel"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search by booking code, guest name, email, hotel...",value:n,onChange:$=>a($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>g(!N),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Filters",N?e.jsx(_t,{className:"h-4 w-4 ml-1"}):e.jsx(Tt,{className:"h-4 w-4 ml-1"})]})})]}),N&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:l,onChange:$=>i($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"CANCELLED_BY_GUEST",children:"Cancelled by Guest"}),e.jsx("option",{value:"CANCELLED_BY_HOST",children:"Cancelled by Host"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"NO_SHOW",children:"No Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment"}),e.jsxs("select",{value:o,onChange:$=>c($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Payment"}),e.jsx("option",{value:"PENDING",children:"Pending Payment"}),e.jsx("option",{value:"PAID",children:"Paid"}),e.jsx("option",{value:"FAILED",children:"Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"}),e.jsx("option",{value:"PARTIALLY_REFUNDED",children:"Partially Refunded"}),e.jsx("option",{value:"REFUND_PENDING",children:"Refund Pending"}),e.jsx("option",{value:"NO_PAYMENT",children:"No Payment"}),e.jsx("option",{value:"CANCELLED",children:"No Refund"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),e.jsxs("select",{value:d,onChange:$=>u($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"thisWeek",children:"This Week"}),e.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:m,onChange:$=>p($.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"createdAt",children:"Created Date"}),e.jsx("option",{value:"checkInDate",children:"Check-in Date"}),e.jsx("option",{value:"checkOutDate",children:"Check-out Date"}),e.jsx("option",{value:"totalAmount",children:"Amount"}),e.jsx("option",{value:"guestName",children:"Guest Name"}),e.jsx("option",{value:"hotelName",children:"Hotel Name"})]}),e.jsx("button",{onClick:()=>b(x==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",title:x==="asc"?"Sort Ascending":"Sort Descending",children:x==="asc"?e.jsx(_t,{className:"h-4 w-4"}):e.jsx(Tt,{className:"h-4 w-4"})})]})]})]})})]}),f.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[f.length," bookings selected"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>oe("confirm"),disabled:y,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center",children:[e.jsx(We,{size:14,className:"mr-1"}),"Confirm"]}),e.jsxs("button",{onClick:()=>oe("cancel"),disabled:y,className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center",children:[e.jsx(ve,{size:14,className:"mr-1"}),"Cancel"]}),e.jsxs("button",{onClick:()=>oe("delete"),disabled:y,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors disabled:opacity-50 flex items-center",children:[e.jsx(Ns,{size:14,className:"mr-1"}),"Delete"]})]})]})}),s.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(As,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-800",children:s.error})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:f.length===s.bookings.length&&s.bookings.length>0,onChange:Y,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("bookingReference"),children:e.jsxs("div",{className:"flex items-center",children:["Booking Code",m==="bookingReference"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("guestName"),children:e.jsxs("div",{className:"flex items-center",children:["Guest Info",m==="guestName"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("hotelName"),children:e.jsxs("div",{className:"flex items-center",children:["Hotel & Room",m==="hotelName"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("checkInDate"),children:e.jsxs("div",{className:"flex items-center",children:["Dates",m==="checkInDate"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("totalAmount"),children:e.jsxs("div",{className:"flex items-center",children:["Amount",m==="totalAmount"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.bookings.map($=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",checked:f.includes($.id),onChange:()=>z($.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",$.bookingReference]}),e.jsx("div",{className:"text-sm text-gray-500",children:J($.createdAt)})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(He,{className:"h-4 w-4 text-gray-500"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.guestName}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),$.guestEmail]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),$.guestPhone]})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(wt,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.hotelName}),e.jsx("div",{className:"text-sm text-gray-500",children:$.roomTypeName}),e.jsxs("div",{className:"text-sm text-gray-500",children:[$.guests," guests"]})]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 text-gray-400 mr-1"}),J($.checkInDate)]}),e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(ge,{className:"h-4 w-4 text-gray-400 mr-1"}),J($.checkOutDate)]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[$.numberOfNights," nights"]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:V($.totalAmount)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[V($.pricePerNight),"/night"]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Ot,{className:"h-3 w-3 text-gray-400 mr-1"}),e.jsx("span",{className:"text-xs text-gray-500",children:$.paymentMethod||"N/A"})]})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[re($.status),G($.paymentStatus)]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[$.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>O($.id),className:"p-2 text-green-600 hover:text-green-900 hover:bg-green-50 rounded-full transition-colors",title:"Confirm",children:e.jsx(We,{size:16})}),e.jsx("button",{onClick:()=>A($.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-full transition-colors",title:"Cancel",children:e.jsx(ve,{size:16})})]}),$.paymentStatus==="PENDING"&&e.jsx("button",{onClick:()=>F($.id),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-full transition-colors",title:"Confirm Payment",children:e.jsx(Se,{size:16})}),e.jsx("button",{onClick:()=>W($.id),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-full transition-colors",title:"View Details",children:e.jsx(Oe,{size:16})}),e.jsx("div",{className:"relative","data-dropdown-container":!0,children:e.jsx("button",{onClick:te=>{te.preventDefault();const L=te.currentTarget.getBoundingClientRect();S({x:L.right-160,y:L.bottom+4}),C(w===$.id?null:$.id)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-full transition-colors",title:"More actions",children:e.jsx(Sx,{size:16})})})]})})]},$.id))})]})}),s.bookings.length===0&&!s.loading&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(ge,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-600",children:n||l!=="all"||o!=="all"?"No bookings match your current filters.":"No bookings in the system yet."})]}),s.totalPages>1&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>K(Math.max(0,s.currentPage-1)),disabled:s.currentPage===0,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${s.currentPage===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e.jsx("button",{onClick:()=>K(Math.min(s.totalPages-1,s.currentPage+1)),disabled:s.currentPage===s.totalPages-1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${s.currentPage===s.totalPages-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:s.currentPage*I+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((s.currentPage+1)*I,s.totalElements)})," ","of ",e.jsx("span",{className:"font-medium",children:s.totalElements})," bookings"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>K(Math.max(0,s.currentPage-1)),disabled:s.currentPage===0,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${s.currentPage===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous page"}),e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,s.totalPages)}).map(($,te)=>{const L=Math.max(0,Math.min(s.totalPages-5,s.currentPage-2))+te;return e.jsx("button",{onClick:()=>K(L),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s.currentPage===L?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:L+1},L)}),e.jsxs("button",{onClick:()=>K(Math.min(s.totalPages-1,s.currentPage+1)),disabled:s.currentPage===s.totalPages-1,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${s.currentPage===s.totalPages-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Next page"}),e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})})]}),w&&k&&e.jsxs("div",{className:"fixed bg-white rounded-lg shadow-2xl z-[1000] border border-gray-200 py-1 min-w-max",style:{left:`${k.x}px`,top:`${k.y}px`},children:[e.jsxs("button",{onClick:()=>se(w),className:"w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 flex items-center transition-colors whitespace-nowrap",children:[e.jsx(Fe,{size:14,className:"mr-2"}),"Edit Booking"]}),e.jsxs("button",{onClick:()=>B(w),className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center transition-colors whitespace-nowrap",children:[e.jsx(Ns,{size:14,className:"mr-2"}),"Delete Booking"]})]}),e.jsx(be,{})]})},lj=()=>{const{id:t}=ot(),s=le(),[r,n]=h.useState({booking:null,loading:!1,error:null,updating:!1}),[a,l]=h.useState(!1),[i,o]=h.useState(!0),[c,d]=h.useState(!0),[u,m]=h.useState("");h.useState(!1);const p=async()=>{if(t){n(z=>({...z,loading:!0,error:null}));try{const z=await Ne.getBookingById(t);z.data.success&&(n(Y=>({...Y,booking:z.data.result,loading:!1})),m(z.data.result.specialRequests||""))}catch(z){n(Y=>{var W,O;return{...Y,error:((O=(W=z.response)==null?void 0:W.data)==null?void 0:O.message)||"Error occurred while loading booking details",loading:!1}})}}};h.useEffect(()=>{p()},[t]);const x=()=>{s("/admin/bookings")},b=()=>{p()},f=async()=>{var z,Y;if(r.booking){n(W=>({...W,updating:!0}));try{await Ne.confirmBooking(r.booking.id),await p(),alert("Booking confirmed successfully")}catch(W){alert(((Y=(z=W.response)==null?void 0:z.data)==null?void 0:Y.message)||"Error occurred while confirming booking")}finally{n(W=>({...W,updating:!1}))}}},v=async()=>{var Y,W;if(!r.booking)return;const z=prompt("Enter reason for canceling booking:");if(z){n(O=>({...O,updating:!0}));try{await Ne.cancelBooking(r.booking.id,z),await p(),alert("Booking cancelled successfully")}catch(O){alert(((W=(Y=O.response)==null?void 0:Y.data)==null?void 0:W.message)||"Error occurred while canceling booking")}finally{n(O=>({...O,updating:!1}))}}},N=async()=>{var z,Y;if(r.booking){n(W=>({...W,updating:!0}));try{await Ne.completeBooking(r.booking.id),await p(),alert("Booking marked as completed")}catch(W){alert(((Y=(z=W.response)==null?void 0:z.data)==null?void 0:Y.message)||"Error occurred while completing booking")}finally{n(W=>({...W,updating:!1}))}}},g=async()=>{var z,Y;if(r.booking&&window.confirm("Are you sure you want to delete this booking? This action cannot be undone.")){n(W=>({...W,updating:!0}));try{await Ne.deleteBooking(r.booking.id),alert("Booking deleted successfully"),s("/admin/bookings")}catch(W){alert(((Y=(z=W.response)==null?void 0:z.data)==null?void 0:Y.message)||"Error occurred while deleting booking"),n(O=>({...O,updating:!1}))}}},y=()=>{r.booking&&(window.location.href=`mailto:${r.booking.guestEmail}?subject=Booking information ${r.booking.bookingReference}`)},j=()=>{r.booking&&(window.location.href=`tel:${r.booking.guestPhone}`)},w=async()=>{var z,Y;if(r.booking&&window.confirm("Are you sure you want to confirm this payment? This action cannot be undone.")){n(W=>({...W,updating:!0}));try{await Ne.adminConfirmPayment(r.booking.id),await p(),alert("Payment confirmed successfully!")}catch(W){alert(((Y=(z=W.response)==null?void 0:z.data)==null?void 0:Y.message)||"Error occurred while confirming payment")}finally{n(W=>({...W,updating:!1}))}}},C=()=>{window.print()},k=()=>{r.booking&&(navigator.clipboard.writeText(r.booking.bookingReference),alert("Booking code copied"))},S=()=>{r.booking&&s(`/admin/hotels/${r.booking.hotelId}`)},P=()=>{r.booking&&s(`/admin/users?search=${r.booking.guestEmail}`)},R=z=>new Date(z).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=z=>new Date(z).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),E=z=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(z),I=(z,Y)=>{const W=new Date(z),A=new Date(Y).getTime()-W.getTime();return Math.ceil(A/(1e3*60*60*24))},U=z=>e.jsx(gn,{status:z,size:"md"}),K=z=>e.jsx(pn,{status:z,size:"md"});if(r.loading)return e.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading booking details..."})]});if(r.error)return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(As,{className:"h-6 w-6 text-red-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-red-800",children:"An error occurred"}),e.jsx("p",{className:"text-red-700 mt-1",children:r.error})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-3",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Go Back"}),e.jsx("button",{onClick:p,className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:"Try Again"})]})]})});if(!r.booking)return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Booking not found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The booking with this ID does not exist or has been deleted."}),e.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to List"})]})});const q=r.booking,_=I(q.checkInDate,q.checkOutDate);return e.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:x,className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Details"}),e.jsxs("div",{className:"flex items-center mt-1 space-x-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["#",q.bookingReference]}),e.jsxs("button",{onClick:k,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(Qy,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:b,disabled:r.loading,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Qe,{className:`h-4 w-4 mr-2 ${r.loading?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:C,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Booking Status"}),U(q.status)]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Payment Status"}),K(q.paymentStatus)]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:f,disabled:r.updating,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Confirm"]}),e.jsxs("button",{onClick:v,disabled:r.updating,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),q.status==="CONFIRMED"&&e.jsxs("button",{onClick:N,disabled:r.updating,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Complete"]}),e.jsxs("button",{onClick:y,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Send Email"]}),e.jsxs("button",{onClick:j,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Call Guest"]}),e.jsxs("button",{onClick:g,disabled:r.updating,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("button",{onClick:()=>o(!i),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(He,{className:"h-5 w-5 mr-2"}),"Guest Information"]}),i?e.jsx(_t,{className:"h-5 w-5"}):e.jsx(Tt,{className:"h-5 w-5"})]})}),i&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:q.guestName}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),e.jsx("a",{href:`mailto:${q.guestEmail}`,className:"hover:text-blue-600",children:q.guestEmail})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),e.jsx("a",{href:`tel:${q.guestPhone}`,className:"hover:text-blue-600",children:q.guestPhone})]}),q.userName&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Account: ",q.userName]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:P,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"View Profile"]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(wt,{className:"h-5 w-5 mr-2"}),"Hotel & Room Information"]}),c?e.jsx(_t,{className:"h-5 w-5"}):e.jsx(Tt,{className:"h-5 w-5"})]})}),c&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:q.hotelName}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:q.hotelAddress})]}),q.hotelPhone&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:q.hotelPhone})]}),q.hotelEmail&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:q.hotelEmail})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-900",children:q.roomTypeName}),q.roomDescription&&e.jsx("p",{className:"text-gray-600 text-sm",children:q.roomDescription}),q.bedType&&e.jsxs("p",{className:"text-gray-600 text-sm",children:["Bed Type: ",q.bedType]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Max Occupancy: ",q.maxOccupancy]})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(vx,{className:"h-4 w-4 mr-2"}),"View Hotel"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Booking Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Check-in Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:T(q.checkInDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Check-out Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:T(q.checkOutDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nights"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[_," nights"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Guests"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[q.guests," guests"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Booking Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:R(q.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Last Updated"}),e.jsx("p",{className:"font-medium text-gray-900",children:R(q.updatedAt)})]})]}),q.specialRequests&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Special Requests"}),e.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:q.specialRequests})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("button",{onClick:()=>l(!a),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 mr-2"}),"Payment Details"]}),a?e.jsx(_t,{className:"h-5 w-5"}):e.jsx(Tt,{className:"h-5 w-5"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:["Room Rate (",_," nights)"]}),e.jsx("span",{className:"font-medium",children:E(q.pricePerNight*_)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rate per Night"}),e.jsx("span",{className:"text-gray-900",children:E(q.pricePerNight)})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:E(q.totalAmount)})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ot,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-sm text-gray-900",children:q.paymentMethod||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Payment Status"}),K(q.paymentStatus)]})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:y,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Email Guest"]}),e.jsxs("button",{onClick:j,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Call Guest"]}),e.jsxs("button",{onClick:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[e.jsx(wt,{className:"h-4 w-4 mr-2"}),"View Hotel Details"]}),q.paymentStatus==="PENDING"&&e.jsxs("button",{onClick:w,disabled:r.updating,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),r.updating?"Confirming...":"Confirm Payment"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Timeline"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Booking Created"}),e.jsx("p",{className:"text-xs text-gray-500",children:R(q.createdAt)}),q.createdBy&&e.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",q.createdBy]})]})]}),q.updatedAt!==q.createdAt&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Last Updated"}),e.jsx("p",{className:"text-xs text-gray-500",children:R(q.updatedAt)}),q.updatedBy&&e.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",q.updatedBy]})]})]})]})]})]})]})]})},ij=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(""),[p,x]=h.useState(),[b,f]=h.useState(),[v,N]=h.useState(),[g,y]=h.useState(),[j,w]=h.useState(),[C,k]=h.useState(0),[S,P]=h.useState(0),[R,T]=h.useState(0),[E,I]=h.useState([]),[U,K]=h.useState(!1),[q,_]=h.useState(null),[z,Y]=h.useState(!1),W=10,O=async(L=0,X=W,ie="createdAt")=>{try{l(!0);const qe={pageNumber:L,pageSize:X,sortBy:ie};c&&(qe.city=c),u&&(qe.country=u),p!==void 0&&(qe.starRating=p),b!==void 0&&(qe.isActive=b),v!==void 0&&(qe.isFeatured=v),g!==void 0&&(qe.minPrice=g),j!==void 0&&(qe.maxPrice=j),console.log("🔍 Filter params:",qe);let je;i?(console.log("🔍 Using search API with term:",i),je=await me.searchHotels(i,L,X,ie)):Object.keys(qe).length>3?(console.log("🔍 Using admin filter API"),je=await me.getAdminHotelsWithFilters(qe)):(console.log("🔍 Using admin get all API"),je=await me.getAdminHotels(L,X,ie)),console.log("📡 API Response:",je.data);const Ae=je.data;Ae.success?(console.log("✅ Hotels loaded:",Ae.result.content.length),n(Ae.result.content),P(Ae.result.totalPages),T(Ae.result.totalElements),k(Ae.result.number)):(console.error("❌ API Error:",Ae.message),s("error","Error",Ae.message||"Unable to load hotel list"))}catch(qe){console.error("💥 Error fetching hotels:",qe),s("error","Error","Unable to connect to server")}finally{l(!1)}};h.useEffect(()=>{O()},[i,c,u,p,b,v,g,j]);const A=()=>{O(C)},F=L=>{k(L),O(L)},B=L=>L?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(L):"N/A",se=()=>{I(U?[]:r.map(L=>L.id)),K(!U)},oe=L=>{E.includes(L)?I(E.filter(X=>X!==L)):I([...E,L])},Re=()=>{t("/admin/hotels/add")},Q=L=>{t(`/admin/hotels/edit/${L}`)},D=L=>{t(`/admin/hotels/${L}`)},J=async L=>{if(window.confirm("Are you sure you want to delete this hotel?"))try{_(L),await me.deleteHotelByAdmin(L),s("success","Success","Hotel deleted successfully"),O(C)}catch(X){console.error("Error deleting hotel:",X),s("error","Error","Unable to delete hotel")}finally{_(null)}},V=async()=>{if(E.length!==0&&window.confirm(`Are you sure you want to delete ${E.length} selected hotels?`))try{_("bulk-delete"),await Promise.all(E.map(L=>me.deleteHotelByAdmin(L))),s("success","Success",`${E.length} hotels deleted successfully`),I([]),K(!1),O(C)}catch(L){console.error("Error deleting hotels:",L),s("error","Error","Unable to delete some hotels")}finally{_(null)}},re=async L=>{try{_(L),console.log("🔄 Toggling status for hotel:",L);const X=await me.toggleHotelStatus(L);console.log("✅ Toggle status response:",X.data),s("success","Success","Hotel status updated successfully"),b!==void 0&&(console.log("🔄 Clearing status filter to show updated hotel"),f(void 0)),O(C)}catch(X){console.error("💥 Error toggling hotel status:",X),s("error","Error","Unable to update hotel status")}finally{_(null)}},G=async L=>{try{_(L),console.log("🔄 Toggling featured for hotel:",L);const X=await me.toggleHotelFeatured(L);console.log("✅ Toggle featured response:",X.data),s("success","Success","Featured status updated successfully"),v!==void 0&&(console.log("🔄 Clearing featured filter to show updated hotel"),N(void 0)),O(C)}catch(X){console.error("💥 Error toggling featured status:",X),s("error","Error","Unable to update featured status")}finally{_(null)}},be=L=>L?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(We,{size:12,className:"mr-1"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(ve,{size:12,className:"mr-1"}),"Inactive"]}),$=L=>L?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:e.jsx(nn,{size:12,className:"mr-1"})}):null,te=()=>{d(""),m(""),x(void 0),f(void 0),N(void 0),y(void 0),w(void 0),o("")};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hotel Management"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Total ",R," hotels"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:A,disabled:a,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(Qe,{size:20,className:`mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:Re,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add Hotel"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by hotel name, address...",value:i,onChange:L=>o(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("button",{onClick:()=>Y(!z),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[e.jsx(Zt,{size:20,className:"mr-2"}),"Filters"]})]}),z&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thành phố"}),e.jsx("input",{type:"text",placeholder:"Nhập thành phố",value:c,onChange:L=>d(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quốc gia"}),e.jsx("input",{type:"text",placeholder:"Nhập quốc gia",value:u,onChange:L=>m(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Star Rating"}),e.jsxs("select",{value:p||"",onChange:L=>x(L.target.value?Number(L.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"1",children:"1 star"}),e.jsx("option",{value:"2",children:"2 stars"}),e.jsx("option",{value:"3",children:"3 stars"}),e.jsx("option",{value:"4",children:"4 stars"}),e.jsx("option",{value:"5",children:"5 stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:b===void 0?"":b.toString(),onChange:L=>f(L.target.value===""?void 0:L.target.value==="true"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Featured"}),e.jsxs("select",{value:v===void 0?"":v.toString(),onChange:L=>N(L.target.value===""?void 0:L.target.value==="true"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Featured"}),e.jsx("option",{value:"false",children:"Not Featured"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price"}),e.jsx("input",{type:"number",placeholder:"VND",value:g||"",onChange:L=>y(L.target.value?Number(L.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price"}),e.jsx("input",{type:"number",placeholder:"VND",value:j||"",onChange:L=>w(L.target.value?Number(L.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:te,className:"w-full bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Clear Filters"})})]})})]}),E.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-blue-800 font-medium",children:["Selected ",E.length," hotels"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:V,disabled:q==="bulk-delete",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:16,className:"mr-2"}),q==="bulk-delete"?"Deleting...":"Delete Selected"]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:U,onChange:se,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hotel"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price/night"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(Qe,{className:"animate-spin mr-2",size:20}),"Loading..."]})})}):r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:"No hotels found"})}):r.map(L=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:E.includes(L.id),onChange:()=>oe(L.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:L.imageUrl?e.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:L.imageUrl,alt:L.name}):e.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:e.jsx(et,{size:20,className:"text-gray-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[L.starRating&&e.jsx("div",{className:"flex items-center mr-2",children:[...Array(L.starRating)].map((X,ie)=>e.jsx(pe,{size:12,className:"text-yellow-400 fill-current"},ie))}),$(L.featured)]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[e.jsx(Be,{size:14,className:"mr-1 text-gray-400"}),L.city&&L.country?`${L.city}, ${L.country}`:L.address]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:L.ownerName||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:L.ownerEmail||""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B(L.pricePerNight)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{size:14,className:"text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"text-sm text-gray-900",children:L.averageRating?L.averageRating.toFixed(1):"N/A"}),e.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",L.totalReviews||0,")"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"space-y-1",children:be(L.active)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>D(L.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Xem chi tiết",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>Q(L.id),className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Chỉnh sửa",children:e.jsx(Fe,{size:16})}),e.jsx("button",{onClick:()=>re(L.id),disabled:q===L.id,className:`p-1 rounded ${L.active?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:L.active?"Vô hiệu hóa":"Kích hoạt",children:L.active?e.jsx(Uc,{size:16}):e.jsx($c,{size:16})}),e.jsx("button",{onClick:()=>G(L.id),disabled:q===L.id,className:`p-1 rounded ${L.featured?"text-yellow-600 hover:text-yellow-900":"text-gray-600 hover:text-gray-900"}`,title:L.featured?"Bỏ nổi bật":"Đặt nổi bật",children:e.jsx(nn,{size:16})}),e.jsx("button",{onClick:()=>J(L.id),disabled:q===L.id,className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Xóa",children:e.jsx(tt,{size:16})})]})})]},L.id))})]})}),S>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>F(Math.max(0,C-1)),disabled:C===0,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${C===0?"text-gray-300 bg-gray-100 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50"}`,children:"Trước"}),e.jsx("button",{onClick:()=>F(Math.min(S-1,C+1)),disabled:C===S-1,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${C===S-1?"text-gray-300 bg-gray-100 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50"}`,children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hiển thị ",e.jsx("span",{className:"font-medium",children:C*W+1})," đến"," ",e.jsx("span",{className:"font-medium",children:Math.min((C+1)*W,R)})," ","trong tổng số ",e.jsx("span",{className:"font-medium",children:R})," khách sạn"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>F(Math.max(0,C-1)),disabled:C===0,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${C===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang trước"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,S)},(L,X)=>{let ie;return S<=5||C<3?ie=X:C>S-4?ie=S-5+X:ie=C-2+X,e.jsx("button",{onClick:()=>F(ie),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${C===ie?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ie+1},ie)}),e.jsxs("button",{onClick:()=>F(Math.min(S-1,C+1)),disabled:C===S-1,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${C===S-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},oj=()=>{const{id:t}=ot(),s=le(),{showToast:r}=Ce(),[n,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(null),[d,u]=h.useState("overview"),[m,p]=h.useState([]),[x,b]=h.useState(!1);h.useEffect(()=>{const E=new URLSearchParams(window.location.search).get("tab");E&&u(E)},[]);const f=async()=>{if(t)try{i(!0);const E=(await me.getHotelDetails(t)).data;E.success?a(E.result):(r("error","Error",E.message||"Unable to load hotel information"),s("/admin/hotels"))}catch(T){console.error("Error fetching hotel details:",T),r("error","Lỗi","Không thể kết nối đến server"),s("/admin/hotels")}finally{i(!1)}},v=async()=>{if(t)try{b(!0);const E=(await jt.getRoomTypesByHotel(t,0,50,"name")).data;E.success?p(E.result.content||[]):r("error","Lỗi","Không thể tải danh sách loại phòng")}catch(T){console.error("Error fetching room types:",T),r("error","Lỗi","Không thể kết nối đến server")}finally{b(!1)}};h.useEffect(()=>{f()},[t]),h.useEffect(()=>{d==="room-types"&&v()},[d,t]);const N=async()=>{if(!(!n||!t))try{c("status"),await me.toggleHotelStatus(t),r("success","Success","Hotel status updated successfully"),f()}catch(T){console.error("Error toggling hotel status:",T),r("error","Error","Unable to update hotel status")}finally{c(null)}},g=async()=>{if(!(!n||!t))try{c("featured"),await me.toggleHotelFeatured(t),r("success","Thành công","Đã cập nhật trạng thái nổi bật"),f()}catch(T){console.error("Error toggling featured status:",T),r("error","Lỗi","Không thể cập nhật trạng thái nổi bật")}finally{c(null)}},y=async()=>{if(!(!n||!t)&&window.confirm("Are you sure you want to delete this hotel? This action cannot be undone."))try{c("delete"),await me.deleteHotelByAdmin(t),r("success","Success","Hotel deleted successfully"),s("/admin/hotels")}catch(T){console.error("Error deleting hotel:",T),r("error","Error","Unable to delete hotel")}finally{c(null)}},j=async(T,E)=>{if(window.confirm(`Bạn có chắc chắn muốn xóa loại phòng "${E}"? Hành động này không thể hoàn tác.`))try{c(`delete-roomtype-${T}`),await jt.deleteRoomType(T),r("success","Thành công","Đã xóa loại phòng"),v()}catch(I){console.error("Error deleting room type:",I),r("error","Lỗi","Không thể xóa loại phòng")}finally{c(null)}},w=T=>T?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(T):"N/A",C=T=>{const E={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(T).toLocaleDateString("vi-VN",E)},k=T=>T?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[e.jsx(We,{size:14,className:"mr-1"}),"Hoạt động"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[e.jsx(ve,{size:14,className:"mr-1"}),"Không hoạt động"]}),S=T=>T?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(nn,{size:14,className:"mr-1"}),"Nổi bật"]}):null,P=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:n==null?void 0:n.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{size:16,className:"mr-2"}),e.jsx("span",{children:n==null?void 0:n.address})]}),(n==null?void 0:n.city)&&(n==null?void 0:n.country)&&e.jsx("div",{className:"flex items-center text-gray-600",children:e.jsxs("span",{className:"ml-6",children:[n.city,", ",n.country]})}),(n==null?void 0:n.phone)&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{size:16,className:"mr-2"}),e.jsx("span",{children:n.phone})]}),(n==null?void 0:n.email)&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{size:16,className:"mr-2"}),e.jsx("span",{children:n.email})]}),(n==null?void 0:n.website)&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ql,{size:16,className:"mr-2"}),e.jsx("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n.website})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[k((n==null?void 0:n.active)||!1),S((n==null?void 0:n.featured)||!1)]}),(n==null?void 0:n.starRating)&&e.jsxs("div",{className:"flex items-center",children:[[...Array(n.starRating)].map((T,E)=>e.jsx(pe,{size:16,className:"text-yellow-400 fill-current"},E)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[n.starRating," sao"]})]}),(n==null?void 0:n.averageRating)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{size:16,className:"text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"font-medium",children:n.averageRating.toFixed(1)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",n.totalReviews||0," đánh giá)"]})]})]})]}),(n==null?void 0:n.imageUrl)&&e.jsx("div",{className:"mb-6",children:e.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-64 object-cover rounded-lg"})}),(n==null?void 0:n.description)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Mô tả"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]}),(n==null?void 0:n.pricePerNight)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Giá cơ bản"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[w(n.pricePerNight),"/đêm"]})]}),((n==null?void 0:n.checkInTime)||(n==null?void 0:n.checkOutTime))&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thời gian nhận/trả phòng"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.checkInTime&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{size:16,className:"mr-2 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Nhận phòng: ",n.checkInTime]})]}),n.checkOutTime&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{size:16,className:"mr-2 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Trả phòng: ",n.checkOutTime]})]})]})]}),(n==null?void 0:n.amenities)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tiện nghi"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.amenities.split(",").map((T,E)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:T.trim()},E))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(n==null?void 0:n.cancellationPolicy)&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Je,{size:16,className:"mr-2"}),"Chính sách hủy"]}),e.jsx("p",{className:"text-gray-600",children:n.cancellationPolicy})]}),(n==null?void 0:n.petPolicy)&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(rb,{size:16,className:"mr-2"}),"Chính sách thú cưng"]}),e.jsx("p",{className:"text-gray-600",children:n.petPolicy})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thông tin chủ sở hữu"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên chủ sở hữu"}),e.jsx("p",{className:"mt-1 text-gray-900",children:(n==null?void 0:n.ownerName)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"mt-1 text-gray-900",children:(n==null?void 0:n.ownerEmail)||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thống kê"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Thống kê phòng"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(n==null?void 0:n.totalRoomTypes)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Loại phòng"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(n==null?void 0:n.totalRooms)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tổng phòng"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(n==null?void 0:n.availableRooms)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Phòng trống"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:((n==null?void 0:n.totalRooms)||0)-((n==null?void 0:n.availableRooms)||0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Phòng đã đặt"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thông tin hệ thống"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày tạo"}),e.jsx("p",{className:"mt-1 text-gray-900",children:C((n==null?void 0:n.createdAt)||"")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cập nhật lần cuối"}),e.jsx("p",{className:"mt-1 text-gray-900",children:C((n==null?void 0:n.updatedAt)||"")})]}),(n==null?void 0:n.createdBy)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Người tạo"}),e.jsx("p",{className:"mt-1 text-gray-900",children:n.createdBy})]}),(n==null?void 0:n.updatedBy)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Người cập nhật"}),e.jsx("p",{className:"mt-1 text-gray-900",children:n.updatedBy})]})]})]})]}),R=()=>e.jsx("div",{className:"space-y-4",children:x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qe,{className:"animate-spin h-8 w-8 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Đang tải danh sách loại phòng..."})]}):m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"Chưa có loại phòng nào"}),e.jsxs("button",{onClick:()=>s(`/admin/room-types/add?hotelId=${n==null?void 0:n.id}`),className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(Ze,{size:16,className:"mr-1"}),"Thêm loại phòng đầu tiên"]})]}):m.map(T=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[T.imageUrl&&e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:T.imageUrl,alt:T.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:T.name})}),T.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:T.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ke,{size:16,className:"mr-2"}),e.jsxs("span",{className:"text-sm",children:[T.maxOccupancy," người"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ct,{size:16,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:T.bedType||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ge,{size:16,className:"mr-2"}),e.jsxs("span",{className:"text-sm",children:[T.totalRooms," phòng"]})]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),e.jsxs("span",{className:"text-sm",children:[T.availableRooms," trống"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Giá mỗi đêm:"}),e.jsx("span",{className:"text-lg font-semibold text-blue-600",children:w(T.pricePerNight)})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>s(`/admin/room-types/${T.id}`),className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded text-sm hover:bg-gray-200 transition-colors flex items-center justify-center",children:[e.jsx(Oe,{size:16,className:"mr-1"}),"Xem"]}),e.jsxs("button",{onClick:()=>s(`/admin/room-types/edit/${T.id}`),className:"flex-1 bg-blue-100 text-blue-700 px-3 py-2 rounded text-sm hover:bg-blue-200 transition-colors flex items-center justify-center",children:[e.jsx(Fe,{size:16,className:"mr-1"}),"Sửa"]}),e.jsx("button",{onClick:()=>j(T.id,T.name),disabled:o===`delete-roomtype-${T.id}`,className:"bg-red-100 text-red-700 px-3 py-2 rounded text-sm hover:bg-red-200 transition-colors flex items-center justify-center disabled:opacity-50",children:e.jsx(tt,{size:16})})]})]})]},T.id))});return l?e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx(Qe,{className:"animate-spin mr-2",size:24}),e.jsx("span",{children:"Đang tải thông tin khách sạn..."})]})}):n?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>s("/admin/hotels"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hotel Details"}),e.jsx("p",{className:"text-gray-600 mt-1",children:n.name})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:N,disabled:o==="status",className:`px-4 py-2 rounded-lg transition-colors flex items-center disabled:opacity-50 ${n.active?"bg-orange-600 text-white hover:bg-orange-700":"bg-green-600 text-white hover:bg-green-700"}`,children:[n.active?e.jsx(Uc,{size:20,className:"mr-2"}):e.jsx($c,{size:20,className:"mr-2"}),o==="status"?"Đang cập nhật...":n.active?"Vô hiệu hóa":"Kích hoạt"]}),e.jsxs("button",{onClick:g,disabled:o==="featured",className:`px-4 py-2 rounded-lg transition-colors flex items-center disabled:opacity-50 ${n.featured?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-600 text-white hover:bg-gray-700"}`,children:[e.jsx(nn,{size:20,className:"mr-2"}),o==="featured"?"Đang cập nhật...":n.featured?"Bỏ nổi bật":"Đặt nổi bật"]}),e.jsxs("button",{onClick:()=>s(`/admin/hotels/edit/${n.id}`),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2"}),"Edit"]}),e.jsxs("button",{onClick:y,disabled:o==="delete",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:20,className:"mr-2"}),o==="delete"?"Deleting...":"Delete"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>u("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tổng quan"}),e.jsx("button",{onClick:()=>u("room-types"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="room-types"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Loại phòng"})]})}),d==="overview"&&P(),d==="room-types"&&R()]}):e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Không tìm thấy khách sạn"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Khách sạn có thể đã bị xóa hoặc không tồn tại."}),e.jsx("button",{onClick:()=>s("/admin/hotels"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Quay lại danh sách"})]})})},cj=({onUpload:t,onError:s,accept:r="image/*",maxSize:n=5,uploadType:a="image",currentImageUrl:l,className:i="",disabled:o=!1})=>{const{showToast:c}=Ce(),d=h.useRef(null),[u,m]=h.useState(!1),[p,x]=h.useState({uploading:!1,progress:0,error:null,preview:l||null}),b=h.useCallback(C=>C.type.startsWith("image/")?C.size/(1024*1024)>n?`File quá lớn. Kích thước tối đa: ${n}MB`:["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(C.type)?null:"Chỉ chấp nhận định dạng: JPG, PNG, GIF, WebP":"Chỉ chấp nhận file hình ảnh",[n]),f=h.useCallback(async C=>{var S,P;const k=b(C);if(k){x(R=>({...R,error:k})),s==null||s(k),c("error","Lỗi",k);return}x(R=>({...R,uploading:!0,progress:0,error:null,preview:URL.createObjectURL(C)}));try{const R=setInterval(()=>{x(E=>({...E,progress:Math.min(E.progress+10,90)}))},200);let T;switch(a){case"hotel-image":T=await Ti.uploadHotelImage(C);break;case"room-image":T=await Ti.uploadRoomImage(C);break;default:T=await Ti.uploadImage(C)}if(clearInterval(R),T.data.success&&T.data.result){x(I=>({...I,uploading:!1,progress:100,error:null}));const E=T.data.result;if(E.imageUrl)t(E.imageUrl,E);else throw new Error("No image URL received from server");c("success","Thành công","Upload hình ảnh thành công")}else throw new Error(T.data.message||"Upload thất bại")}catch(R){x(T=>{var E,I;return{...T,uploading:!1,progress:0,error:((I=(E=R.response)==null?void 0:E.data)==null?void 0:I.message)||R.message||"Upload thất bại"}}),s==null||s(R.message),c("error","Lỗi upload",((P=(S=R.response)==null?void 0:S.data)==null?void 0:P.message)||R.message||"Upload thất bại")}},[a,b,t,s,c]),v=h.useCallback(C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?m(!0):C.type==="dragleave"&&m(!1)},[]),N=h.useCallback(C=>{if(C.preventDefault(),C.stopPropagation(),m(!1),o||p.uploading)return;const k=Array.from(C.dataTransfer.files);k.length>0&&f(k[0])},[o,p.uploading,f]),g=h.useCallback(C=>{const k=C.target.files;k&&k.length>0&&f(k[0])},[f]),y=h.useCallback(()=>{var C;!o&&!p.uploading&&((C=d.current)==null||C.click())},[o,p.uploading]),j=h.useCallback(()=>{x(C=>({...C,preview:null,error:null,progress:0})),d.current&&(d.current.value="")},[]),w=()=>{switch(a){case"hotel-image":return"hình ảnh khách sạn (1200x800)";case"room-image":return"hình ảnh phòng (800x600)";default:return"hình ảnh"}};return e.jsxs("div",{className:`w-full ${i}`,children:[e.jsx("input",{ref:d,type:"file",accept:r,onChange:g,className:"hidden",disabled:o}),e.jsxs("div",{onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:N,onClick:y,className:`
          relative border-2 border-dashed rounded-lg p-6 transition-all duration-200 cursor-pointer
          ${u?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
          ${o||p.uploading?"opacity-50 cursor-not-allowed":""}
          ${p.error?"border-red-300 bg-red-50":""}
          ${p.preview&&!p.uploading?"border-green-300 bg-green-50":""}
        `,children:[p.preview&&e.jsxs("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:[e.jsx("img",{src:p.preview,alt:"Preview",className:"w-full h-full object-cover"}),!p.uploading&&e.jsx("button",{onClick:C=>{C.stopPropagation(),j()},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",type:"button",children:e.jsx(ve,{size:16})})]}),e.jsx("div",{className:`text-center ${p.preview?"hidden":""}`,children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[p.uploading?e.jsx(wx,{size:48,className:"text-blue-500 animate-spin"}):p.error?e.jsx(he,{size:48,className:"text-red-500"}):e.jsx(_c,{size:48,className:"text-gray-400"}),e.jsx("div",{className:"space-y-1",children:p.uploading?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Đang upload ",w(),"..."]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p.progress}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[p.progress,"%"]})]}):p.error?e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Upload thất bại"}),e.jsx("p",{className:"text-xs text-red-500",children:p.error}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click để thử lại"})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Kéo thả ",w()," vào đây"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["hoặc ",e.jsx("span",{className:"text-blue-600 font-medium",children:"click để chọn file"})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Hỗ trợ: JPG, PNG, GIF, WebP • Tối đa ",n,"MB"]})]})})]})}),p.preview&&p.progress===100&&!p.uploading&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:e.jsx("div",{className:"bg-white rounded-full p-3",children:e.jsx(kt,{size:32,className:"text-green-500"})})})]}),p.preview&&p.progress===100&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[e.jsx(Sr,{size:12,className:"inline mr-1"}),"Upload thành công • Click để thay đổi"]})]})},fn=({title:t="Hình ảnh",imageUrl:s,onImageUrlChange:r,uploadType:n="hotel-image",errors:a={},required:l=!1,className:i=""})=>{const[o,c]=h.useState("file"),[d,u]=h.useState(s);h.useEffect(()=>{u(s)},[s]);const m=(f,v)=>{r(f)},p=f=>{const v=f.target.value;u(v),r(v)},x=f=>f?/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i.test(f):!0,b=a.imageUrl||(!x(d)&&d?"URL hình ảnh không hợp lệ":"");return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8 ${i}`,children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Sr,{className:"mr-3 text-indigo-600",size:24}),t,l&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{type:"button",onClick:()=>c("file"),className:`flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${o==="file"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(_c,{size:16,className:"mr-2"}),"Upload File"]}),e.jsxs("button",{type:"button",onClick:()=>c("url"),className:`flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${o==="url"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Cm,{size:16,className:"mr-2"}),"Paste URL"]})]}),o==="file"?e.jsxs("div",{className:"space-y-4",children:[e.jsx(cj,{onUpload:m,uploadType:n,currentImageUrl:s,maxSize:10,className:"min-h-[200px]"}),e.jsx("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Sr,{size:16,className:"text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Upload trực tiếp lên Cloudinary"}),e.jsx("p",{className:"text-blue-700 mt-1",children:n==="hotel-image"?"Hình ảnh sẽ được tối ưu hóa thành 1200x800px cho khách sạn":n==="room-image"?"Hình ảnh sẽ được tối ưu hóa thành 800x600px cho phòng":"Hình ảnh sẽ được tối ưu hóa cho hiển thị tốt nhất"})]})]})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["URL hình ảnh ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",value:d,onChange:p,placeholder:"https://example.com/hotel-image.jpg",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${b?"border-red-500":"border-gray-300"}`}),b&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:b})]}),d&&!b&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),e.jsx("div",{className:"relative w-full max-w-md mx-auto",children:e.jsx("img",{src:d,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300",onError:f=>{const v=f.target;v.style.display="none"}})})]}),e.jsx("div",{className:"text-sm text-gray-600 bg-amber-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Cm,{size:16,className:"text-amber-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-800",children:"Sử dụng URL từ nguồn bên ngoài"}),e.jsx("p",{className:"text-amber-700 mt-1",children:"Chỉ chấp nhận định dạng: JPG, PNG, GIF, WebP. Đảm bảo URL có thể truy cập công khai."})]})]})})]})]})},dj=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState(!1),[a,l]=h.useState({name:"",description:"",address:"",city:"",country:"",phone:"",email:"",website:"",starRating:1,pricePerNight:0,checkInTime:"14:00",checkOutTime:"12:00",amenities:"",cancellationPolicy:"",petPolicy:"",imageUrl:""}),[i,o]=h.useState({}),c=()=>{var x,b,f,v,N,g,y;const p={};return(x=a.name)!=null&&x.trim()||(p.name="Hotel name is required"),(b=a.description)!=null&&b.trim()||(p.description="Description is required"),(f=a.address)!=null&&f.trim()||(p.address="Address is required"),(v=a.city)!=null&&v.trim()||(p.city="City is required"),(N=a.country)!=null&&N.trim()||(p.country="Country is required"),(g=a.phone)!=null&&g.trim()||(p.phone="Phone number is required"),(y=a.email)!=null&&y.trim()||(p.email="Email is required"),a.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(p.email="Invalid email address"),a.phone&&!/^[0-9+\-\s()]+$/.test(a.phone)&&(p.phone="Invalid phone number"),(!a.pricePerNight||a.pricePerNight<=0)&&(p.pricePerNight="Room price must be greater than 0"),(!a.starRating||a.starRating<1||a.starRating>5)&&(p.starRating="Star rating must be from 1 to 5"),a.website&&!/^https?:\/\/.+/.test(a.website)&&(p.website="Website must start with http:// or https://"),o(p),Object.keys(p).length===0},d=p=>{const{name:x,value:b}=p.target;l(f=>({...f,[x]:x==="starRating"||x==="pricePerNight"?Number(b):b})),i[x]&&o(f=>({...f,[x]:""}))},u=async p=>{var x;if(p.preventDefault(),!c()){s("error","Error","Please check the information entered");return}try{n(!0);const b=await me.createHotelByAdmin(a),f=((x=b.data.result)==null?void 0:x.id)||b.data.id;s("success","Success","New hotel has been created"),t(`/admin/hotels/${f}`)}catch(b){console.error("Error creating hotel:",b),s("error","Error","Unable to connect to server")}finally{n(!1)}},m=()=>{window.confirm("Are you sure you want to cancel? All entered information will be lost.")&&t("/admin/hotels")};return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/admin/hotels"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Add New Hotel"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Enter detailed hotel information"})]})]})}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Be,{size:20,className:"mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hotel Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter hotel name"}),i.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Star Rating ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{name:"starRating",value:a.starRating,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.starRating?"border-red-500":"border-gray-300"}`,children:[1,2,3,4,5].map(p=>e.jsxs("option",{value:p,children:[p," star",p>1?"s":""]},p))}),i.starRating&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.starRating})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"description",value:a.description,onChange:d,rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter detailed description about the hotel"}),i.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.description})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",value:a.address,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter full address"}),i.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.address})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"city",value:a.city,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.city?"border-red-500":"border-gray-300"}`,placeholder:"Enter city name"}),i.city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.city})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Country ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"country",value:a.country,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.country?"border-red-500":"border-gray-300"}`,placeholder:"Enter country name"}),i.country&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.country})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Base Price/Night (VND) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"pricePerNight",value:a.pricePerNight,onChange:d,min:"0",step:"1000",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.pricePerNight?"border-red-500":"border-gray-300"}`,placeholder:"Enter room price"}),i.pricePerNight&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.pricePerNight})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(fn,{title:"Hotel Image",imageUrl:a.imageUrl||"",onImageUrlChange:p=>l(x=>({...x,imageUrl:p})),uploadType:"hotel-image",errors:{imageUrl:i.imageUrl}})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{size:20,className:"mr-2 text-blue-500"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number"}),i.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",name:"website",value:a.website,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.website?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com"}),i.website&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.website})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Pe,{size:20,className:"mr-2 text-blue-500"}),"Check-in/Check-out Times"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Time"}),e.jsx("input",{type:"time",name:"checkInTime",value:a.checkInTime,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Time"}),e.jsx("input",{type:"time",name:"checkOutTime",value:a.checkOutTime,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(pe,{size:20,className:"mr-2 text-blue-500"}),"Amenities"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities List (separated by commas)"}),e.jsx("textarea",{name:"amenities",value:a.amenities,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Wi-Fi, Swimming Pool, Spa, Restaurant, Gym, Parking"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Available Amenities (click to add)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Free Wi-Fi","Swimming Pool","Spa & Massage","Restaurant","Fitness Center","Parking","24-hour Room Service","24-hour Front Desk","Elevator","Air Conditioning","Television","Mini Fridge","Safe","Hair Dryer","Bathtub","Shower","Slippers","Bathrobe","Work Desk","Sofa","Balcony","Ocean View","City View","Mountain View","Bar","Karaoke","Tennis Court","Golf Course","Private Beach","Laundry Service","Airport Shuttle","Bicycle Rental","Kids Play Area","Meeting Rooms","Shopping Center","ATM","Gift Shop"].map(p=>{const x=(a.amenities||"").split(",").map(b=>b.trim()).includes(p);return e.jsxs("button",{type:"button",onClick:()=>{const b=(a.amenities||"").split(",").map(f=>f.trim()).filter(f=>f);if(x){const f=b.filter(v=>v!==p);l(v=>({...v,amenities:f.join(", ")}))}else{const f=[...b,p];l(v=>({...v,amenities:f.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${x?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[x&&e.jsx("span",{className:"mr-1",children:"✓"}),p]},p)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"💡 Tip: Click on the tags to add/remove amenities. You can also type directly in the text box above."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Je,{size:20,className:"mr-2 text-blue-500"}),"Policies"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy"}),e.jsx("textarea",{name:"cancellationPolicy",value:a.cancellationPolicy,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Free cancellation before 24 hours"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pet Policy"}),e.jsx("textarea",{name:"petPolicy",value:a.petPolicy,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Pets are not allowed"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[e.jsx("button",{type:"button",onClick:m,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(nt,{size:20,className:"mr-2"}),r?"Saving...":"Save Hotel"]})]})]})]})},mj=()=>{const t=le(),{id:s}=ot(),{showToast:r}=Ce(),[n,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState(null),[d,u]=h.useState([]),[m,p]=h.useState(!1),[x,b]=h.useState({name:"",description:"",address:"",city:"",country:"",phone:"",email:"",website:"",starRating:1,checkInTime:"",checkOutTime:"",imageUrl:"",pricePerNight:0,amenities:"",cancellationPolicy:"",petPolicy:"",ownerId:"",active:!0,featured:!1});h.useEffect(()=>{s&&(v(),f())},[s]);const f=async()=>{try{p(!0);const w=(await Nt.getHosts(0,100,"name")).data;if(w.success&&w.result){const C=w.result.content.map(k=>({id:k.id,name:k.name,email:k.email,username:k.username}));u(C)}}catch(j){console.error("Error fetching hosts:",j),r("error","Error","Unable to load owner list")}finally{p(!1)}},v=async()=>{try{a(!0);const j=await me.getHotelDetails(s),w=j.data.result||j.data;c(w),b({name:w.name||"",description:w.description||"",address:w.address||"",city:w.city||"",country:w.country||"",phone:w.phone||"",email:w.email||"",website:w.website||"",starRating:w.starRating||1,checkInTime:w.checkInTime||"",checkOutTime:w.checkOutTime||"",imageUrl:w.imageUrl||"",pricePerNight:w.pricePerNight||0,amenities:w.amenities||"",cancellationPolicy:w.cancellationPolicy||"",petPolicy:w.petPolicy||"",ownerId:w.ownerId||"",active:w.active,featured:w.featured})}catch(j){console.error("Error fetching hotel:",j),r("error","Error","Unable to load hotel information"),t("/admin/hotels")}finally{a(!1)}},N=j=>{const{name:w,value:C,type:k}=j.target;b(S=>({...S,[w]:k==="number"?parseFloat(C)||0:C}))},g=j=>{const{name:w,checked:C}=j.target;b(k=>({...k,[w]:C}))},y=async j=>{if(j.preventDefault(),!x.name||!x.address){r("error","Error","Please fill in all required information");return}try{i(!0),await me.updateHotelByAdmin(s,x),r("success","Success","Hotel information updated successfully"),t(`/admin/hotels/${s}`)}catch(w){console.error("Error updating hotel:",w),r("error","Error","Unable to update hotel")}finally{i(!1)}};return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/admin/hotels"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Hotel"}),e.jsx("p",{className:"text-gray-600",children:o.name})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t(`/admin/hotels/${s}`),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:y,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(nt,{size:20,className:"mr-2"}),l?"Saving...":"Save Changes"]})]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hotel Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Star Rating"}),e.jsx("select",{name:"starRating",value:x.starRating,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[1,2,3,4,5].map(j=>e.jsxs("option",{value:j,children:[j," stars"]},j))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:x.description,onChange:N,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Be,{size:20,className:"mr-2 text-green-500"}),"Location Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",value:x.address,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",name:"city",value:x.city,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),e.jsx("input",{type:"text",name:"country",value:x.country,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Le,{size:20,className:"mr-2 text-purple-500"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsx("input",{type:"url",name:"website",value:x.website,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Pe,{size:20,className:"mr-2 text-orange-500"}),"Thông tin đặt phòng"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giờ nhận phòng"}),e.jsx("input",{type:"time",name:"checkInTime",value:x.checkInTime,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giờ trả phòng"}),e.jsx("input",{type:"time",name:"checkOutTime",value:x.checkOutTime,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giá mỗi đêm (VND)"}),e.jsx("input",{type:"number",name:"pricePerNight",value:x.pricePerNight,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Sr,{size:20,className:"mr-2 text-indigo-500"}),"Thông tin bổ sung"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(fn,{title:"Hotel Image",imageUrl:x.imageUrl||"",onImageUrlChange:j=>b(w=>({...w,imageUrl:j})),uploadType:"hotel-image"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities (comma separated)"}),e.jsx("textarea",{name:"amenities",value:x.amenities,onChange:N,rows:2,placeholder:"WiFi, Pool, Spa, Restaurant...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select available amenities (click to add/remove)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Wifi miễn phí","Hồ bơi","Spa & Massage","Nhà hàng","Phòng gym","Bãi đỗ xe","Dịch vụ phòng 24/7","Lễ tân 24/7","Thang máy","Điều hòa","Tivi","Tủ lạnh mini","Két an toàn","Máy sấy tóc","Bồn tắm","Vòi sen","Dép đi trong phòng","Áo choàng tắm","Bàn làm việc","Ghế sofa","Ban công","Tầm nhìn ra biển","Tầm nhìn ra thành phố","Tầm nhìn ra núi","Quầy bar","Karaoke","Sân tennis","Sân golf","Bãi biển riêng","Dịch vụ giặt ủi","Dịch vụ đưa đón sân bay","Cho thuê xe đạp","Khu vui chơi trẻ em","Phòng họp","Trung tâm thương mại","ATM","Cửa hàng lưu niệm"].map(j=>{const w=(x.amenities||"").split(",").map(C=>C.trim()).includes(j);return e.jsxs("button",{type:"button",onClick:()=>{const C=(x.amenities||"").split(",").map(k=>k.trim()).filter(k=>k);if(w){const k=C.filter(S=>S!==j);b(S=>({...S,amenities:k.join(", ")}))}else{const k=[...C,j];b(S=>({...S,amenities:k.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${w?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[w&&e.jsx("span",{className:"mr-1",children:"✓"}),j]},j)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"💡 Tip: Click on tags to add/remove amenities. You can also type directly in the text box above."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cancellation Policy"}),e.jsx("textarea",{name:"cancellationPolicy",value:x.cancellationPolicy,onChange:N,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pet Policy"}),e.jsx("textarea",{name:"petPolicy",value:x.petPolicy,onChange:N,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(He,{size:20,className:"mr-2 text-purple-500"}),"Owner Management"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Owner"}),o&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[e.jsx("p",{className:"font-medium text-gray-900",children:o.ownerName||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:o.ownerEmail||"No email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select New Owner"}),e.jsxs("select",{name:"ownerId",value:x.ownerId,onChange:N,disabled:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[e.jsx("option",{value:"",children:"-- Keep current owner --"}),m?e.jsx("option",{value:"",children:"Loading list..."}):d.map(j=>e.jsxs("option",{value:j.id,children:[j.name," (",j.email,")"]},j.id))]}),m&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[e.jsx(Qe,{size:12,className:"animate-spin mr-1"}),"Loading owner list..."]}),!m&&d.length===0&&e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"⚠️ No users found with HOST role"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💡 Tip: Only shows users with HOST role. To change owner, select a new person from the list."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Status Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"active",name:"active",checked:x.active,onChange:g,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Hotel is active"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:x.featured,onChange:g,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 block text-sm text-gray-900",children:"Featured hotel"})]})]})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Hotel not found"})})},uj=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState([]),[a,l]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(""),[u,m]=h.useState(""),[p,x]=h.useState(),[b,f]=h.useState(),[v,N]=h.useState(),[g,y]=h.useState(),[j,w]=h.useState(0),[C,k]=h.useState(0),[S,P]=h.useState(0),[R,T]=h.useState([]),[E,I]=h.useState(!1),[U,K]=h.useState(null),[q,_]=h.useState(!1),z=10,Y=async(G=0,be=z,$="createdAt")=>{try{o(!0);const te={pageNumber:G,pageSize:be,sortBy:$};u&&(te.hotelId=u),p!==void 0&&(te.minOccupancy=p),b!==void 0&&(te.maxOccupancy=b),v!==void 0&&(te.minPrice=v),g!==void 0&&(te.maxPrice=g);let L;c?L=await jt.searchRoomTypes(c,G,be,$):Object.keys(te).length>3?L=await jt.getAllRoomTypesWithFilters(te):L=await jt.getAllRoomTypes(G,be,$);const X=L.data;X.success?(n(X.result.content),k(X.result.totalPages),P(X.result.totalElements),w(X.result.number)):s("error","Error",X.message||"Unable to load room type list")}catch(te){console.error("Error fetching room types:",te),s("error","Error","Unable to connect to server")}finally{o(!1)}},W=async()=>{try{const be=(await me.getAllHotels(0,100,"name")).data;be.success&&l(be.result.content)}catch(G){console.error("Error fetching hotels:",G)}};h.useEffect(()=>{Y(),W()},[c,u,p,b,v,g]);const O=()=>{Y(j)},A=G=>{w(G),Y(G)},F=G=>G?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(G):"N/A",B=()=>{T(E?[]:r.map(G=>G.id)),I(!E)},se=G=>{R.includes(G)?T(R.filter(be=>be!==G)):T([...R,G])},oe=()=>{t("/admin/room-types/add")},Re=G=>{t(`/admin/room-types/edit/${G}`)},Q=G=>{t(`/admin/room-types/${G}`)},D=async G=>{if(window.confirm("Are you sure you want to delete this room type?"))try{K(G),await jt.deleteRoomType(G),s("success","Success","Room type deleted successfully"),Y(j)}catch(be){console.error("Error deleting room type:",be),s("error","Error","Unable to delete room type")}finally{K(null)}},J=async()=>{if(R.length!==0&&window.confirm(`Are you sure you want to delete ${R.length} selected room types?`))try{K("bulk-delete"),await Promise.all(R.map(G=>jt.deleteRoomType(G))),s("success","Success",`Deleted ${R.length} room types`),T([]),I(!1),Y(j)}catch(G){console.error("Error deleting room types:",G),s("error","Error","Unable to delete some room types")}finally{K(null)}},V=()=>{d(""),m(""),x(void 0),f(void 0),N(void 0),y(void 0),w(0)},re=()=>{const G=[],$=Math.max(0,j-Math.floor(2.5)),te=Math.min(C-1,$+5-1);for(let L=$;L<=te;L++)G.push(e.jsx("button",{onClick:()=>A(L),className:`px-3 py-2 text-sm font-medium rounded-md ${L===j?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:L+1},L));return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex justify-between flex-1 sm:hidden",children:[e.jsx("button",{onClick:()=>A(Math.max(0,j-1)),disabled:j===0,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>A(Math.min(C-1,j+1)),disabled:j===C-1,className:"relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:j*z+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((j+1)*z,S)})," ","of ",e.jsx("span",{className:"font-medium",children:S})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>A(Math.max(0,j-1)),disabled:j===0,className:"relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),G,e.jsx("button",{onClick:()=>A(Math.min(C-1,j+1)),disabled:j===C-1,className:"relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Room Type Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage room types in the system"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:O,disabled:i,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[e.jsx(Qe,{size:20,className:`mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:oe,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add Room Type"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search room types...",value:c,onChange:G=>d(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>_(!q),className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(Zt,{size:20,className:"mr-2"}),"Filters"]}),(u||p||b||v||g)&&e.jsx("button",{onClick:V,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Clear Filters"})]})]}),q&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel"}),e.jsxs("select",{value:u,onChange:G=>m(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Hotels"}),a.map(G=>e.jsx("option",{value:G.id,children:G.name},G.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",value:p||"",onChange:G=>x(G.target.value?parseInt(G.target.value):void 0),placeholder:"Tối thiểu",className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"number",value:b||"",onChange:G=>f(G.target.value?parseInt(G.target.value):void 0),placeholder:"Tối đa",className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Price"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",value:v||"",onChange:G=>N(G.target.value?parseInt(G.target.value):void 0),placeholder:"Min",className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"number",value:g||"",onChange:G=>y(G.target.value?parseInt(G.target.value):void 0),placeholder:"Max",className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})})]}),R.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-blue-800 font-medium",children:["Selected ",R.length," room types"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:J,disabled:U==="bulk-delete",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:16,className:"mr-2"}),U==="bulk-delete"?"Deleting...":"Delete Selected"]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:E,onChange:B,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hotel"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Occupancy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price/night"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rooms"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Qe,{className:"animate-spin mr-2",size:20}),"Loading..."]})})}):r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"No room types found"})}):r.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:R.includes(G.id),onChange:()=>se(G.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[G.imageUrl?e.jsx("img",{src:G.imageUrl,alt:G.name,className:"h-12 w-12 rounded-lg object-cover mr-4"}):e.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Ct,{size:20,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),G.description&&e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:G.description})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(et,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:G.hotelName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{size:16,className:"text-gray-400 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[G.maxOccupancy," people"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:F(G.pricePerNight)})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{children:["Total: ",G.totalRooms]}),e.jsxs("div",{className:"text-green-600",children:["Available: ",G.availableRooms]})]})}),e.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Q(G.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"View Details",children:e.jsx(Oe,{size:16})}),e.jsx("button",{onClick:()=>Re(G.id),className:"text-yellow-600 hover:text-yellow-900 p-1 rounded",title:"Edit",children:e.jsx(Fe,{size:16})}),e.jsx("button",{onClick:()=>D(G.id),disabled:U===G.id,className:"text-red-600 hover:text-red-900 p-1 rounded disabled:opacity-50",title:"Delete",children:e.jsx(tt,{size:16})})]})})]},G.id))})]})}),C>1&&re()]})]})},hj=()=>{const t=le(),{id:s}=ot(),{showToast:r}=Ce(),[n,a]=h.useState(!0),[l,i]=h.useState(null),[o,c]=h.useState(null);h.useEffect(()=>{s&&d()},[s]);const d=async()=>{try{a(!0);const v=(await jt.getRoomTypeById(s)).data;v.success?c(v.result):(r("error","Lỗi",v.message||"Không thể tải thông tin loại phòng"),t("/admin/room-types"))}catch(f){console.error("Error fetching room type:",f),r("error","Lỗi","Không thể tải thông tin loại phòng"),t("/admin/room-types")}finally{a(!1)}},u=()=>{t(`/admin/room-types/edit/${s}`)},m=async()=>{if(o&&window.confirm(`Are you sure you want to delete room type "${o.name}"?`))try{i("delete"),await jt.deleteRoomType(o.id),r("success","Success","Room type deleted successfully"),t("/admin/room-types")}catch(f){console.error("Error deleting room type:",f),r("error","Error","Unable to delete room type")}finally{i(null)}},p=f=>{const v={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(f).toLocaleDateString("vi-VN",v)},x=f=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(f),b=f=>({Single:"Giường đơn",Double:"Giường đôi",Queen:"Giường Queen",King:"Giường King",Twin:"Giường đôi riêng biệt","Sofa Bed":"Giường sofa"})[f]||f;return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/admin/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:o.name}),e.jsx("p",{className:"text-gray-600",children:o.hotelName})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2"}),"Edit"]}),e.jsxs("button",{onClick:m,disabled:l==="delete",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:20,className:"mr-2"}),l==="delete"?"Deleting...":"Delete"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ct,{size:20,className:"mr-2 text-blue-500"}),"Thông tin cơ bản"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên loại phòng"}),e.jsx("p",{className:"text-gray-900 font-medium",children:o.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loại giường"}),e.jsx("p",{className:"text-gray-900",children:o.bedType?b(o.bedType):"Không xác định"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sức chứa tối đa"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{size:16,className:"text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-900",children:[o.maxOccupancy," người"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diện tích"}),e.jsx("p",{className:"text-gray-900",children:o.roomSize?`${o.roomSize} m²`:"Không xác định"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giá mỗi đêm"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 font-semibold",children:x(o.pricePerNight)})]})]})]}),o.description&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),e.jsx("p",{className:"text-gray-900 leading-relaxed",children:o.description})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ct,{size:20,className:"mr-2 text-green-500"}),"Tình trạng phòng"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.totalRooms}),e.jsx("div",{className:"text-sm text-blue-700",children:"Tổng số phòng"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.availableRooms}),e.jsx("div",{className:"text-sm text-green-700",children:"Phòng trống"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:o.totalRooms-o.availableRooms}),e.jsx("div",{className:"text-sm text-orange-700",children:"Phòng đã đặt"})]})]})]}),o.amenities&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Sr,{size:20,className:"mr-2 text-purple-500"}),"Tiện nghi phòng"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.amenities.split(",").map((f,v)=>e.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm",children:f.trim()},v))})]})]}),e.jsxs("div",{className:"space-y-6",children:[o.imageUrl&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-48 object-cover"})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(et,{size:20,className:"mr-2 text-indigo-500"}),"Thông tin khách sạn"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên khách sạn"}),e.jsx("p",{className:"text-gray-900",children:o.hotelName})]}),e.jsx("button",{onClick:()=>t(`/admin/hotels/${o.hotelId}`),className:"w-full bg-indigo-50 text-indigo-700 px-4 py-2 rounded-lg hover:bg-indigo-100 transition-colors text-sm",children:"Xem thông tin khách sạn"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(ge,{size:20,className:"mr-2 text-gray-500"}),"Thông tin hệ thống"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngày tạo"}),e.jsx("p",{className:"text-gray-900 text-sm",children:p(o.createdAt)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-gray-900 text-sm",children:p(o.updatedAt)})]}),o.createdBy&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tạo bởi"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 text-sm",children:o.createdBy})]})]}),o.updatedBy&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 text-sm",children:o.updatedBy})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Thao tác nhanh"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>t(`/admin/room-types/add?hotelId=${o.hotelId}`),className:"w-full bg-blue-50 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-100 transition-colors text-sm",children:"Thêm loại phòng mới cho khách sạn này"}),e.jsx("button",{onClick:()=>t("/admin/room-types"),className:"w-full bg-gray-50 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors text-sm",children:"Quay lại danh sách loại phòng"})]})]})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Không tìm thấy loại phòng"})})},xj=()=>{const t=le(),{id:s}=ot(),{showToast:r}=Ce(),[n,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState(null),[d,u]=h.useState([]),[m,p]=h.useState({name:"",description:"",maxOccupancy:1,bedType:"",roomSize:0,pricePerNight:0,totalRooms:1,imageUrl:"",amenities:"",hotelId:""});h.useEffect(()=>{s&&(x(),b())},[s]);const x=async()=>{try{a(!0);const N=await jt.getRoomTypeById(s),g=N.data.result||N.data;c(g),p({name:g.name||"",description:g.description||"",maxOccupancy:g.maxOccupancy||1,bedType:g.bedType||"",roomSize:g.roomSize||0,pricePerNight:g.pricePerNight||0,totalRooms:g.totalRooms||1,imageUrl:g.imageUrl||"",amenities:g.amenities||"",hotelId:g.hotelId||""})}catch(N){console.error("Error fetching room type:",N),r("error","Error","Unable to load room type information"),t("/admin/room-types")}finally{a(!1)}},b=async()=>{try{const g=(await me.getAllHotels(0,100)).data;g.success&&u(g.result.content)}catch(N){console.error("Error fetching hotels:",N)}},f=N=>{const{name:g,value:y,type:j}=N.target;p(w=>({...w,[g]:j==="number"?parseFloat(y)||0:y}))},v=async N=>{N.preventDefault();try{i(!0);const y=(await jt.updateRoomType(s,m)).data;y.success?(r("success","Success","Room type information has been updated"),t(`/admin/room-types/${s}`)):r("error","Error",y.message||"Unable to update room type information")}catch(g){console.error("Error updating room type:",g),r("error","Error","Unable to update room type information")}finally{i(!1)}};return n?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/admin/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Room Type"}),e.jsxs("p",{className:"text-gray-600",children:[o.name," - ",o.hotelName]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t("/admin/room-types"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:v,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(nt,{size:20,className:"mr-2"}),l?"Saving...":"Save Changes"]})]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Room Type Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:m.name,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),e.jsxs("select",{name:"bedType",value:m.bedType,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select bed type"}),e.jsx("option",{value:"Single",children:"Single Bed"}),e.jsx("option",{value:"Double",children:"Double Bed"}),e.jsx("option",{value:"Queen",children:"Queen Bed"}),e.jsx("option",{value:"King",children:"King Bed"}),e.jsx("option",{value:"Twin",children:"Twin Beds"}),e.jsx("option",{value:"Sofa Bed",children:"Sofa Bed"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:m.description,onChange:f,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ct,{size:20,className:"mr-2 text-green-500"}),"Room Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Maximum Occupancy ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"maxOccupancy",value:m.maxOccupancy,onChange:f,min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (m²)"}),e.jsx("input",{type:"number",name:"roomSize",value:m.roomSize,onChange:f,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Rooms ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"totalRooms",value:m.totalRooms,onChange:f,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{size:20,className:"mr-2 text-yellow-500"}),"Pricing Information"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price per Night (VND) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"pricePerNight",value:m.pricePerNight,onChange:f,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:"📸 Additional Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(fn,{title:"Room Type Image",imageUrl:m.imageUrl||"",onImageUrlChange:N=>p(g=>({...g,imageUrl:N})),uploadType:"room-image"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Amenities (separated by commas)"}),e.jsx("textarea",{name:"amenities",value:m.amenities,onChange:f,rows:2,placeholder:"Wi-Fi, TV, Air Conditioning, Mini Fridge, Balcony...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Available Room Amenities (click to add/remove)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Free Wi-Fi","Flat-screen TV","Air Conditioning","Mini Fridge","Safe","Hair Dryer","Bathtub","Shower","Slippers","Bathrobe","Work Desk","Sofa","Balcony","Window","Ocean View","City View","Mountain View","Garden View","Coffee Maker","Electric Kettle","Glassware","Bath Towels","Face Towels","Toilet Paper","Shampoo","Body Wash","Soap","Toothpaste","Toothbrush","Comb","Vanity Mirror","Reading Light","Curtains","Blackout Curtains","Wardrobe","Coat Hangers","Individual AC","Ceiling Fan","Wooden Floor","Carpet","Telephone","Fax Machine"].map(N=>{const g=(m.amenities||"").split(",").map(y=>y.trim()).includes(N);return e.jsxs("button",{type:"button",onClick:()=>{const y=(m.amenities||"").split(",").map(j=>j.trim()).filter(j=>j);if(g){const j=y.filter(w=>w!==N);p(w=>({...w,amenities:j.join(", ")}))}else{const j=[...y,N];p(w=>({...w,amenities:j.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${g?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[g&&e.jsx("span",{className:"mr-1",children:"✓"}),N]},N)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"💡 Tip: Click on the tags to add/remove room amenities. You can also type directly in the text box above."})]})]})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Room type not found"})})},gj=()=>{const t=le(),[s]=Bc(),{showToast:r}=Ce(),[n,a]=h.useState(!1),[l,i]=h.useState([]),[o,c]=h.useState(null),d=s.get("hotelId"),[u,m]=h.useState({name:"",description:"",maxOccupancy:1,bedType:"",roomSize:0,pricePerNight:0,totalRooms:1,imageUrl:"",amenities:"",hotelId:d||""});h.useEffect(()=>{p()},[]),h.useEffect(()=>{if(d&&l.length>0){const f=l.find(v=>v.id===d);f&&(c(f),m(v=>({...v,hotelId:d})))}},[d,l]);const p=async()=>{try{a(!0);const v=(await me.getAllHotels(0,100)).data;v.success&&i(v.result.content)}catch(f){console.error("Error fetching hotels:",f),r("error","Error","Unable to load hotel list")}finally{a(!1)}},x=f=>{const{name:v,value:N,type:g}=f.target;if(m(y=>({...y,[v]:g==="number"?parseFloat(N)||0:N})),v==="hotelId"){const y=l.find(j=>j.id===N);c(y||null)}},b=async f=>{f.preventDefault();try{a(!0);const N=(await jt.createRoomType(u)).data;N.success?(r("success","Success","New room type has been added"),t(`/admin/room-types/${N.result.id}`)):r("error","Error",N.message||"Unable to add room type")}catch(v){console.error("Error creating room type:",v),r("error","Error","Unable to add room type")}finally{a(!1)}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t(d?`/admin/hotels/${d}`:"/admin/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Add New Room Type"}),o&&e.jsxs("p",{className:"text-gray-600",children:["For hotel: ",o.name]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t(d?`/admin/hotels/${d}`:"/admin/room-types"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:b,disabled:n,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(nt,{size:20,className:"mr-2"}),n?"Saving...":"Create Room Type"]})]})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(et,{size:20,className:"mr-2 text-blue-500"}),"Select Hotel"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hotel ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"hotelId",value:u.hotelId,onChange:x,disabled:!!d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",required:!0,children:[e.jsx("option",{value:"",children:"Select hotel"}),l.map(f=>e.jsxs("option",{value:f.id,children:[f.name," - ",f.city]},f.id))]}),d&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Room type will be added to this hotel."})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Room Type Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:u.name,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),e.jsxs("select",{name:"bedType",value:u.bedType,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select bed type"}),e.jsx("option",{value:"Single",children:"Single Bed"}),e.jsx("option",{value:"Double",children:"Double Bed"}),e.jsx("option",{value:"Queen",children:"Queen Bed"}),e.jsx("option",{value:"King",children:"King Bed"}),e.jsx("option",{value:"Twin",children:"Twin Beds"}),e.jsx("option",{value:"Sofa Bed",children:"Sofa Bed"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:u.description,onChange:x,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ct,{size:20,className:"mr-2 text-green-500"}),"Room Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Maximum Occupancy ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"maxOccupancy",value:u.maxOccupancy,onChange:x,min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (m²)"}),e.jsx("input",{type:"number",name:"roomSize",value:u.roomSize,onChange:x,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Rooms ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"totalRooms",value:u.totalRooms,onChange:x,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{size:20,className:"mr-2 text-yellow-500"}),"Pricing Information"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price per Night (VND) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"pricePerNight",value:u.pricePerNight,onChange:x,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:"📸 Additional Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(fn,{title:"Room Type Image",imageUrl:u.imageUrl||"",onImageUrlChange:f=>m(v=>({...v,imageUrl:f})),uploadType:"room-image"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Amenities (separated by commas)"}),e.jsx("textarea",{name:"amenities",value:u.amenities,onChange:x,rows:2,placeholder:"Wi-Fi, TV, Air Conditioning, Mini Fridge, Balcony...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Available Room Amenities (click to add/remove)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Free Wi-Fi","Flat-screen TV","Air Conditioning","Mini Fridge","Safe","Hair Dryer","Bathtub","Shower","Slippers","Bathrobe","Work Desk","Sofa","Balcony","Window","Ocean View","City View","Mountain View","Garden View","Coffee Maker","Electric Kettle","Glassware","Bath Towels","Face Towels","Toilet Paper","Shampoo","Body Wash","Soap","Toothpaste","Toothbrush","Comb","Vanity Mirror","Reading Light","Curtains","Blackout Curtains","Wardrobe","Coat Hangers","Individual AC","Ceiling Fan","Wooden Floor","Carpet","Telephone","Fax Machine"].map(f=>{const v=(u.amenities||"").split(",").map(N=>N.trim()).includes(f);return e.jsxs("button",{type:"button",onClick:()=>{const N=(u.amenities||"").split(",").map(g=>g.trim()).filter(g=>g);if(v){const g=N.filter(y=>y!==f);m(y=>({...y,amenities:g.join(", ")}))}else{const g=[...N,f];m(y=>({...y,amenities:g.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${v?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[v&&e.jsx("span",{className:"mr-1",children:"✓"}),f]},f)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"💡 Tip: Click on the tags to add/remove room amenities. You can also type directly in the text box above."})]})]})]})]})]})},Dx=({isOpen:t,onClose:s,user:r,onSuccess:n})=>{const{showToast:a}=Ce(),[l,i]=h.useState([]),[o,c]=h.useState(!1),[d,u]=h.useState([]),[m,p]=h.useState(!1),x=async()=>{try{p(!0);const y=await zy.getAllRoles();if(y.data.success){const j=y.data.result.content;u(j),console.log("Fetched roles from API:",j)}else throw new Error(y.data.message||"Failed to fetch roles")}catch(y){console.error("Error fetching roles:",y);const j=[{id:1,name:"USER",description:"Regular users who can make bookings"},{id:2,name:"HOST",description:"Hotel owners who can manage properties"},{id:3,name:"ADMIN",description:"System administrators with full permissions"}];u(j),console.log("Using fallback roles:",j),a("warning","Warning","Unable to load role list from server. Using default list.")}finally{p(!1)}};h.useEffect(()=>{if(t&&r){console.log("=== INITIALIZING ROLE MODAL ==="),console.log("User:",r),console.log("User roles:",r.roles),x();const y=r.roles.map(j=>j.id);console.log("Current user role IDs:",y),i(y)}},[t,r]);const b=y=>{console.log("Toggling role:",y),i(j=>{const w=j.includes(y)?j.filter(C=>C!==y):[...j,y];return console.log("New selected role IDs:",w),w})},f=async()=>{var y,j,w,C,k,S,P,R;if(l.length===0){a("warning","Warning","Please select at least one role");return}try{c(!0);const T=[...new Set(l)],E={roleIds:T};console.log("=== ROLE UPDATE DEBUG ==="),console.log("User ID:",r.id),console.log("Current Role IDs:",r.roles.map(U=>U.id)),console.log("Selected Role IDs:",T),console.log("Request Data:",E);const I=await Nt.updateUserRoles(r.id,E);console.log("Update response:",I.data),a("success","Success","User roles updated successfully"),n(),s()}catch(T){console.error("=== ERROR UPDATING ROLES ==="),console.error("Error:",T),console.error("Response:",(y=T.response)==null?void 0:y.data);let E="An error occurred while updating roles";((j=T.response)==null?void 0:j.status)===403?E="You do not have permission to update user roles":((w=T.response)==null?void 0:w.status)===404?E="User or role not found":((C=T.response)==null?void 0:C.status)===400?E=((S=(k=T.response)==null?void 0:k.data)==null?void 0:S.message)||"Invalid data":(R=(P=T.response)==null?void 0:P.data)!=null&&R.message&&(E=T.response.data.message),a("error","Error",E)}finally{c(!1)}},v=y=>{switch(y){case"ADMIN":return"Administrator";case"HOST":return"Hotel Owner";case"USER":return"User";default:return y}},N=y=>{switch(y){case"ADMIN":return"bg-purple-100 text-purple-800 border-purple-200";case"HOST":return"bg-blue-100 text-blue-800 border-blue-200";case"USER":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=()=>{const y=r.roles.map(w=>w.id).sort((w,C)=>w-C),j=[...l].sort((w,C)=>w-C);return JSON.stringify(y)!==JSON.stringify(j)};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Role Management"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.name," (@",r.username,")"]})]})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ve,{size:24})})]}),e.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(Je,{className:"h-5 w-5 mr-2"}),"Select roles for user"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select one or more roles to assign to this user. Each role provides different permissions in the system."})]}),m&&e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),!m&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"All available roles:"}),d.map(y=>{const j=l.includes(y.id),w=r.roles.some(C=>C.id===y.id);return e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all duration-200 ${j?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>b(y.id),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${j?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:j&&e.jsx(We,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full border ${N(y.name)}`,children:[e.jsx(Je,{className:"h-3 w-3 mr-1"}),v(y.name)]}),w&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 border border-green-200",children:"Current"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.description})]})]})})},y.id)})]}),l.length===0&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(he,{className:"h-5 w-5 text-yellow-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"User must have at least one role to access the system."})})]})]})}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg text-xs text-gray-600",children:[e.jsx("p",{children:e.jsx("strong",{children:"Debug Info:"})}),e.jsxs("p",{children:["User ID: ",r.id]}),e.jsxs("p",{children:["Current Role IDs: [",r.roles.map(y=>y.id).join(", "),"]"]}),e.jsxs("p",{children:["Current Role Names: [",r.roles.map(y=>y.name).join(", "),"]"]}),e.jsxs("p",{children:["Selected Role IDs: [",l.join(", "),"]"]}),e.jsxs("p",{children:["Available Roles: [",d.map(y=>`${y.id}:${y.name}`).join(", "),"]"]}),e.jsxs("p",{children:["Has Changes: ",g()?"Yes":"No"]})]}),g()&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(he,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Changes Made"}),e.jsx("div",{className:"mt-2 text-sm text-blue-700",children:e.jsx("p",{children:`You have changed the user's roles. Click "Save Changes" to apply.`})})]})]})})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:s,disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:f,disabled:o||!g()||l.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})}):null},pj=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState("all"),[u,m]=h.useState("all"),[p,x]=h.useState("all"),[b,f]=h.useState(0),[v,N]=h.useState(0),[g,y]=h.useState(0),[j,w]=h.useState([]),[C,k]=h.useState(!1),[S,P]=h.useState(null),[R,T]=h.useState(!1),[E,I]=h.useState(null),U=10,K=async(V=0,re=U,G="id")=>{try{l(!0);const $=(await Nt.getAllUsers(V,re,G)).data;$.success?(n($.result.content),N($.result.totalPages),y($.result.totalElements),f($.result.number)):s("error","Error",$.message||"Unable to load user list")}catch(be){console.error("Error fetching users:",be),s("error","Error","Unable to connect to server")}finally{l(!1)}};h.useEffect(()=>{K()},[]);const q=r.filter(V=>{const re=V.name.toLowerCase().includes(i.toLowerCase())||V.username.toLowerCase().includes(i.toLowerCase())||V.email.toLowerCase().includes(i.toLowerCase()),G=V.roles.map(L=>L.name),be=c==="all"||G.includes(c),$=u==="all"||u==="active"&&V.active||u==="inactive"&&!V.active,te=p==="all"||p==="verified"&&V.emailVerified||p==="unverified"&&!V.emailVerified;return re&&be&&$&&te}),_=()=>{w(C?[]:q.map(V=>V.id)),k(!C)},z=V=>{j.includes(V)?w(j.filter(re=>re!==V)):w([...j,V])},Y=()=>{K(b),w([]),k(!1)},W=V=>{K(V),w([]),k(!1)},O=()=>{t("/admin/users/add")},A=V=>{t(`/admin/users/edit/${V}`)},F=V=>{t(`/admin/users/${V}`)},B=async V=>{var G,be;const re=r.find($=>$.id===V);if(re&&window.confirm(`Are you sure you want to delete user "${re.name}"?`))try{P(V),await Nt.deleteUser(V),s("success","Success","User deleted successfully"),K(b)}catch($){console.error("Error deleting user:",$);const te=((be=(G=$.response)==null?void 0:G.data)==null?void 0:be.message)||"An error occurred while deleting user";s("error","Lỗi",te)}finally{P(null)}},se=async()=>{if(j.length!==0&&window.confirm(`Are you sure you want to delete ${j.length} selected users?`))try{P("bulk-delete");const V=j.map(re=>Nt.deleteUser(re));await Promise.all(V),s("success","Success",`${j.length} users deleted successfully`),w([]),k(!1),K(b)}catch(V){console.error("Error deleting users:",V),s("error","Error","An error occurred while deleting users")}finally{P(null)}},oe=V=>V?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Active"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Inactive"}),Re=V=>V.map((re,G)=>e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${re.name==="ADMIN"?"bg-purple-100 text-purple-800":re.name==="HOST"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:re.name==="ADMIN"?"Administrator":re.name==="HOST"?"Hotel Owner":"User"},G)),Q=V=>{I(V),T(!0)},D=()=>{K(b),I(null)},J=async V=>{var re,G;try{P(V),await Nt.approveHostRequest(V),s("success","Success","Host request has been approved"),K(b)}catch(be){console.error("Error approving host request:",be);const $=((G=(re=be.response)==null?void 0:re.data)==null?void 0:G.message)||"An error occurred while approving the request";s("error","Lỗi",$)}finally{P(null)}};return a?e.jsx("div",{className:"w-full flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"User Management"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Total ",g," users"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:Y,disabled:a,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(Qe,{size:20,className:`mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:O,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add User"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search by name, username, email...",value:i,onChange:V=>o(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:c,onChange:V=>d(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All roles"}),e.jsx("option",{value:"USER",children:"User"}),e.jsx("option",{value:"HOST",children:"Hotel Owner"}),e.jsx("option",{value:"ADMIN",children:"Quản trị viên"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("select",{value:u,onChange:V=>m(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("select",{value:p,onChange:V=>x(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All emails"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"unverified",children:"Unverified"})]})})]})]})}),j.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex justify-between items-center",children:[e.jsxs("span",{className:"text-blue-700",children:["Selected ",j.length," users"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:se,disabled:S==="bulk-delete",className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[S==="bulk-delete"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-1"}):e.jsx(tt,{size:16,className:"mr-1"}),"Delete Selected"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:C,onChange:_,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Host Request"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:j.includes(V.id),onChange:()=>z(V.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:V.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",V.username]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Re(V.roles)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:V.hostRequested?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-amber-600 font-medium",children:"Pending"}),e.jsx("input",{type:"checkbox",onChange:()=>J(V.id),disabled:S===V.id,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded disabled:opacity-50",title:"Check to approve Host request"}),S===V.id&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:oe(V.active)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>F(V.id),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:e.jsx(Oe,{size:18})}),e.jsx("button",{onClick:()=>Q(V),className:"text-purple-600 hover:text-purple-900",title:"Manage Roles",children:e.jsx(sr,{size:18})}),e.jsx("button",{onClick:()=>A(V.id),className:"text-yellow-600 hover:text-yellow-900",title:"Edit",children:e.jsx(Fe,{size:18})}),e.jsx("button",{onClick:()=>B(V.id),disabled:S===V.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Delete",children:S===V.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(tt,{size:18})})]})})]},V.id))})]})}),v>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>W(Math.max(0,b-1)),disabled:b===0,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${b===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e.jsx("button",{onClick:()=>W(Math.min(v-1,b+1)),disabled:b===v-1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${b===v-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:b*U+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((b+1)*U,g)})," ","of ",e.jsx("span",{className:"font-medium",children:g})," users"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>W(Math.max(0,b-1)),disabled:b===0,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${b===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous page"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(v,5)}).map((V,re)=>{const G=b<3?re:b-2+re;return G>=v?null:e.jsx("button",{onClick:()=>W(G),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${b===G?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:G+1},G)}),e.jsxs("button",{onClick:()=>W(Math.min(v-1,b+1)),disabled:b===v-1,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${b===v-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),q.length===0&&!a&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(at,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-500",children:"Try changing filters or search keywords."})]}),E&&e.jsx(Dx,{isOpen:R,onClose:()=>{T(!1),I(null)},user:E,onSuccess:D})]})},fj=()=>{const{id:t}=ot(),s=le(),{showToast:r}=Ce(),[n,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,u]=h.useState(!1);h.useEffect(()=>{t&&m(t)},[t]);const m=async g=>{try{i(!0);const j=(await Nt.getUser(g)).data;j.success?a(j.result):(r("error","Error",j.message||"Unable to load user information"),s("/admin/users"))}catch(y){console.error("Error fetching user:",y),r("error","Error","Unable to connect to server"),s("/admin/users")}finally{i(!1)}},p=()=>{s(`/admin/users/edit/${t}`)},x=async()=>{var g,y;if(n&&window.confirm(`Are you sure you want to delete user "${n.name}"?`))try{c(!0),await Nt.deleteUser(n.id),r("success","Success","User deleted successfully"),s("/admin/users")}catch(j){console.error("Error deleting user:",j);const w=((y=(g=j.response)==null?void 0:g.data)==null?void 0:y.message)||"An error occurred while deleting user";r("error","Error",w)}finally{c(!1)}},b=g=>{const y={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(g).toLocaleDateString("vi-VN",y)},f=g=>g?new Date(g).toLocaleDateString("vi-VN"):"Not updated",v=g=>g.map((y,j)=>e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-medium rounded-full ${y.name==="ADMIN"?"bg-purple-100 text-purple-800":y.name==="HOST"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),y.name==="ADMIN"?"Administrator":y.name==="HOST"?"Hotel Owner":"User"]},j)),N=()=>{t&&m(t)};return l?e.jsx("div",{className:"w-full flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>s("/admin/users"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ye,{size:20,className:"mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"User Details"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Detailed information for ",n.name]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>m(n.id),disabled:l,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(Qe,{size:20,className:`mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:[e.jsx(sr,{size:20,className:"mr-2"}),"Role Management"]}),e.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2"}),"Edit"]}),e.jsxs("button",{onClick:x,disabled:o,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[o?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(tt,{size:20,className:"mr-2"}),"Delete"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[e.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:n.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:n.name}),e.jsxs("p",{className:"text-gray-600",children:["@",n.username]}),e.jsxs("div",{className:"flex items-center mt-2",children:[n.active?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[e.jsx(kt,{className:"h-3 w-3 mr-1"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:[e.jsx(ub,{className:"h-3 w-3 mr-1"}),"Inactive"]}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Can be changed in the edit section)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(De,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-gray-900",children:n.email}),n.emailVerified?e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:e.jsx(kx,{className:"h-3 w-3 mr-1"})}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:e.jsx(lb,{className:"h-3 w-3 mr-1"})})]})]})]}),n.tel&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Le,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-gray-900",children:n.tel})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ge,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),e.jsx("p",{className:"text-gray-900",children:f(n.dob)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[n.address&&e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Be,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"text-gray-900",children:n.address})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Created Date"}),e.jsx("p",{className:"text-gray-900",children:b(n.createAt)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Updated"}),e.jsx("p",{className:"text-gray-900",children:b(n.updateAt)})]})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Je,{className:"h-5 w-5 mr-2"}),"Roles & Permissions"]}),e.jsxs("button",{onClick:()=>u(!0),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center",children:[e.jsx(sr,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),e.jsx("div",{className:"space-y-3",children:n.roles.map((g,y)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:v([g])}),e.jsx("p",{className:"text-sm text-gray-600",children:g.description})]},y))}),n.roles.length===0&&e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No roles assigned yet"})]})})]}),e.jsx("div",{className:"mt-6 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Booking"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("div",{className:"text-sm text-green-600",children:"Review"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Hotel"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.floor((new Date().getTime()-new Date(n.createAt).getTime())/(1e3*60*60*24))}),e.jsx("div",{className:"text-sm text-purple-600",children:"Join Date"})]})]})]})}),n&&e.jsx(Dx,{isOpen:d,onClose:()=>u(!1),user:n,onSuccess:N})]}):e.jsxs("div",{className:"w-full text-center py-12",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"User Not Found"}),e.jsx("button",{onClick:()=>s("/admin/users"),className:"text-blue-600 hover:text-blue-800",children:"Back to User List"})]})},yj=()=>{const{id:t}=ot(),s=le(),{showToast:r}=Ce(),[n,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,u]=h.useState(!1),[m,p]=h.useState(!1),[x,b]=h.useState({name:"",username:"",email:"",tel:"",address:"",dob:"",password:"",confirmPassword:"",changePassword:!1,active:!0,emailVerified:!1}),[f,v]=h.useState({});h.useEffect(()=>{t&&N(t)},[t]);const N=async C=>{try{i(!0);const S=(await Nt.getUser(C)).data;S.success?(a(S.result),b({name:S.result.name,username:S.result.username,email:S.result.email,tel:S.result.tel||"",address:S.result.address||"",dob:S.result.dob||"",password:"",confirmPassword:"",changePassword:!1,active:S.result.active,emailVerified:S.result.emailVerified})):(r("error","Error",S.message||"Unable to load user information"),s("/admin/users"))}catch(k){console.error("Error fetching user:",k),r("error","Error","Unable to connect to server"),s("/admin/users")}finally{i(!1)}},g=C=>{const{name:k,value:S,type:P}=C.target;if(P==="checkbox"){const R=C.target.checked;b(T=>({...T,[k]:R}))}else b(R=>({...R,[k]:S}));f[k]&&v(R=>({...R,[k]:""}))},y=()=>{const C={};return x.name.trim()||(C.name="Full name is required"),x.username.trim()?x.username.length<3&&(C.username="Username must be at least 3 characters"):C.username="Username is required",x.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email)||(C.email="Invalid email format"):C.email="Email is required",x.tel&&x.tel.trim()&&(/^[0-9]{10,11}$/.test(x.tel.replace(/\s/g,""))||(C.tel="Invalid phone number (10-11 digits)")),x.changePassword&&(x.password?x.password.length<8&&(C.password="Password must be at least 8 characters"):C.password="New password is required",x.password!==x.confirmPassword&&(C.confirmPassword="Password confirmation does not match")),v(C),Object.keys(C).length===0},j=async C=>{var k,S;if(C.preventDefault(),!(!y()||!n)){c(!0);try{const P={name:x.name,username:x.username,email:x.email,tel:x.tel||void 0,address:x.address||void 0,dob:x.dob||void 0,active:x.active,emailVerified:x.emailVerified};if(await Nt.updateUser(n.id,P),x.changePassword&&x.password){const T={newPassword:x.password};try{await Nt.adminUpdatePassword(n.id,T)}catch(E){console.error("Password update error:",E),r("warning","Warning","Information updated but there was an error changing the password")}}let R="User information has been updated successfully!";if(P.active!==n.active){const T=P.active?"activated":"deactivated";R+=` Account status has been ${T}.`}if(P.emailVerified!==n.emailVerified){const T=P.emailVerified?"has been verified":"has been unverified";R+=` Email ${T}.`}x.changePassword&&x.password&&(R+=" Password has been changed."),r("success","Success",R),s(`/admin/users/${n.id}`)}catch(P){console.error("Update user error:",P);const R=((S=(k=P.response)==null?void 0:k.data)==null?void 0:S.message)||"An error occurred while updating user information";r("error","Error",R)}finally{c(!1)}}},w=()=>{s(`/admin/users/${t}`)};return l?e.jsx("div",{className:"w-full flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>s(`/admin/users/${t}`),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ye,{size:20,className:"mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Edit User"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Update information for ",n.name]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-6 pb-6 border-b border-gray-200",children:[e.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:x.name.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),e.jsx("p",{className:"text-gray-600",children:"Update user's personal information"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:g,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter full name"})]}),f.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),f.name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"username",value:x.username,onChange:g,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.username?"border-red-300":"border-gray-300"}`,placeholder:"Enter username"})]}),f.username&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),f.username]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:g,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter email address"})]}),f.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),f.email]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"tel",value:x.tel,onChange:g,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.tel?"border-red-300":"border-gray-300"}`,placeholder:"Enter phone number"})]}),f.tel&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),f.tel]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"dob",value:x.dob,onChange:g,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{name:"address",value:x.address,onChange:g,rows:3,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter address"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"checkbox",id:"changePassword",name:"changePassword",checked:x.changePassword,onChange:g,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"changePassword",className:"ml-2 block text-sm font-medium text-gray-700",children:"Change Password"})]}),x.changePassword&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:d?"text":"password",name:"password",value:x.password,onChange:g,className:`block w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter new password"}),e.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:d?e.jsx(js,{size:16}):e.jsx(Oe,{size:16})})]}),f.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),f.password]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:m?"text":"password",name:"confirmPassword",value:x.confirmPassword,onChange:g,className:`block w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm new password"}),e.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:m?e.jsx(js,{size:16}):e.jsx(Oe,{size:16})})]}),f.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),f.confirmPassword]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Je,{className:"h-5 w-5 mr-2"}),"Current Roles"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.roles.map((C,k)=>e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-medium rounded-full ${C.name==="ADMIN"?"bg-purple-100 text-purple-800":C.name==="HOST"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),C.name==="ADMIN"?"Administrator":C.name==="HOST"?"Hotel Owner":"User"]},k))}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"To change roles, please contact a higher-level administrator."})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Je,{className:"h-5 w-5 mr-2"}),"Account Status"]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Activate Account"}),e.jsx("p",{className:"text-sm text-gray-500",children:x.active?"Account is active and can login normally":"Account is disabled and cannot login"})]}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("button",{type:"button",onClick:()=>b(C=>({...C,active:!C.active})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${x.active?"bg-green-600":"bg-gray-200"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${x.active?"translate-x-5":"translate-x-0"}`})}),e.jsx("span",{className:`ml-3 text-sm font-medium ${x.active?"text-green-600":"text-gray-400"}`,children:x.active?"Active":"Inactive"})]})]}),!x.active&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"Disabling the account will prevent users from logging into the system. They will not be able to access any features until the account is reactivated."})})]})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(kx,{className:"h-5 w-5 mr-2"}),"Email Verification Status"]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Verified"}),e.jsx("p",{className:"text-sm text-gray-500",children:x.emailVerified?"User email has been verified and can receive notifications":"Email not verified, user may not receive notifications"})]}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("button",{type:"button",onClick:()=>b(C=>({...C,emailVerified:!C.emailVerified})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${x.emailVerified?"bg-green-600":"bg-gray-200"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${x.emailVerified?"translate-x-5":"translate-x-0"}`})}),e.jsx("span",{className:`ml-3 text-sm font-medium ${x.emailVerified?"text-green-600":"text-gray-400"}`,children:x.emailVerified?"Verified":"Unverified"})]})]}),x.emailVerified!==(n==null?void 0:n.emailVerified)&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Change Verification Status"}),e.jsx("div",{className:"mt-2 text-sm text-blue-700",children:e.jsxs("p",{children:["You are ",x.emailVerified?"marking email as verified":"unverifying email",". This change will take effect after saving."]})})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:w,disabled:o,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center disabled:opacity-50",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})]}):e.jsxs("div",{className:"w-full text-center py-12",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"User Not Found"}),e.jsx("button",{onClick:()=>s("/admin/users"),className:"text-blue-600 hover:text-blue-800",children:"Back to user list"})]})},bj=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState(!1),[a,l]=h.useState(!1),[i,o]=h.useState(!1),[c,d]=h.useState({name:"",username:"",email:"",password:"",confirmPassword:"",tel:"",address:"",dob:"",role:"USER"}),[u,m]=h.useState({}),p=N=>{const{name:g,value:y}=N.target;d(j=>({...j,[g]:y})),u[g]&&m(j=>({...j,[g]:""}))},x=()=>{const N={};return c.name.trim()||(N.name="Full name is required"),c.username.trim()?c.username.length<3&&(N.username="Username must be at least 3 characters"):N.username="Username is required",c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(N.email="Invalid email format"):N.email="Email is required",c.password?c.password.length<8&&(N.password="Password must be at least 8 characters"):N.password="Password is required",c.password!==c.confirmPassword&&(N.confirmPassword="Password confirmation does not match"),c.tel&&c.tel.trim()&&(/^[0-9]{10,11}$/.test(c.tel.replace(/\s/g,""))||(N.tel="Invalid phone number (10-11 digits)")),m(N),Object.keys(N).length===0},b=async N=>{var g,y;if(N.preventDefault(),!!x()){n(!0);try{const j={name:c.name,username:c.username,email:c.email,password:c.password},w=await tr.register(j);w.data.success?(s("success","Success","New user has been created successfully!"),t("/admin/users")):s("error","Error",w.data.message||"An error occurred while creating user")}catch(j){console.error("Create user error:",j);const w=((y=(g=j.response)==null?void 0:g.data)==null?void 0:y.message)||"An error occurred while creating new user";s("error","Error",w)}finally{n(!1)}}},f=()=>{t("/admin/users")},v=()=>{const N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let g="";for(let y=0;y<12;y++)g+=N.charAt(Math.floor(Math.random()*N.length));d(y=>({...y,password:g,confirmPassword:g})),l(!0),o(!0)};return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>t("/admin/users"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ye,{size:20,className:"mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Add New User"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new user account in the system"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-6 pb-6 border-b border-gray-200",children:[e.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:e.jsx(ob,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New User Information"}),e.jsx("p",{className:"text-gray-600",children:"Enter complete information to create new account"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",value:c.name,onChange:p,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter full name"})]}),u.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),u.name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"username",value:c.username,onChange:p,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.username?"border-red-300":"border-gray-300"}`,placeholder:"Enter username"})]}),u.username&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),u.username]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:c.email,onChange:p,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter email address"})]}),u.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),u.email]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"tel",value:c.tel,onChange:p,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.tel?"border-red-300":"border-gray-300"}`,placeholder:"Enter phone number"})]}),u.tel&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),u.tel]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"dob",value:c.dob,onChange:p,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsxs("select",{name:"role",value:c.role,onChange:p,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"USER",children:"User"}),e.jsx("option",{value:"HOST",children:"Hotel Owner"}),e.jsx("option",{value:"ADMIN",children:"Administrator"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{name:"address",value:c.address,onChange:p,rows:3,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter address"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Password"}),e.jsx("button",{type:"button",onClick:v,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Generate password automatically"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"password",value:c.password,onChange:p,className:`block w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter password"}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:a?e.jsx(js,{size:16}):e.jsx(Oe,{size:16})})]}),u.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),u.password]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:p,className:`block w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm password"}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:i?e.jsx(js,{size:16}):e.jsx(Oe,{size:16})})]}),u.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),u.confirmPassword]})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Password requirements:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• At least 8 characters"}),e.jsx("li",{children:"• Should include uppercase, lowercase, numbers and special characters"}),e.jsx("li",{children:"• Don't use easily guessable personal information"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:f,disabled:r,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center disabled:opacity-50",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-4 w-4 mr-2"}),"Create User"]})})]})]})})]})},jj=()=>{const t=le(),[s,r]=h.useState(""),[n,a]=h.useState("all"),[l,i]=h.useState(0),[o,c]=h.useState([]),[d,u]=h.useState(!1),[m,p]=h.useState(null),[x,b]=h.useState({reviews:[],loading:!0,error:null,totalReviews:0,currentPage:0,totalPages:0}),f=10,v=async(T=0)=>{try{b(U=>({...U,loading:!0,error:null}));let E;if(s.trim())E=await Wt.searchReviews(s.trim(),T,f,"createdAt");else{const U={pageNumber:T,pageSize:f,sortBy:"createdAt"};n!=="all"&&(n==="low"?U.rating=null:U.rating=parseInt(n)),E=await Wt.getAllReviewsWithFilters(U)}const I=E.data.result;b(U=>({...U,reviews:I.content||[],totalReviews:I.totalElements||0,currentPage:I.pageNumber||0,totalPages:I.totalPages||0,loading:!1}))}catch(E){console.error("Error fetching reviews:",E),b(I=>({...I,loading:!1,error:"An error occurred while loading the review list"}))}};h.useEffect(()=>{v(0),i(0)},[s,n]),h.useEffect(()=>{v(l)},[l]);const N=T=>new Date(T).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),g=()=>{c(d?[]:x.reviews.map(T=>T.id)),u(!d)},y=T=>{o.includes(T)?c(o.filter(E=>E!==T)):c([...o,T])},j=T=>{t(`/admin/hotels/${T}`)},w=T=>{t(`/admin/users/${T}`)},C=async T=>{if(window.confirm("Are you sure you want to delete this review? This action cannot be undone."))try{p(T),await Wt.deleteReview(T),await v(l),alert("Review deleted successfully!")}catch(E){console.error("Error deleting review:",E),alert("An error occurred while deleting the review")}finally{p(null)}},k=async T=>{if(o.length===0)return;const E="delete";if(window.confirm(`Are you sure you want to ${E} ${o.length} selected reviews?`))try{p("bulk");const I=o.map(U=>Wt.deleteReview(U));await Promise.all(I),await v(l),c([]),u(!1),alert(`Successfully ${E}d ${o.length} reviews!`)}catch(I){console.error(`Error performing bulk ${T}:`,I),alert(`An error occurred while ${T}ing reviews`)}finally{p(null)}},S=T=>Array(5).fill(0).map((E,I)=>e.jsx(pe,{size:16,className:`${I<T?"text-yellow-400 fill-current":"text-gray-300"}`},I)),P=T=>{i(T)},R=()=>{v(l)};return x.loading&&x.reviews.length===0?e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Review Management"}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:R,disabled:x.loading,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[e.jsx(Qe,{className:`h-4 w-4 mr-2 ${x.loading?"animate-spin":""}`}),"Refresh"]})})]}),x.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-700",children:x.error})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search by review content...",value:s,onChange:T=>r(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:n,onChange:T=>a(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Reviews"}),e.jsx("option",{value:"5",children:"5 Stars"}),e.jsx("option",{value:"4",children:"4 Stars"}),e.jsx("option",{value:"3",children:"3 Stars"}),e.jsx("option",{value:"2",children:"2 Stars"}),e.jsx("option",{value:"1",children:"1 Star"}),e.jsx("option",{value:"low",children:"Low Rating (≤ 3 stars)"})]})]})})]})}),o.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex justify-between items-center",children:[e.jsxs("span",{className:"text-blue-700",children:["Selected ",o.length," reviews"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>k("delete"),disabled:m!==null,className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:16,className:"mr-1"}),"Delete Selected"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[x.reviews.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Rr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),e.jsx("p",{className:"text-gray-600",children:s||n!=="all"?"Try changing the filters to see different results":"No reviews in the system yet"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:d,onChange:g,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hotel"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviewer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.reviews.map(T=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:o.includes(T.id),onChange:()=>y(T.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("div",{className:"flex mr-2",children:S(T.rating)})}),e.jsx("p",{className:"text-sm text-gray-900",children:T.comment||e.jsx("em",{className:"text-gray-500",children:"No comment"})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>j(T.hotelId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(et,{size:14,className:"mr-1"}),T.hotelName||"N/A"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>w(T.userId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(He,{size:14,className:"mr-1"}),T.userName||"N/A"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 mr-1 text-gray-500"}),N(T.createdAt)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsx("button",{onClick:()=>C(T.id),disabled:m===T.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Delete",children:e.jsx(tt,{size:18})})})})]},T.id))})]})}),x.totalPages>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>P(Math.max(0,l-1)),disabled:l===0||x.loading,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${l===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e.jsx("button",{onClick:()=>P(Math.min(x.totalPages-1,l+1)),disabled:l>=x.totalPages-1||x.loading,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${l>=x.totalPages-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:l*f+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((l+1)*f,x.totalReviews)})," ","of ",e.jsx("span",{className:"font-medium",children:x.totalReviews})," reviews"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>P(Math.max(0,l-1)),disabled:l===0||x.loading,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${l===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Previous"}),Array.from({length:Math.min(5,x.totalPages)},(T,E)=>{const I=Math.max(0,Math.min(l-2,x.totalPages-5))+E,U=I===l;return e.jsx("button",{onClick:()=>P(I),disabled:x.loading,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${U?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I+1},I)}),e.jsx("button",{onClick:()=>P(Math.min(x.totalPages-1,l+1)),disabled:l>=x.totalPages-1||x.loading,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${l>=x.totalPages-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Next"})]})})]})]})]})]})},Nj=()=>{const[t,s]=h.useState({siteName:"FBooking",siteDescription:"Leading hotel booking platform in Vietnam",contactEmail:"admin@fbooking.com",supportPhone:"1900-1234",maintenanceMode:!1,emailNotifications:!0,smsNotifications:!1,autoApproveBookings:!1,requireEmailVerification:!0,maxBookingDays:30,cancellationDeadline:24,commissionRate:10,currency:"VND",timezone:"Asia/Ho_Chi_Minh",language:"vi"}),r=(a,l)=>{s(i=>({...i,[a]:l}))},n=()=>{alert("Cài đặt đã được lưu thành công!")};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Cài đặt hệ thống"}),e.jsxs("button",{onClick:n,className:"bg-blue-600 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center w-full sm:w-auto",children:[e.jsx(nt,{className:"mr-2",size:20}),"Lưu cài đặt"]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ql,{className:"mr-3 text-blue-600",size:24}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Cài đặt chung"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên website"}),e.jsx("input",{type:"text",value:t.siteName,onChange:a=>r("siteName",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả website"}),e.jsx("textarea",{value:t.siteDescription,onChange:a=>r("siteDescription",a.target.value),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base resize-y"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email liên hệ"}),e.jsx("input",{type:"email",value:t.contactEmail,onChange:a=>r("contactEmail",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại hỗ trợ"}),e.jsx("input",{type:"text",value:t.supportPhone,onChange:a=>r("supportPhone",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Xy,{className:"mr-3 text-green-600",size:24}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Cài đặt hệ thống"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Chế độ bảo trì"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.maintenanceMode,onChange:a=>r("maintenanceMode",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto-approve bookings"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.autoApproveBookings,onChange:a=>r("autoApproveBookings",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Yêu cầu xác thực email"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.requireEmailVerification,onChange:a=>r("requireEmailVerification",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum booking days"}),e.jsx("input",{type:"number",value:t.maxBookingDays,onChange:a=>r("maxBookingDays",parseInt(a.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking cancellation deadline (hours)"}),e.jsx("input",{type:"number",value:t.cancellationDeadline,onChange:a=>r("cancellationDeadline",parseInt(a.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ky,{className:"mr-3 text-yellow-600",size:24}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Cài đặt thông báo"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Thông báo email"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:a=>r("emailNotifications",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Thông báo SMS"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.smsNotifications,onChange:a=>r("smsNotifications",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Je,{className:"mr-3 text-purple-600",size:24}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Cài đặt kinh doanh"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tỷ lệ hoa hồng (%)"}),e.jsx("input",{type:"number",value:t.commissionRate,onChange:a=>r("commissionRate",parseInt(a.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đơn vị tiền tệ"}),e.jsxs("select",{value:t.currency,onChange:a=>r("currency",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"VND",children:"VND - Việt Nam Đồng"}),e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Múi giờ"}),e.jsxs("select",{value:t.timezone,onChange:a=>r("timezone",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"Asia/Ho_Chi_Minh"}),e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"Asia/Bangkok",children:"Asia/Bangkok"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngôn ngữ mặc định"}),e.jsxs("select",{value:t.language,onChange:a=>r("language",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"vi",children:"Tiếng Việt"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"zh",children:"中文"})]})]})]})]})]})]})},vj=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState({totalHotels:0,activeHotels:0,totalRoomTypes:0,totalBookings:0,monthlyRevenue:0,averageRating:0,occupancyRate:0,totalReviews:0,pendingBookings:0,confirmedBookings:0}),[a,l]=h.useState(!0),[i,o]=h.useState(!1),c=async()=>{try{l(!0);try{const b=await jx.getDashboard();if(b.data.success){n(b.data.result);return}}catch{console.log("Full dashboard API not available, fetching individual stats...")}const[p,x]=await Promise.all([me.getMyHotelsCount().catch(()=>({data:{result:0}})),me.getMyActiveHotelsCount().catch(()=>({data:{result:0}}))]);n(b=>({...b,totalHotels:p.data.result||0,activeHotels:x.data.result||0,totalBookings:0,monthlyRevenue:0,averageRating:0,occupancyRate:0,totalReviews:0,pendingBookings:0,confirmedBookings:0}))}catch(p){console.error("Error fetching dashboard data:",p),s("error","Lỗi","Không thể tải dữ liệu dashboard")}finally{l(!1),o(!1)}},d=async()=>{o(!0),await c()};h.useEffect(()=>{c()},[]);const u=p=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p),m=[{label:"Tổng khách sạn",value:r.totalHotels.toString(),icon:et,color:"blue",trend:r.totalHotels>0?"+100%":"0%"},{label:"Đặt phòng tháng này",value:r.totalBookings.toString(),icon:ds,color:"green",trend:r.totalBookings>0?"+8.2%":"0%"},{label:"Doanh thu tháng này",value:u(r.monthlyRevenue),icon:Se,color:"yellow",trend:r.monthlyRevenue>0?"+12.5%":"0%"},{label:"Đánh giá trung bình",value:r.averageRating>0?r.averageRating.toFixed(1):"0.0",icon:pe,color:"purple",trend:r.averageRating>0?"+0.2":"0%"}];return a?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Quản lý"}),e.jsxs("button",{onClick:d,disabled:i,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(Qe,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Làm mới"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:m.map((p,x)=>{const b=p.icon;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:p.label}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-gray-900",children:p.value})]}),e.jsx("div",{className:`p-3 rounded-full ${p.color==="blue"?"bg-blue-100":p.color==="green"?"bg-green-100":p.color==="yellow"?"bg-yellow-100":"bg-purple-100"}`,children:e.jsx(b,{className:`h-6 w-6 ${p.color==="blue"?"text-blue-600":p.color==="green"?"text-green-600":p.color==="yellow"?"text-yellow-600":"text-purple-600"}`})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(xr,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:p.trend}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so với tháng trước"})]})]},x)})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Trạng thái khách sạn"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Đang hoạt động"}),e.jsx("span",{className:"text-green-600 font-medium",children:r.activeHotels})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tạm ngừng"}),e.jsx("span",{className:"text-red-600 font-medium",children:r.totalHotels-r.activeHotels})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tổng loại phòng"}),e.jsx("span",{className:"text-blue-600 font-medium",children:r.totalRoomTypes})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Đặt phòng"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Chờ xác nhận"}),e.jsx("span",{className:"text-yellow-600 font-medium",children:r.pendingBookings})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Đã xác nhận"}),e.jsx("span",{className:"text-green-600 font-medium",children:r.confirmedBookings})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tỷ lệ lấp đầy"}),e.jsxs("span",{className:"text-blue-600 font-medium",children:[r.occupancyRate,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Đánh giá"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tổng đánh giá"}),e.jsx("span",{className:"text-gray-900 font-medium",children:r.totalReviews})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Điểm trung bình"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 text-yellow-400 mr-1"}),e.jsx("span",{className:"text-gray-900 font-medium",children:r.averageRating>0?r.averageRating.toFixed(1):"0.0"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Ei,{title:"Quản lý khách sạn",description:"Quản lý danh sách và thông tin khách sạn",icon:e.jsx(et,{className:"h-6 w-6"}),onClick:()=>t("/host/hotels"),stats:`${r.totalHotels} khách sạn`}),e.jsx(Ei,{title:"Quản lý đặt phòng",description:"Xem và quản lý đơn đặt phòng từ khách",icon:e.jsx(ds,{className:"h-6 w-6"}),onClick:()=>t("/host/bookings"),stats:`${r.totalBookings} đặt phòng`}),e.jsx(Ei,{title:"Thống kê doanh thu",description:"Theo dõi thu nhập và hiệu suất kinh doanh",icon:e.jsx(Se,{className:"h-6 w-6"}),onClick:()=>t("/host/analytics"),stats:u(r.monthlyRevenue)})]})]})})},Ei=({title:t,description:s,icon:r,onClick:n,stats:a})=>e.jsxs("button",{onClick:n,className:"bg-white rounded-lg shadow-md p-6 text-left transition-all hover:shadow-lg hover:scale-105 group",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4 group-hover:bg-blue-200 transition-colors",children:r}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),a&&e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:a})]})]}),e.jsx("p",{className:"text-gray-600",children:s})]}),wj=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState(0),[p,x]=h.useState(0),[b,f]=h.useState(0),v=12,[N,g]=h.useState("all"),[y,j]=h.useState(""),w=async(_=0)=>{try{l(_===0);const z={pageNumber:_,pageSize:v,sortBy:"updatedAt",...N!=="all"&&{isActive:N==="active"}},Y=await me.getMyHotelsWithFilters(z);if(Y.data.success){const W=Y.data.result;n(W.content),x(W.totalPages),f(W.totalElements),m(W.number)}}catch(z){console.error("Error fetching hotels:",z),s("error","Lỗi","Không thể tải danh sách khách sạn")}finally{l(!1),o(!1)}},C=async()=>{o(!0),await w(u)},k=()=>{t("/host/hotels/add")},S=_=>{t(`/host/hotels/edit/${_}`)},P=_=>{t(`/host/hotels/${_}`)},R=async(_,z)=>{var Y,W;if(window.confirm(`Bạn có chắc chắn muốn xóa khách sạn "${z}" không?`))try{d(_),await me.deleteMyHotel(_),s("success","Thành công","Khách sạn đã được xóa"),await w(u)}catch(O){console.error("Error deleting hotel:",O);const A=((W=(Y=O.response)==null?void 0:Y.data)==null?void 0:W.message)||"Có lỗi xảy ra khi xóa khách sạn";s("error","Lỗi",A)}finally{d(null)}},T=async(_,z,Y)=>{var W,O;try{d(_),await me.toggleMyHotelStatus(_),s("success","Thành công",`Khách sạn "${z}" đã được ${Y?"tạm ngừng":"kích hoạt"}`),await w(u)}catch(A){console.error("Error toggling hotel status:",A);const F=((O=(W=A.response)==null?void 0:W.data)==null?void 0:O.message)||"Có lỗi xảy ra khi thay đổi trạng thái";s("error","Lỗi",F)}finally{d(null)}},E=_=>{m(_),w(_)},I=_=>{g(_),m(0)};h.useEffect(()=>{w(0)},[N]);const U=r.filter(_=>y===""||_.name.toLowerCase().includes(y.toLowerCase())||_.city&&_.city.toLowerCase().includes(y.toLowerCase())||_.address&&_.address.toLowerCase().includes(y.toLowerCase())),K=_=>_?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đang hoạt động"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Tạm ngừng"}),q=_=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_);return a?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý khách sạn"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Tổng ",b," khách sạn"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:C,disabled:i,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(Qe,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Làm mới"]}),e.jsxs("button",{onClick:k,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Thêm khách sạn mới"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Tìm kiếm theo tên, địa điểm...",value:y,onChange:_=>j(_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Trạng thái:"}),e.jsxs("select",{value:N,onChange:_=>I(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tất cả"}),e.jsx("option",{value:"active",children:"Đang hoạt động"}),e.jsx("option",{value:"inactive",children:"Tạm ngừng"})]})]})]})}),U.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx(et,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa có khách sạn nào"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Bắt đầu bằng cách thêm khách sạn đầu tiên của bạn"}),e.jsx("button",{onClick:k,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Thêm khách sạn mới"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:U.map(_=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:_.imageUrl||"https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg",alt:_.name,className:"w-full h-48 object-cover",onError:z=>{z.target.src="https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg"}}),e.jsx("div",{className:"absolute top-4 right-4",children:K(_.active)})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1 line-clamp-1",children:_.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[e.jsx(Be,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:_.city||_.address})]}),_.averageRating&&_.averageRating>0&&e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"flex mr-2",children:Array(5).fill(0).map((z,Y)=>e.jsx(pe,{className:`h-4 w-4 ${Y<Math.floor(_.averageRating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},Y))}),e.jsxs("span",{className:"text-gray-700",children:[_.averageRating.toFixed(1)," (",_.totalReviews," đánh giá)"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-gray-600 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[_.totalRoomTypes||0," loại phòng"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[_.totalRooms||0," phòng"]})]})]}),_.pricePerNight&&e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:q(_.pricePerNight)}),e.jsx("span",{className:"text-gray-600",children:"/đêm"})]}),_.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:_.description}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>P(_.id),className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-1"}),"Xem"]}),e.jsxs("button",{onClick:()=>S(_.id),className:"flex-1 bg-blue-100 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center",children:[e.jsx(Fe,{className:"h-4 w-4 mr-1"}),"Sửa"]}),e.jsx("button",{onClick:()=>T(_.id,_.name,_.active),disabled:c===_.id,className:`px-3 py-2 rounded-lg transition-colors flex items-center justify-center ${_.active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"} disabled:opacity-50`,children:c===_.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):_.active?e.jsx($c,{className:"h-4 w-4"}):e.jsx(Uc,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>R(_.id,_.name),disabled:c===_.id,className:"bg-red-100 text-red-700 px-3 py-2 rounded-lg hover:bg-red-200 transition-colors flex items-center justify-center disabled:opacity-50",children:e.jsx(tt,{className:"h-4 w-4"})})]})]})]},_.id))}),p>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[e.jsx("button",{onClick:()=>E(u-1),disabled:u===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),Array.from({length:p},(_,z)=>e.jsx("button",{onClick:()=>E(z),className:`px-4 py-2 border rounded-lg ${u===z?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:z+1},z)),e.jsx("button",{onClick:()=>E(u+1),disabled:u===p-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})},kj=({isOpen:t,onClose:s,onConfirm:r,booking:n,loading:a=!1})=>{const l=async()=>{await r()},i=()=>{a||s()},o=d=>new Date(d).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d);return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(kt,{className:"h-6 w-6 text-green-500 mr-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Booking"})]}),e.jsx("button",{onClick:i,disabled:a,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:e.jsx(ve,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to confirm this booking?"}),n&&e.jsxs("div",{className:"space-y-4 mb-6 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Booking Reference"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n.bookingReference})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Guest Name"}),e.jsx("span",{className:"text-sm text-gray-900",children:n.guestName})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),"Check-in"]}),e.jsx("span",{className:"text-sm text-gray-900 text-right",children:o(n.checkInDate)})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(ge,{className:"h-4 w-4 mr-1"}),"Check-out"]}),e.jsx("span",{className:"text-sm text-gray-900 text-right",children:o(n.checkOutDate)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),"Guests"]}),e.jsx("span",{className:"text-sm text-gray-900",children:n.guests})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(Se,{className:"h-4 w-4 mr-1"}),"Total Amount"]}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:c(n.totalAmount)})]}),n.specialRequests&&e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Special Requests"}),e.jsx("p",{className:"text-sm text-gray-700 italic",children:n.specialRequests})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(kt,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsx("p",{className:"font-medium mb-1",children:"Confirmation Action"}),e.jsx("p",{children:"By confirming this booking, you commit to providing the reserved accommodation and services as agreed."})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[e.jsx("button",{onClick:i,disabled:a,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Confirming..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Confirm Booking"]})})]})]})}):null},Cj=()=>{var se,oe,Re;const t=le(),{showToast:s}=Ce(),[r,n]=h.useState("all"),[a,l]=h.useState(""),[i,o]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(!1),[p,x]=h.useState(null),[b,f]=h.useState(0),[v,N]=h.useState(0),[g,y]=h.useState(0),j=10,[w,C]=h.useState({isOpen:!1}),[k,S]=h.useState({isOpen:!1}),P=async(Q=0)=>{try{d(Q===0);const D={pageNumber:Q,pageSize:j,sortBy:"createdAt"};if(r!=="all"){const V={pending:"PENDING",confirmed:"CONFIRMED",cancelled:"CANCELLED",completed:"COMPLETED"};D.status=V[r]}const J=await Ne.getHostBookings(D);if(J.data.success){const{content:V,totalElements:re,totalPages:G,number:be}=J.data.result;o(V||[]),y(re||0),N(G||0),f(be||0)}else throw new Error(J.data.message||"Cannot load booking list")}catch(D){console.error("Error fetching bookings:",D),o([]),N(0),y(0),f(0),s("info","Notice","No bookings available or service temporarily unavailable")}finally{d(!1),m(!1)}},R=async()=>{m(!0),await P(b)};h.useEffect(()=>{P(0)},[r]);const T=Q=>new Date(Q).toLocaleDateString("vi-VN"),E=Q=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Q),I=Q=>e.jsx(gn,{status:Q,size:"sm"}),U=Q=>e.jsx(pn,{status:Q,size:"sm"}),K=i.filter(Q=>{const D=Q.guestName.toLowerCase().includes(a.toLowerCase())||Q.hotelName.toLowerCase().includes(a.toLowerCase())||Q.id.toLowerCase().includes(a.toLowerCase())||Q.bookingReference&&Q.bookingReference.toLowerCase().includes(a.toLowerCase());if(r==="cancelled"){const J=Q.status==="CANCELLED"||Q.status==="CANCELLED_BY_GUEST"||Q.status==="CANCELLED_BY_HOST";return D&&J}return r==="refund_pending"?D&&Q.paymentStatus==="REFUND_PENDING":D}),q=Q=>{t(`/host/bookings/${Q}`)},_=Q=>{C({isOpen:!0,booking:Q})},z=async()=>{if(w.booking)try{x(w.booking.id);const Q=await Ne.confirmBooking(w.booking.id);if(Q.data.success)s("success","Booking Confirmed","The booking has been confirmed successfully"),await P(b),C({isOpen:!1});else throw new Error(Q.data.message||"Cannot confirm booking")}catch(Q){console.error("Error confirming booking:",Q),s("error","Confirmation Failed",Q.message||"Cannot confirm booking")}finally{x(null)}},Y=Q=>{S({isOpen:!0,booking:Q})},W=async Q=>{if(k.booking)try{x(k.booking.id);const D=await Ne.cancelBooking(k.booking.id,Q||"Cancelled by hotel owner");if(D.data.success)s("success","Booking Cancelled","The booking has been cancelled successfully"),await P(b),S({isOpen:!1});else throw new Error(D.data.message||"Cannot cancel booking")}catch(D){console.error("Error cancelling booking:",D),s("error","Cancellation Failed",D.message||"Cannot cancel booking")}finally{x(null)}},O=async Q=>{try{x(Q);const D=await Ne.completeBooking(Q);if(D.data.success)s("success","Booking Completed","The booking has been marked as completed"),await P(b);else throw new Error(D.data.message||"Cannot complete booking")}catch(D){console.error("Error completing booking:",D),s("error","Completion Failed",D.message||"Cannot complete booking")}finally{x(null)}},A=async Q=>{try{x(Q);const D=await Ne.confirmPayment(Q);if(D.data.success)s("success","Payment Confirmed","The payment has been confirmed successfully"),await P(b);else throw new Error(D.data.message||"Cannot confirm payment")}catch(D){console.error("Error confirming payment:",D),s("error","Payment Confirmation Failed",D.message||"Cannot confirm payment")}finally{x(null)}},F=Q=>{t(`/host/bookings/${Q}`)},B=Q=>{Q>=0&&Q<v&&P(Q)};return c?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsxs("div",{className:"min-h-screen bg-gray-100 pt-20",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Management"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Total ",g," bookings"]})]}),e.jsxs("button",{onClick:R,disabled:u,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(Qe,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>n("all"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"All"}),e.jsx("button",{onClick:()=>n("pending"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="pending"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pending"}),e.jsx("button",{onClick:()=>n("confirmed"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="confirmed"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Confirmed"}),e.jsx("button",{onClick:()=>n("completed"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="completed"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Completed"}),e.jsx("button",{onClick:()=>n("cancelled"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="cancelled"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Cancelled"}),e.jsx("button",{onClick:()=>n("refund_pending"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="refund_pending"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Refund Pending"})]})})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Search by guest name, booking code, hotel...",value:a,onChange:Q=>l(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),K.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx(ds,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i.length===0?"No bookings yet":"No bookings found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i.length===0?"Customer bookings will appear here":"Try changing filters or search keywords"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Info"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stay Dates"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(Q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-600",children:Q.bookingReference||Q.id}),e.jsx("div",{className:"text-sm text-gray-900",children:Q.hotelName}),e.jsx("div",{className:"text-sm text-gray-500",children:Q.roomTypeName}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(He,{className:"h-3 w-3 mr-1"}),Q.guests," guests"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.guestName}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),Q.guestEmail]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),Q.guestPhone]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Check-in: ",T(Q.checkInDate)]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Check-out: ",T(Q.checkOutDate)]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E(Q.totalAmount)}),e.jsx("div",{className:"mt-1",children:U(Q.paymentStatus)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I(Q.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>q(Q.id),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-full",title:"View Details",children:e.jsx(Oe,{className:"h-4 w-4"})}),Q.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>_(Q),disabled:p===Q.id,className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full disabled:opacity-50",title:"Confirm",children:p===Q.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):e.jsx(We,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Y(Q),disabled:p===Q.id,className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full disabled:opacity-50",title:"Cancel",children:e.jsx(ve,{className:"h-4 w-4"})})]}),Q.status==="CONFIRMED"&&e.jsx("button",{onClick:()=>O(Q.id),disabled:p===Q.id,className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-full disabled:opacity-50",title:"Complete",children:p===Q.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):e.jsx(Pe,{className:"h-4 w-4"})}),Q.status==="CONFIRMED"&&e.jsx("button",{onClick:()=>F(Q.id),className:"text-orange-600 hover:text-orange-900 p-2 hover:bg-orange-50 rounded-full",title:"Process Cancellation Request",children:e.jsx(As,{className:"h-4 w-4"})}),Q.paymentStatus==="REFUND_PENDING"&&e.jsx("button",{onClick:()=>F(Q.id),className:"text-purple-600 hover:text-purple-900 p-2 hover:bg-purple-50 rounded-full",title:"Process Refund",children:e.jsx(As,{className:"h-4 w-4"})}),Q.paymentStatus==="PENDING"&&e.jsx("button",{onClick:()=>A(Q.id),disabled:p===Q.id,className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full disabled:opacity-50",title:"Confirm Payment",children:p===Q.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):e.jsx(Se,{className:"h-4 w-4"})})]})})]},Q.id))})]})})}),v>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[e.jsx("button",{onClick:()=>B(b-1),disabled:b===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:v},(Q,D)=>e.jsx("button",{onClick:()=>B(D),className:`px-4 py-2 border rounded-lg ${b===D?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:D+1},D)),e.jsx("button",{onClick:()=>B(b+1),disabled:b===v-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx(kj,{isOpen:w.isOpen,onClose:()=>C({isOpen:!1}),onConfirm:z,booking:w.booking,loading:p===((se=w.booking)==null?void 0:se.id)}),e.jsx(Ex,{isOpen:k.isOpen,onClose:()=>S({isOpen:!1}),onConfirm:W,bookingReference:(oe=k.booking)==null?void 0:oe.bookingReference,loading:p===((Re=k.booking)==null?void 0:Re.id)})]})},Sj=()=>{const{id:t}=ot(),s=le(),{showToast:r}=Ce(),[n,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(null),[d,u]=h.useState(!1);h.useEffect(()=>{t&&m(t)},[t]);const m=async g=>{try{i(!0);const y=await Ne.getHostBookingById(g);if(y.data.success)a(y.data.result);else throw new Error(y.data.message||"Không thể tải thông tin đặt phòng")}catch(y){console.error("Error fetching booking detail:",y),r("error","Lỗi",y.message||"Không thể tải thông tin đặt phòng"),s("/host/bookings")}finally{i(!1)}},p=g=>new Date(g).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),x=g=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g),b=async()=>{if(!(!n||!t))try{c("confirm");const g=await Ne.confirmBooking(t);if(g.data.success)r("success","Thành công","Đặt phòng đã được xác nhận"),await m(t);else throw new Error(g.data.message||"Không thể xác nhận đặt phòng")}catch(g){console.error("Error confirming booking:",g),r("error","Lỗi",g.message||"Không thể xác nhận đặt phòng")}finally{c(null)}},f=async()=>{if(!(!n||!t)&&window.confirm("Bạn có chắc chắn muốn hủy đặt phòng này không?"))try{c("cancel");const g=await Ne.cancelBooking(t,"Hủy bởi chủ khách sạn");if(g.data.success)r("success","Thành công","Đặt phòng đã được hủy"),await m(t);else throw new Error(g.data.message||"Không thể hủy đặt phòng")}catch(g){console.error("Error cancelling booking:",g),r("error","Lỗi",g.message||"Không thể hủy đặt phòng")}finally{c(null)}},v=async()=>{if(!(!n||!t))try{c("complete");const g=await Ne.completeBooking(t);if(g.data.success)r("success","Thành công","Đặt phòng đã được đánh dấu hoàn thành"),await m(t);else throw new Error(g.data.message||"Không thể hoàn thành đặt phòng")}catch(g){console.error("Error completing booking:",g),r("error","Lỗi",g.message||"Không thể hoàn thành đặt phòng")}finally{c(null)}},N=()=>{const[g,y]=h.useState("FULL"),[j,w]=h.useState((n==null?void 0:n.totalAmount)||0),[C,k]=h.useState(""),[S,P]=h.useState(!1),R=E=>{if(y(E),!!n)switch(E){case"FULL":w(n.totalAmount);break;case"PARTIAL":w(n.totalAmount*.5);break;case"NO_REFUND":w(0);break}},T=async()=>{var E,I;if(!(!n||!t)){if(!C.trim()){r("error","Lỗi","Vui lòng nhập lý do xử lý");return}P(!0);try{await Ne.processCancellation(t,{refundAmount:j,reason:C,refundPercentage:g==="FULL"?100:g==="PARTIAL"?50:0}),r("success","Thành công","Đã xử lý yêu cầu hủy booking"),u(!1),await m(t)}catch(U){console.error("Error processing cancellation:",U),r("error","Lỗi",((I=(E=U.response)==null?void 0:E.data)==null?void 0:I.message)||"Không thể xử lý yêu cầu hủy")}finally{P(!1)}}};return!d||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Xử lý yêu cầu hủy booking"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ve,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Thông tin booking"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Mã booking:"}),e.jsx("span",{className:"ml-2 font-medium",children:n.bookingReference})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Khách hàng:"}),e.jsx("span",{className:"ml-2 font-medium",children:n.guestName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tổng tiền:"}),e.jsx("span",{className:"ml-2 font-medium text-blue-600",children:x(n.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Ngày nhận phòng:"}),e.jsx("span",{className:"ml-2 font-medium",children:p(n.checkInDate)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Chính sách hoàn tiền"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"refundType",value:"FULL",checked:g==="FULL",onChange:()=>R("FULL"),className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Hoàn tiền đầy đủ"}),e.jsx("span",{className:"text-green-600 font-medium",children:x(n.totalAmount)})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Hoàn lại 100% số tiền đã thanh toán"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"refundType",value:"PARTIAL",checked:g==="PARTIAL",onChange:()=>R("PARTIAL"),className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Hoàn tiền một phần"}),e.jsx("span",{className:"text-orange-600 font-medium",children:x(n.totalAmount*.5)})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Hoàn lại 50% số tiền (giữ lại phí hủy)"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"refundType",value:"NO_REFUND",checked:g==="NO_REFUND",onChange:()=>R("NO_REFUND"),className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Không hoàn tiền"}),e.jsx("span",{className:"text-red-600 font-medium",children:x(0)})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Không hoàn lại số tiền (vi phạm chính sách)"})]})]})]})]}),g==="PARTIAL"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số tiền hoàn lại tùy chỉnh"}),e.jsx("input",{type:"number",min:"0",max:n.totalAmount,step:"1000",value:j,onChange:E=>w(parseFloat(E.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lý do xử lý *"}),e.jsx("textarea",{value:C,onChange:E=>k(E.target.value),rows:3,placeholder:"Nhập lý do xử lý yêu cầu hủy (ví dụ: khách hủy sớm, vi phạm chính sách, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Tóm tắt xử lý"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Trạng thái booking:"}),e.jsx("span",{className:"font-medium text-blue-900",children:"Đã hủy bởi khách"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Số tiền hoàn lại:"}),e.jsx("span",{className:"font-medium text-blue-900",children:x(j)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Trạng thái thanh toán:"}),e.jsx("span",{className:"font-medium text-blue-900",children:g==="FULL"?"Đã hoàn tiền":g==="PARTIAL"?"Hoàn một phần":"Không hoàn tiền"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Hủy"}),e.jsx("button",{onClick:T,disabled:S||!C.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang xử lý..."]}):"Xác nhận xử lý"})]})]})]})})};return l?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):n?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s("/host/bookings"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Quay lại danh sách đặt phòng"]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Chi tiết đặt phòng"}),e.jsxs("p",{className:"text-gray-600",children:["Mã đặt phòng: ",n.bookingReference||n.id]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Đặt ngày: ",p(n.createdAt)]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 mt-4 md:mt-0",children:[e.jsx(gn,{status:n.status,size:"md"}),e.jsx(pn,{status:n.paymentStatus,size:"md"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Thông tin khách hàng"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Tên khách hàng"}),e.jsx("p",{className:"font-medium",children:n.guestName})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:n.guestEmail})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:n.guestPhone})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ke,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[n.guests," khách"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Thông tin khách sạn"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Tên khách sạn"}),e.jsx("p",{className:"font-medium",children:n.hotelName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Loại phòng"}),e.jsx("p",{className:"font-medium",children:n.roomTypeName})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Chi tiết lưu trú"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Ngày nhận phòng"})]}),e.jsx("p",{className:"text-lg",children:p(n.checkInDate)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Ngày trả phòng"})]}),e.jsx("p",{className:"text-lg",children:p(n.checkOutDate)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Số đêm"})]}),e.jsxs("p",{className:"text-lg",children:[Math.ceil((new Date(n.checkOutDate).getTime()-new Date(n.checkInDate).getTime())/(1e3*60*60*24))," đêm"]})]})]})]}),n.specialRequests&&e.jsxs("div",{className:"border-t pt-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Yêu cầu đặc biệt"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:n.specialRequests})})]}),e.jsxs("div",{className:"border-t pt-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Thông tin thanh toán"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.paymentMethod&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Phương thức thanh toán"}),e.jsx("p",{className:"font-medium",children:n.paymentMethod})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Tổng số tiền"}),e.jsx("p",{className:"font-bold text-2xl text-blue-600",children:x(n.totalAmount)})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:b,disabled:o==="confirm",className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[o==="confirm"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(We,{className:"h-4 w-4 mr-2"}),"Xác nhận đặt phòng"]}),e.jsxs("button",{onClick:f,disabled:o==="cancel",className:"flex items-center px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[o==="cancel"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Hủy đặt phòng"]})]}),n.status==="CONFIRMED"&&e.jsxs("button",{onClick:v,disabled:o==="complete",className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[o==="complete"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Hoàn thành đặt phòng"]}),n.status==="CONFIRMED"&&e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Xử lý yêu cầu hủy"]})]})})]})}),e.jsx(N,{})]})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(he,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy đặt phòng"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Đặt phòng này có thể đã bị xóa hoặc không tồn tại"}),e.jsx("button",{onClick:()=>s("/host/bookings"),className:"text-blue-600 hover:text-blue-800",children:"Quay lại danh sách đặt phòng"})]})})})},Pj=()=>{const{showToast:t}=Ce(),[s,r]=h.useState("month"),[n,a]=h.useState("all"),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,u]=h.useState({totalRevenue:0,bookingsCount:0,occupancyRate:0,averageRating:0,totalHotels:0,activeHotels:0,revenueByMonth:[],bookingsBySource:[],recentBookings:[],properties:[]}),m=async()=>{var v;try{i(!0);try{const y=await jx.getDashboard();if(y.data.success){const j=y.data.result,w=((v=j.recentBookings)==null?void 0:v.map(C=>({id:C.id,guestName:C.guestName,date:C.checkInDate,amount:C.totalAmount,property:C.hotelName})))||[];u(C=>({...C,totalRevenue:j.monthlyRevenue||0,bookingsCount:j.totalBookings||0,occupancyRate:j.occupancyRate||0,averageRating:j.averageRating||0,totalHotels:j.totalHotels||0,activeHotels:j.activeHotels||0,revenueByMonth:j.monthlyRevenueData||[],recentBookings:w}));return}}catch{console.log("Full dashboard API not available, fetching individual stats...")}const[N,g]=await Promise.all([me.getMyHotelsCount().catch(()=>({data:{result:0}})),me.getMyActiveHotelsCount().catch(()=>({data:{result:0}}))]);try{const y=await me.getMyHotels(0,100,"name");if(y.data.success){const j=y.data.result.content;u(w=>({...w,properties:j.map(C=>({id:C.id,name:C.name}))}))}}catch(y){console.log("Error fetching hotels list:",y)}u(y=>({...y,totalHotels:N.data.result||0,activeHotels:g.data.result||0,revenueByMonth:[{month:"Tháng 1",revenue:0},{month:"Tháng 2",revenue:0},{month:"Tháng 3",revenue:0},{month:"Tháng 4",revenue:0},{month:"Tháng 5",revenue:0},{month:"Tháng 6",revenue:0},{month:"Tháng 7",revenue:0},{month:"Tháng 8",revenue:0},{month:"Tháng 9",revenue:0},{month:"Tháng 10",revenue:0},{month:"Tháng 11",revenue:0},{month:"Tháng 12",revenue:0}],bookingsBySource:[{source:"Website",count:0},{source:"Mobile App",count:0},{source:"Booking.com",count:0},{source:"Agoda",count:0}],recentBookings:[]}))}catch(N){console.error("Error fetching analytics data:",N),t("error","Lỗi","Không thể tải dữ liệu thống kê")}finally{i(!1),c(!1)}},p=async()=>{c(!0),await m()};h.useEffect(()=>{m()},[]);const x=v=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v),b=v=>new Date(v).toLocaleDateString("vi-VN"),f=Math.max(...d.revenueByMonth.map(v=>v.revenue),1);return l?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Thống kê & Phân tích"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:p,disabled:o,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(Qe,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Làm mới"]}),e.jsxs("select",{value:s,onChange:v=>r(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"week",children:"Tuần này"}),e.jsx("option",{value:"month",children:"Tháng này"}),e.jsx("option",{value:"quarter",children:"Quý này"}),e.jsx("option",{value:"year",children:"Năm này"})]}),e.jsxs("select",{value:n,onChange:v=>a(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tất cả khách sạn"}),d.properties.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Tổng doanh thu"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:x(d.totalRevenue)})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(Se,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(xr,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:"+12.5%"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so với tháng trước"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Số lượng đặt phòng"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:d.bookingsCount})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(ge,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(xr,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:"+8.2%"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so với tháng trước"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Tỷ lệ lấp đầy"}),e.jsxs("h3",{className:"text-2xl font-bold mt-2",children:[d.occupancyRate,"%"]})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:e.jsx(ke,{className:"h-6 w-6 text-purple-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(xr,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:"+5.3%"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so với tháng trước"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Đánh giá trung bình"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:d.averageRating>0?d.averageRating.toFixed(1):"0.0"})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:e.jsx(pe,{className:"h-6 w-6 text-yellow-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(xr,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:"+0.2"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so với tháng trước"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 lg:col-span-2",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(ia,{className:"h-5 w-5 mr-2 text-blue-600"}),"Doanh thu theo tháng"]})}),d.revenueByMonth.every(v=>v.revenue===0)?e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ia,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Chưa có dữ liệu doanh thu"}),e.jsx("p",{className:"text-sm",children:"Dữ liệu sẽ hiển thị khi có đặt phòng"})]})}):e.jsx("div",{className:"h-64",children:e.jsx("div",{className:"flex h-full items-end",children:d.revenueByMonth.map((v,N)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t-sm hover:bg-blue-600 transition-colors",style:{height:`${v.revenue/f*100}%`,maxWidth:"30px",margin:"0 auto",minHeight:v.revenue>0?"4px":"0px"},title:`${v.month}: ${x(v.revenue)}`}),e.jsx("div",{className:"text-xs text-gray-600 mt-2 transform -rotate-45 origin-top-left",children:v.month})]},N))})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Sm,{className:"h-5 w-5 mr-2 text-purple-600"}),"Nguồn đặt phòng"]})}),d.bookingsBySource.every(v=>v.count===0)?e.jsx("div",{className:"flex items-center justify-center text-gray-500 h-48",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Sm,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Chưa có dữ liệu đặt phòng"})]})}):e.jsx("div",{className:"space-y-4",children:d.bookingsBySource.map((v,N)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-gray-700",children:v.source}),e.jsxs("span",{className:"text-gray-900 font-medium",children:[v.count," đặt phòng"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${d.bookingsCount>0?v.count/d.bookingsCount*100:0}%`,backgroundColor:N===0?"#3B82F6":N===1?"#8B5CF6":N===2?"#EC4899":"#F59E0B"}})})]},N))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(vm,{className:"h-5 w-5 mr-2 text-green-600"}),"Đặt phòng gần đây"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Xem tất cả"})]}),d.recentBookings.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(vm,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chưa có đặt phòng nào"}),e.jsx("p",{className:"text-gray-600",children:"Đặt phòng gần đây sẽ hiển thị ở đây"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã đặt phòng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách sạn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số tiền"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.recentBookings.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:v.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.guestName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.property}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(v.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x(v.amount)})]},v.id))})]})})]})]})})},Tj=()=>{const t=le(),[s,r]=h.useState({name:"",type:"hotel",location:"",address:"",description:"",price:0,rooms:1,bathrooms:1,amenities:[],images:[]}),[n,a]=h.useState({}),[l,i]=h.useState(1),o=3,c=[{value:"hotel",label:"Khách sạn"},{value:"resort",label:"Khu nghỉ dưỡng"},{value:"apartment",label:"Căn hộ"},{value:"villa",label:"Biệt thự"},{value:"homestay",label:"Homestay"}],d=[{id:"wifi",label:"Wifi miễn phí"},{id:"pool",label:"Hồ bơi"},{id:"spa",label:"Spa"},{id:"gym",label:"Phòng gym"},{id:"restaurant",label:"Nhà hàng"},{id:"parking",label:"Bãi đỗ xe"},{id:"ac",label:"Điều hòa"},{id:"tv",label:"TV"},{id:"kitchen",label:"Bếp"},{id:"washer",label:"Máy giặt"},{id:"breakfast",label:"Bữa sáng miễn phí"},{id:"workspace",label:"Khu vực làm việc"}],u=["https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg","https://images.pexels.com/photos/1134176/pexels-photo-1134176.jpeg","https://images.pexels.com/photos/261102/pexels-photo-261102.jpeg","https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg","https://images.pexels.com/photos/164595/pexels-photo-164595.jpeg"],m=y=>{const{name:j,value:w}=y.target;r(C=>({...C,[j]:j==="price"||j==="rooms"||j==="bathrooms"?Number(w):w})),n[j]&&a(C=>({...C,[j]:""}))},p=y=>{const{value:j,checked:w}=y.target;r(C=>({...C,amenities:w?[...C.amenities,j]:C.amenities.filter(k=>k!==j)}))},x=()=>{const y=u[Math.floor(Math.random()*u.length)];s.images.includes(y)||r(j=>({...j,images:[...j.images,y]}))},b=y=>{r(j=>({...j,images:j.images.filter((w,C)=>C!==y)}))},f=y=>{const j={};return y===1?(s.name.trim()||(j.name="Vui lòng nhập tên khách sạn"),s.type||(j.type="Vui lòng chọn loại hình lưu trú"),s.location.trim()||(j.location="Vui lòng nhập địa điểm"),s.address.trim()||(j.address="Vui lòng nhập địa chỉ chi tiết")):y===2?(s.description.trim()||(j.description="Vui lòng nhập mô tả"),s.price<=0&&(j.price="Giá phải lớn hơn 0"),s.rooms<=0&&(j.rooms="Số phòng phải lớn hơn 0"),s.bathrooms<=0&&(j.bathrooms="Số phòng tắm phải lớn hơn 0"),s.amenities.length===0&&(j.amenities="Vui lòng chọn ít nhất một tiện nghi")):y===3&&s.images.length===0&&(j.images="Vui lòng thêm ít nhất một hình ảnh"),a(j),Object.keys(j).length===0},v=()=>{f(l)&&i(y=>Math.min(y+1,o))},N=()=>{i(y=>Math.max(y-1,1))},g=y=>{y.preventDefault(),f(l)&&(alert("Khách sạn đã được thêm thành công!"),t("/host/properties"))};return e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>t("/host/properties"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[e.jsx(ye,{size:20,className:"mr-1"}),"Quay lại danh sách khách sạn"]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Thêm khách sạn mới"}),e.jsx("p",{className:"text-gray-600",children:"Điền đầy đủ thông tin để thêm khách sạn của bạn"})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-between",children:Array.from({length:o}).map((y,j)=>e.jsxs(yr.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l>j+1?"bg-green-500 text-white":l===j+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:l>j+1?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):j+1}),e.jsx("span",{className:"text-sm mt-2",children:j===0?"Thông tin cơ bản":j===1?"Chi tiết":"Hình ảnh"})]}),j<o-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 ${l>j+1?"bg-green-500":"bg-gray-200"}`})]},j))})}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"p-6",children:[l===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tên khách sạn ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:m,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.name?"border-red-500":"border-gray-300"}`,placeholder:"Nhập tên khách sạn"}),n.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Loại hình lưu trú ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{id:"type",name:"type",value:s.type,onChange:m,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.type?"border-red-500":"border-gray-300"}`,children:c.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))}),n.type&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.type})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Địa điểm ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"location",name:"location",value:s.location,onChange:m,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.location?"border-red-500":"border-gray-300"}`,placeholder:"Ví dụ: Hà Nội, Đà Nẵng, Nha Trang..."}),n.location&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.location})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Địa chỉ chi tiết ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"address",name:"address",value:s.address,onChange:m,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.address?"border-red-500":"border-gray-300"}`,placeholder:"Nhập địa chỉ chi tiết"}),n.address&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.address})]})]}),l===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Mô tả ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:m,rows:4,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.description?"border-red-500":"border-gray-300"}`,placeholder:"Mô tả chi tiết về khách sạn của bạn"}),n.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:["Giá phòng cơ bản (VNĐ/đêm) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"price",name:"price",value:s.price,onChange:m,min:"0",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.price?"border-red-500":"border-gray-300"}`,placeholder:"Ví dụ: 1000000"}),n.price&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.price})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:["Số phòng ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"rooms",name:"rooms",value:s.rooms,onChange:m,min:"1",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.rooms?"border-red-500":"border-gray-300"}`}),n.rooms&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.rooms})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:["Số phòng tắm ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:s.bathrooms,onChange:m,min:"1",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.bathrooms?"border-red-500":"border-gray-300"}`}),n.bathrooms&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.bathrooms})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tiện nghi ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:d.map(y=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"amenities",value:y.label,checked:s.amenities.includes(y.label),onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:y.label})]},y.id))}),n.amenities&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.amenities})]})]}),l===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hình ảnh khách sạn ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsxs("button",{type:"button",onClick:x,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(_c,{className:"h-5 w-5 mr-2"}),"Tải lên hình ảnh"]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Hỗ trợ JPG, PNG, GIF. Kích thước tối đa 5MB."})]}),n.images&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.images})]}),s.images.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hình ảnh đã tải lên"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.images.map((y,j)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:y,alt:`Property ${j+1}`,className:"h-32 w-full object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>b(j),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ve,{size:16})})]},j)),e.jsx("div",{className:"h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:bg-gray-50",onClick:x,children:e.jsx(Ze,{size:24,className:"text-gray-400"})})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[l>1?e.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Quay lại"}):e.jsx("div",{}),l<o?e.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 border border-transparent rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Tiếp theo"}):e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md text-white bg-green-600 hover:bg-green-700",children:"Hoàn thành"})]})]})]})]})})},Rj=()=>{const{id:t}=ot(),s=le(),[r,n]=h.useState("rooms"),a={id:"1",name:"Vinpearl Resort & Spa",type:"Resort",location:"Nha Trang",address:"78 Trần Phú, Lộc Thọ, Nha Trang, Khánh Hòa",description:"Khu nghỉ dưỡng sang trọng với view biển tuyệt đẹp, đầy đủ tiện nghi cao cấp. Vinpearl Resort & Spa Nha Trang là một trong những khu nghỉ dưỡng hàng đầu tại Việt Nam, nằm trên bãi biển riêng với cát trắng mịn và nước biển trong xanh. Khu nghỉ dưỡng cung cấp các phòng nghỉ sang trọng với tầm nhìn ra biển hoặc vườn nhiệt đới, nhiều nhà hàng phục vụ ẩm thực đa dạng, hồ bơi ngoài trời, spa đẳng cấp và nhiều hoạt động giải trí.",price:25e5,rating:4.8,reviewCount:124,rooms:15,bathrooms:12,amenities:["Wifi","Hồ bơi","Spa","Nhà hàng","Phòng gym","Bãi đỗ xe","Dịch vụ phòng 24/7","Điều hòa"],status:"active",images:["https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg","https://images.pexels.com/photos/261102/pexels-photo-261102.jpeg","https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg","https://images.pexels.com/photos/164595/pexels-photo-164595.jpeg","https://images.pexels.com/photos/237371/pexels-photo-237371.jpeg"]},l=[{id:"r1",name:"Deluxe Ocean View",description:"Phòng sang trọng với view biển tuyệt đẹp, đầy đủ tiện nghi cao cấp",price:25e5,capacity:2,bedType:"King size",size:"45m²",amenities:["Wifi","Minibar","TV","Điều hòa","Bồn tắm"],image:"https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg",status:"available"},{id:"r2",name:"Premium Suite",description:"Phòng suite rộng rãi với thiết kế cổ điển sang trọng",price:32e5,capacity:3,bedType:"King size + Single",size:"65m²",amenities:["Wifi","Minibar","TV","Điều hòa","Phòng khách riêng"],image:"https://images.pexels.com/photos/164595/pexels-photo-164595.jpeg",status:"booked"},{id:"r3",name:"Family Room",description:"Phòng gia đình rộng rãi với đầy đủ tiện nghi cho cả gia đình",price:28e5,capacity:4,bedType:"2 Queen size",size:"55m²",amenities:["Wifi","Minibar","TV","Điều hòa","2 phòng ngủ"],image:"https://images.pexels.com/photos/237371/pexels-photo-237371.jpeg",status:"available"},{id:"r4",name:"Standard Room",description:"Phòng tiêu chuẩn thoải mái với đầy đủ tiện nghi cơ bản",price:12e5,capacity:2,bedType:"Queen size",size:"35m²",amenities:["Wifi","TV","Điều hòa"],image:"https://images.pexels.com/photos/271619/pexels-photo-271619.jpeg",status:"maintenance"}],i=[{id:"BK-001",guestName:"Nguyễn Văn An",checkIn:"2023-10-15",checkOut:"2023-10-18",guests:2,roomName:"Deluxe Ocean View",totalAmount:75e5,status:"confirmed",createdAt:"2023-09-20"},{id:"BK-002",guestName:"Trần Thị Bình",checkIn:"2023-10-20",checkOut:"2023-10-22",guests:3,roomName:"Premium Suite",totalAmount:64e5,status:"pending",createdAt:"2023-10-01"},{id:"BK-003",guestName:"Lê Văn Cường",checkIn:"2023-09-25",checkOut:"2023-09-30",guests:4,roomName:"Family Room",totalAmount:84e5,status:"completed",createdAt:"2023-08-15"}],o=[{id:"rev1",guestName:"Nguyễn Thị Minh",rating:5,comment:"Phòng rất đẹp và sạch sẽ. View nhìn ra biển tuyệt vời, đặc biệt là lúc bình minh. Nhân viên phục vụ rất nhiệt tình và chu đáo. Sẽ quay lại lần sau!",date:"2023-09-15",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{id:"rev2",guestName:"Trần Văn Hùng",rating:4.5,comment:"Phòng rộng rãi, thoáng mát và đầy đủ tiện nghi. Vị trí khách sạn rất thuận tiện để đi tham quan các điểm du lịch. Bữa sáng phong phú. Chỉ có một điểm trừ nhỏ là hơi ồn vào buổi tối.",date:"2023-08-20",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{id:"rev3",guestName:"Lê Thị Hương",rating:5,comment:"Tuyệt vời! Phòng đẹp, sạch sẽ, view biển tuyệt đẹp. Nhân viên thân thiện và chuyên nghiệp. Đồ ăn ngon. Chắc chắn sẽ quay lại và giới thiệu cho bạn bè.",date:"2023-07-10",avatar:"https://randomuser.me/api/portraits/women/68.jpg"}],c=f=>{const v={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(f).toLocaleDateString("vi-VN",v)},d=f=>f.toLocaleString("vi-VN")+"đ",u=f=>Array(5).fill(0).map((v,N)=>e.jsx(pe,{className:`h-5 w-5 ${N<Math.floor(f)?"text-yellow-400 fill-current":"text-gray-300"}`},N)),m=f=>{switch(f){case"available":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Có sẵn"});case"booked":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Đã đặt"});case"maintenance":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Bảo trì"});case"confirmed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Đã xác nhận"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Chờ xác nhận"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Đã hủy"});case"completed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Đã hoàn thành"});default:return null}},p=()=>{s(`/host/properties/edit/${t}`)},x=()=>{window.confirm("Bạn có chắc chắn muốn xóa khách sạn này không?")&&s("/host/properties")},b=()=>{s(`/host/properties/${t}/add-room`)};return e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s("/host/properties"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[e.jsx(ye,{size:20,className:"mr-1"}),"Quay lại danh sách khách sạn"]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 h-64",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("img",{src:a.images[0],alt:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"grid grid-rows-2 gap-2",children:[e.jsx("img",{src:a.images[1],alt:a.name,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.images[2],alt:a.name,className:"w-full h-full object-cover"}),a.images.length>3&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("span",{className:"text-white text-lg font-medium",children:["+",a.images.length-3]})})]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mt-2",children:[e.jsx(Be,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:a.address})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("div",{className:"flex mr-2",children:u(a.rating)}),e.jsxs("span",{className:"text-gray-700",children:[a.rating," (",a.reviewCount," đánh giá)"]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:p,className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:18,className:"mr-2"}),"Chỉnh sửa"]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center",children:[e.jsx(tt,{size:18,className:"mr-2"}),"Xóa"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Thông tin cơ bản"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(an,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Loại hình"}),e.jsx("p",{className:"font-medium",children:a.type})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Số phòng"}),e.jsxs("p",{className:"font-medium",children:[a.rooms," phòng"]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(qy,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Số phòng tắm"}),e.jsxs("p",{className:"font-medium",children:[a.bathrooms," phòng"]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Giá cơ bản"}),e.jsxs("p",{className:"font-medium",children:[d(a.price),"/đêm"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tiện nghi"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.amenities.map((f,v)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:f})]},v))})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Mô tả"}),e.jsx("p",{className:"text-gray-700",children:a.description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>n("rooms"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="rooms"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Danh sách phòng"}),e.jsx("button",{onClick:()=>n("bookings"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="bookings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Đặt phòng"}),e.jsx("button",{onClick:()=>n("reviews"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Đánh giá"})]})}),e.jsxs("div",{className:"p-6",children:[r==="rooms"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Danh sách phòng"}),e.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Plus,{size:18,className:"mr-2"}),"Thêm phòng mới"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(f=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:f.image,alt:f.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-4 right-4",children:m(f.status)})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:f.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-3 text-gray-600 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[f.capacity," khách"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:f.bedType})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M3 9h18"}),e.jsx("path",{d:"M9 21V9"})]}),e.jsx("span",{children:f.size})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.amenities.slice(0,3).map((v,N)=>e.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:v},N)),f.amenities.length>3&&e.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",f.amenities.length-3]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[d(f.price),e.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"/đêm"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-full",title:"Chỉnh sửa",children:e.jsx(Fe,{size:18})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Xóa",children:e.jsx(tt,{size:18})})]})]})]})]},f.id))})]}),r==="bookings"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Đặt phòng gần đây"}),e.jsx("div",{className:"space-y-4",children:i.map(f=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsxs("span",{className:"mr-2",children:["Đặt phòng #",f.id]}),m(f.status)]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Đặt ngày: ",c(f.createdAt)]})]}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Xem chi tiết"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h4",{className:"font-medium text-gray-700 flex items-center",children:[e.jsx(ke,{size:16,className:"mr-2"}),"Thông tin khách hàng"]}),e.jsx("p",{className:"text-gray-900",children:f.guestName}),e.jsxs("p",{className:"text-gray-600",children:[f.guests," khách"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h4",{className:"font-medium text-gray-700 flex items-center",children:[e.jsx(ge,{size:16,className:"mr-2"}),"Chi tiết đặt phòng"]}),e.jsx("p",{className:"text-gray-900",children:f.roomName}),e.jsxs("p",{className:"text-gray-600",children:[c(f.checkIn)," - ",c(f.checkOut)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h4",{className:"font-medium text-gray-700 flex items-center",children:[e.jsx(Se,{size:16,className:"mr-2"}),"Thông tin thanh toán"]}),e.jsx("p",{className:"text-gray-900 font-medium",children:d(f.totalAmount)})]})]})]},f.id))})]}),r==="reviews"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Đánh giá từ khách hàng"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex mr-2",children:u(a.rating)}),e.jsxs("span",{className:"text-gray-700",children:[a.rating," (",a.reviewCount," đánh giá)"]})]})]}),e.jsx("div",{className:"space-y-6",children:o.map(f=>e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("img",{src:f.avatar,alt:f.guestName,className:"w-10 h-10 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:f.guestName}),e.jsx("p",{className:"text-gray-500 text-sm",children:c(f.date)})]})]}),e.jsx("div",{className:"flex mb-2",children:u(f.rating)}),e.jsx("p",{className:"text-gray-700",children:f.comment})]},f.id))})]})]})]})]})})},zo=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t),Ej=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState(0),[u,m]=h.useState(0),[p,x]=h.useState(0);h.useEffect(()=>{b()},[c]);const b=async()=>{try{l(!0);const j=await me.getMyHotels(c,10);n(j.data.result.content),m(j.data.result.totalPages),x(j.data.result.totalElements)}catch(j){console.error("Error fetching hotels:",j),s("error","Lỗi","Không thể tải danh sách khách sạn")}finally{l(!1)}},f=j=>{j.preventDefault(),b()},v=()=>{t("/host/hotels/add")},N=j=>{t(`/host/hotels/${j}`)},g=j=>{t(`/host/hotels/edit/${j}`)},y=async j=>{if(window.confirm("Are you sure you want to delete this hotel?"))try{await me.deleteMyHotel(j),s("success","Thành công","Đã xóa khách sạn"),b()}catch(w){console.error("Error deleting hotel:",w),s("error","Error","Cannot delete hotel when it has bookings")}};return e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",children:"Manage hotels"}),e.jsxs("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add hotel"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("form",{onSubmit:f,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search hotels...",value:i,onChange:j=>o(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx(at,{className:"absolute left-3 top-2.5 text-gray-400",size:20})]})}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Search"})]})}),a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading hotel list..."})]}):r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(he,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any hotel"}),e.jsxs("button",{onClick:v,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add your first hotel"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(j=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:j.imageUrl||"https://via.placeholder.com/400x200?text=No+Image",alt:j.name,className:"w-full h-full object-cover"}),j.featured&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-sm font-medium",children:"Nổi bật"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:j.name}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{size:16,className:"mr-2"}),e.jsx("span",{className:"text-sm truncate",children:j.address})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(pe,{size:16,className:"mr-2 text-yellow-500"}),e.jsxs("span",{className:"text-sm",children:[j.starRating," sao"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ke,{size:16,className:"mr-2"}),e.jsxs("span",{className:"text-sm",children:[j.totalRoomTypes||0," loại phòng"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Se,{size:16,className:"mr-2"}),e.jsxs("span",{className:"text-sm",children:["Từ ",zo(j.pricePerNight||0),"/đêm"]})]})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${j.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.active?"Đang hoạt động":"Ngừng hoạt động"})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>N(j.id),className:"p-2 text-gray-600 hover:text-blue-600 transition-colors",title:"Xem chi tiết",children:e.jsx(Oe,{size:20})}),e.jsx("button",{onClick:()=>g(j.id),className:"p-2 text-gray-600 hover:text-green-600 transition-colors",title:"Chỉnh sửa",children:e.jsx(Fe,{size:20})}),e.jsx("button",{onClick:()=>y(j.id),className:"p-2 text-gray-600 hover:text-red-600 transition-colors",title:"Xóa",children:e.jsx(tt,{size:20})})]})]})]},j.id))}),u>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d(j=>Math.max(0,j-1)),disabled:c===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Trước"}),e.jsx("button",{onClick:()=>d(j=>Math.min(u-1,j+1)),disabled:c===u-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Sau"})]})})]})})},Dj=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState(!1),[a,l]=h.useState({}),[i,o]=h.useState({name:"",description:"",address:"",city:"",country:"",phone:"",email:"",website:"",starRating:1,checkInTime:"",checkOutTime:"",imageUrl:"",pricePerNight:0,amenities:"",cancellationPolicy:"",petPolicy:""}),c=()=>{const m={};return i.name.trim()?i.name.length<2&&(m.name="Tên khách sạn phải có ít nhất 2 ký tự"):m.name="Tên khách sạn là bắt buộc",i.address.trim()||(m.address="Địa chỉ là bắt buộc"),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(m.email="Email không hợp lệ"),i.phone&&!/^[+]?[0-9\s\-\(\)]{10,15}$/.test(i.phone)&&(m.phone="Số điện thoại không hợp lệ"),i.website&&!/^(https?:\/\/)?(www\.)?[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,}(\/.*)?$/.test(i.website)&&(m.website="Website không hợp lệ"),i.pricePerNight&&i.pricePerNight<=0&&(m.pricePerNight="Giá phòng phải lớn hơn 0"),i.checkInTime&&i.checkOutTime&&i.checkInTime>=i.checkOutTime&&(m.checkOutTime="Giờ trả phòng phải sau giờ nhận phòng"),i.imageUrl&&!/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i.test(i.imageUrl)&&(m.imageUrl="URL hình ảnh không hợp lệ (chỉ chấp nhận jpg, jpeg, png, gif, webp)"),l(m),Object.keys(m).length===0},d=m=>{const{name:p,value:x,type:b}=m.target;o(f=>({...f,[p]:b==="number"?parseFloat(x)||0:x})),a[p]&&l(f=>({...f,[p]:""}))},u=async m=>{var p,x;if(m.preventDefault(),!c()){s("error","Lỗi","Vui lòng kiểm tra lại thông tin đã nhập");return}try{n(!0);const b={...i,isFeatured:!1},f=await me.createMyHotel(b);if(f.data.success)s("success","Thành công","Đã thêm khách sạn mới"),t("/host/hotels");else throw new Error(f.data.message||"Không thể thêm khách sạn")}catch(b){console.error("Error creating hotel:",b),s("error","Lỗi",((x=(p=b.response)==null?void 0:p.data)==null?void 0:x.message)||b.message||"Không thể thêm khách sạn")}finally{n(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/host/hotels"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thêm khách sạn mới"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Điền thông tin chi tiết để tạo khách sạn mới"})]})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(et,{className:"mr-3 text-blue-600",size:24}),"Thông tin cơ bản"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên khách sạn *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:i.name,onChange:d,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.name?"border-red-500":"border-gray-300"}`}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ *"}),e.jsx("input",{type:"text",name:"address",required:!0,value:i.address,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.address?"border-red-500":"border-gray-300"}`}),a.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thành phố"}),e.jsx("input",{type:"text",name:"city",value:i.city,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quốc gia"}),e.jsx("input",{type:"text",name:"country",value:i.country,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),e.jsx("textarea",{name:"description",rows:4,value:i.description,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Mô tả chi tiết về khách sạn của bạn..."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Le,{className:"mr-3 text-green-600",size:24}),"Thông tin liên hệ"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),e.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.phone?"border-red-500":"border-gray-300"}`}),a.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.email?"border-red-500":"border-gray-300"}`}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",name:"website",value:i.website,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.website?"border-red-500":"border-gray-300"}`}),a.website&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.website})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(pe,{className:"mr-3 text-yellow-600",size:24}),"Chi tiết khách sạn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hạng sao"}),e.jsx("select",{name:"starRating",value:i.starRating,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(m=>e.jsxs("option",{value:m,children:[m," sao"]},m))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá mỗi đêm (VND)"}),e.jsx("input",{type:"number",name:"pricePerNight",min:"0",step:"1000",value:i.pricePerNight,onChange:d,placeholder:"VD: 500000",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.pricePerNight?"border-red-500":"border-gray-300"}`}),a.pricePerNight&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.pricePerNight})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giờ nhận phòng"}),e.jsx("input",{type:"time",name:"checkInTime",value:i.checkInTime,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.checkInTime?"border-red-500":"border-gray-300"}`}),a.checkInTime&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.checkInTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giờ trả phòng"}),e.jsx("input",{type:"time",name:"checkOutTime",value:i.checkOutTime,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.checkOutTime?"border-red-500":"border-gray-300"}`}),a.checkOutTime&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.checkOutTime})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiện nghi khách sạn"}),e.jsx("textarea",{name:"amenities",rows:3,value:i.amenities,onChange:d,placeholder:"VD: WiFi miễn phí, Bể bơi, Gym, Spa, Nhà hàng, Bar...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chọn tiện nghi có sẵn (click để thêm/bỏ)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Wifi miễn phí","Hồ bơi","Spa & Massage","Nhà hàng","Phòng gym","Bãi đỗ xe","Dịch vụ phòng 24/7","Lễ tân 24/7","Thang máy","Điều hòa","Tivi","Tủ lạnh mini","Két an toàn","Máy sấy tóc","Bồn tắm","Vòi sen","Dép đi trong phòng","Áo choàng tắm","Bàn làm việc","Ghế sofa","Ban công","Tầm nhìn ra biển","Tầm nhìn ra thành phố","Tầm nhìn ra núi","Quầy bar","Karaoke","Sân tennis","Sân golf","Bãi biển riêng","Dịch vụ giặt ủi","Dịch vụ đưa đón sân bay","Cho thuê xe đạp","Khu vui chơi trẻ em","Phòng họp","Trung tâm thương mại","ATM","Cửa hàng lưu niệm"].map(m=>{const p=(i.amenities||"").split(",").map(x=>x.trim()).includes(m);return e.jsxs("button",{type:"button",onClick:()=>{const x=(i.amenities||"").split(",").map(b=>b.trim()).filter(b=>b);if(p){const b=x.filter(f=>f!==m);o(f=>({...f,amenities:b.join(", ")}))}else{const b=[...x,m];o(f=>({...f,amenities:b.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${p?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[p&&e.jsx("span",{className:"mr-1",children:"✓"}),m]},m)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"💡 Tip: Click vào các thẻ để thêm/bỏ tiện nghi. Bạn cũng có thể nhập trực tiếp vào ô text phía trên."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Pe,{className:"mr-3 text-purple-600",size:24}),"Chính sách khách sạn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chính sách hủy phòng"}),e.jsx("textarea",{name:"cancellationPolicy",rows:3,value:i.cancellationPolicy,onChange:d,placeholder:"VD: Miễn phí hủy phòng trước 24 giờ...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chính sách thú cưng"}),e.jsx("textarea",{name:"petPolicy",rows:3,value:i.petPolicy,onChange:d,placeholder:"VD: Cho phép thú cưng với phí phụ thu...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsx(fn,{title:"Hình ảnh khách sạn",imageUrl:i.imageUrl||"",onImageUrlChange:m=>o(p=>({...p,imageUrl:m})),uploadType:"hotel-image",errors:{imageUrl:a.imageUrl}}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>t("/host/hotels"),className:"w-full sm:w-auto px-8 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Hủy bỏ"}),e.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Đang xử lý..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{size:20,className:"mr-2"}),"Tạo khách sạn"]})})]})]})})]})},Aj=()=>{const t=le(),{id:s}=ot(),{showToast:r}=Ce(),[n,a]=h.useState(null),[l,i]=h.useState([]),[o,c]=h.useState(!0),[d,u]=h.useState(!1),[m,p]=h.useState(null);h.useEffect(()=>{s&&(x(),b())},[s]);const x=async()=>{try{c(!0);const w=await me.getMyHotelById(s);a(w.data.result)}catch(w){console.error("Error fetching hotel:",w),r("error","Lỗi","Không thể tải thông tin khách sạn"),t("/host/hotels")}finally{c(!1)}},b=async()=>{try{u(!0);const w=await bs.getMyHotelRoomTypes(s);i(w.data.result.content||[])}catch(w){console.error("Error fetching room types:",w)}finally{u(!1)}},f=()=>{t(`/host/hotels/edit/${s}`)},v=()=>{t(`/host/room-types/add?hotelId=${s}`)},N=w=>{t(`/host/room-types/${w}`)},g=w=>{t(`/host/room-types/edit/${w}`)},y=async(w,C)=>{if(confirm(`Bạn có chắc chắn muốn xóa loại phòng "${C}"?`))try{p(w),await bs.deleteMyRoomType(w),r("success","Thành công","Xóa loại phòng thành công"),b()}catch(k){console.error("Error deleting room type:",k),r("error","Lỗi","Lỗi khi xóa loại phòng")}finally{p(null)}},j=w=>({Single:"Giường đơn",Double:"Giường đôi",Queen:"Giường Queen",King:"Giường King",Twin:"Giường đôi riêng biệt","Sofa Bed":"Giường sofa"})[w]||w;return o?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải thông tin khách sạn..."})]})})}):n?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/host/hotels"),className:"mr-4 text-gray-600 hover:text-gray-900",children:e.jsx(ye,{size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:n.name})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:v,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Thêm loại phòng"]}),e.jsxs("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2"}),"Chỉnh sửa"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(et,{className:"mr-2"}),"Thông tin cơ bản"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(Be,{className:"w-5 h-5 text-gray-400 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Địa chỉ"}),e.jsx("p",{className:"text-gray-600",children:n.address}),(n.city||n.country)&&e.jsx("p",{className:"text-gray-600",children:[n.city,n.country].filter(Boolean).join(", ")})]})]}),n.description&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Mô tả"}),e.jsx("p",{className:"text-gray-600 mt-1",children:n.description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Le,{className:"mr-2"}),"Thông tin liên hệ"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Số điện thoại"}),e.jsx("p",{className:"text-gray-600",children:n.phone})]})]}),n.email&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email"}),e.jsx("p",{className:"text-gray-600",children:n.email})]})]}),n.website&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ql,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Website"}),e.jsx("p",{className:"text-gray-600",children:n.website})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Chính sách"}),e.jsxs("div",{className:"space-y-4",children:[n.cancellationPolicy&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Chính sách hủy phòng"}),e.jsx("p",{className:"text-gray-600 mt-1",children:n.cancellationPolicy})]}),n.petPolicy&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Chính sách thú cưng"}),e.jsx("p",{className:"text-gray-600 mt-1",children:n.petPolicy})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Qr,{className:"mr-2"}),"Loại phòng (",l.length,")"]}),e.jsxs("button",{onClick:v,className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center text-sm",children:[e.jsx(Ze,{size:16,className:"mr-1"}),"Thêm loại phòng"]})]}),d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Đang tải loại phòng..."})]}):l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Qr,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Chưa có loại phòng nào"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bắt đầu bằng cách tạo loại phòng đầu tiên cho khách sạn này."}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Thêm loại phòng"]})})]}):e.jsx("div",{className:"space-y-4",children:l.map(w=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[w.imageUrl?e.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-16 h-16 rounded-lg object-cover"}):e.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex items-center justify-center",children:e.jsx(Qr,{className:"h-6 w-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:w.name}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ke,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[w.maxOccupancy," người"]}),w.bedType&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{children:j(w.bedType)})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Se,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{className:"font-medium",children:[zo(w.pricePerNight),"/đêm"]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsxs("span",{children:[w.totalRooms," phòng"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>N(w.id),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Xem chi tiết",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>g(w.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Chỉnh sửa",children:e.jsx(Fe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>y(w.id,w.name),disabled:m===w.id,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Xóa",children:m===w.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"}):e.jsx(Ns,{className:"h-4 w-4"})})]})]})},w.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Thống kê nhanh"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 text-yellow-500 mr-2"}),e.jsx("span",{children:"Hạng sao"})]}),e.jsxs("span",{className:"font-medium",children:[n.starRating," sao"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"w-5 h-5 text-blue-500 mr-2"}),e.jsx("span",{children:"Loại phòng"})]}),e.jsx("span",{className:"font-medium",children:n.totalRoomTypes||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"w-5 h-5 text-green-500 mr-2"}),e.jsx("span",{children:"Giá từ"})]}),e.jsxs("span",{className:"font-medium",children:[zo(n.pricePerNight||0),"/đêm"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-5 h-5 text-purple-500 mr-2"}),e.jsx("span",{children:"Nhận phòng"})]}),e.jsx("span",{className:"font-medium",children:n.checkInTime||"--:--"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-5 h-5 text-purple-500 mr-2"}),e.jsx("span",{children:"Trả phòng"})]}),e.jsx("span",{className:"font-medium",children:n.checkOutTime||"--:--"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Trạng thái"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Hoạt động"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${n.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.active?"Đang hoạt động":"Ngừng hoạt động"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Nổi bật"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${n.featured?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:n.featured?"Có":"Không"})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"Không tìm thấy thông tin khách sạn"})})})})},Ij=()=>{const t=le(),{id:s}=ot(),{showToast:r}=Ce(),[n,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState({name:"",description:"",address:"",city:"",country:"",phone:"",email:"",website:"",starRating:1,checkInTime:"",checkOutTime:"",imageUrl:"",pricePerNight:0,amenities:"",cancellationPolicy:"",petPolicy:"",active:!0,featured:!1});h.useEffect(()=>{d()},[s]);const d=async()=>{try{a(!0);const b=(await me.getMyHotelById(s)).data.result;c({name:b.name||"",description:b.description||"",address:b.address||"",city:b.city||"",country:b.country||"",phone:b.phone||"",email:b.email||"",website:b.website||"",starRating:b.starRating||1,checkInTime:b.checkInTime||"",checkOutTime:b.checkOutTime||"",imageUrl:b.imageUrl||"",pricePerNight:b.pricePerNight||0,amenities:b.amenities||"",cancellationPolicy:b.cancellationPolicy||"",petPolicy:b.petPolicy||"",active:b.active,featured:b.featured})}catch(x){console.error("Error fetching hotel:",x),r("error","Lỗi","Không thể tải thông tin khách sạn"),t("/host/hotels")}finally{a(!1)}},u=x=>{const{name:b,value:f,type:v}=x.target;c(N=>({...N,[b]:v==="number"?parseFloat(f)||0:f}))},m=x=>{const{name:b,checked:f}=x.target;c(v=>({...v,[b]:f}))},p=async x=>{x.preventDefault();try{i(!0);const{featured:b,...f}=o;await me.updateMyHotel(s,f),r("success","Thành công","Đã cập nhật thông tin khách sạn"),t(`/host/hotels/${s}`)}catch(b){console.error("Error updating hotel:",b),r("error","Lỗi","Không thể cập nhật thông tin khách sạn")}finally{i(!1)}};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải thông tin khách sạn..."})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t(`/host/hotels/${s}`),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Chỉnh sửa khách sạn"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Cập nhật thông tin chi tiết khách sạn của bạn"})]})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("form",{onSubmit:p,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(et,{className:"mr-3 text-blue-600",size:24}),"Thông tin cơ bản"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên khách sạn *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:o.name,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ *"}),e.jsx("input",{type:"text",name:"address",required:!0,value:o.address,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thành phố"}),e.jsx("input",{type:"text",name:"city",value:o.city,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quốc gia"}),e.jsx("input",{type:"text",name:"country",value:o.country,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),e.jsx("textarea",{name:"description",rows:4,value:o.description,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Mô tả chi tiết về khách sạn của bạn..."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Le,{className:"mr-3 text-green-600",size:24}),"Thông tin liên hệ"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",name:"website",value:o.website,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(pe,{className:"mr-3 text-yellow-600",size:24}),"Chi tiết khách sạn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hạng sao"}),e.jsx("select",{name:"starRating",value:o.starRating,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(x=>e.jsxs("option",{value:x,children:[x," sao"]},x))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá mỗi đêm (VND)"}),e.jsx("input",{type:"number",name:"pricePerNight",min:"0",value:o.pricePerNight,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giờ nhận phòng"}),e.jsx("input",{type:"time",name:"checkInTime",value:o.checkInTime,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giờ trả phòng"}),e.jsx("input",{type:"time",name:"checkOutTime",value:o.checkOutTime,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tiện nghi khách sạn"}),e.jsx("textarea",{name:"amenities",rows:3,value:o.amenities,onChange:u,placeholder:"VD: WiFi miễn phí, Bể bơi, Gym, Spa, Nhà hàng, Bar...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chọn tiện nghi có sẵn (click để thêm/bỏ)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Wifi miễn phí","Hồ bơi","Spa & Massage","Nhà hàng","Phòng gym","Bãi đỗ xe","Dịch vụ phòng 24/7","Lễ tân 24/7","Thang máy","Điều hòa","Tivi","Tủ lạnh mini","Két an toàn","Máy sấy tóc","Bồn tắm","Vòi sen","Dép đi trong phòng","Áo choàng tắm","Bàn làm việc","Ghế sofa","Ban công","Tầm nhìn ra biển","Tầm nhìn ra thành phố","Tầm nhìn ra núi","Quầy bar","Karaoke","Sân tennis","Sân golf","Bãi biển riêng","Dịch vụ giặt ủi","Dịch vụ đưa đón sân bay","Cho thuê xe đạp","Khu vui chơi trẻ em","Phòng họp","Trung tâm thương mại","ATM","Cửa hàng lưu niệm"].map(x=>{const b=(o.amenities||"").split(",").map(f=>f.trim()).includes(x);return e.jsxs("button",{type:"button",onClick:()=>{const f=(o.amenities||"").split(",").map(v=>v.trim()).filter(v=>v);if(b){const v=f.filter(N=>N!==x);c(N=>({...N,amenities:v.join(", ")}))}else{const v=[...f,x];c(N=>({...N,amenities:v.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${b?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[b&&e.jsx("span",{className:"mr-1",children:"✓"}),x]},x)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"💡 Tip: Click vào các thẻ để thêm/bỏ tiện nghi. Bạn cũng có thể nhập trực tiếp vào ô text phía trên."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Pe,{className:"mr-3 text-purple-600",size:24}),"Chính sách khách sạn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chính sách hủy phòng"}),e.jsx("textarea",{name:"cancellationPolicy",rows:3,value:o.cancellationPolicy,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chính sách thú cưng"}),e.jsx("textarea",{name:"petPolicy",rows:3,value:o.petPolicy,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsx(fn,{title:"Hình ảnh khách sạn",imageUrl:o.imageUrl||"",onImageUrlChange:x=>c(b=>({...b,imageUrl:x})),uploadType:"hotel-image"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Pe,{className:"mr-3 text-orange-600",size:24}),"Hotel Status"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"active",name:"active",checked:o.active,onChange:m,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-900",children:"Đang hoạt động"})]}),o.featured&&e.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("div",{className:"h-4 w-4 bg-yellow-500 rounded mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Featured Hotels"}),e.jsx("p",{className:"text-xs text-yellow-600",children:"This status can only be changed by the administrator"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>t(`/host/hotels/${s}`),className:"w-full sm:w-auto px-8 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Hủy bỏ"}),e.jsx("button",{type:"submit",disabled:l,className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{size:20,className:"mr-2"}),"Lưu thay đổi"]})})]})]})})]})},Mj=()=>{const t=le(),{showToast:s}=Ce(),[r,n]=h.useState([]),[a,l]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(0),[u,m]=h.useState(0),[p,x]=h.useState(0),[b,f]=h.useState(""),[v,N]=h.useState(null),g=10,y=async(E=0)=>{try{o(!0);let I;b?I=await bs.getMyHotelRoomTypes(b,E,g):I=await bs.getMyRoomTypes(E,g),n(I.data.result.content),m(I.data.result.totalPages),x(I.data.result.totalElements)}catch(I){console.error("Error fetching room types:",I),s("error","Lỗi","Lỗi khi tải danh sách loại phòng")}finally{o(!1)}},j=async()=>{try{const E=await me.getMyHotels(0,100);l(E.data.result.content)}catch(E){console.error("Error fetching hotels:",E)}};h.useEffect(()=>{j()},[]),h.useEffect(()=>{a.length>0&&y()},[b,a]);const w=E=>{d(E),y(E)},C=()=>{t("/host/room-types/add")},k=E=>{t(`/host/room-types/${E}`)},S=E=>{t(`/host/room-types/edit/${E}`)},P=async(E,I)=>{if(confirm(`Bạn có chắc chắn muốn xóa loại phòng "${I}"?`))try{N(E),await bs.deleteMyRoomType(E),s("success","Thành công","Xóa loại phòng thành công"),y(c)}catch(U){console.error("Error deleting room type:",U),s("error","Lỗi","Lỗi khi xóa loại phòng")}finally{N(null)}},R=E=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(E),T=E=>({Single:"Giường đơn",Double:"Giường đôi",Queen:"Giường Queen",King:"Giường King",Twin:"Giường đôi riêng biệt","Sofa Bed":"Giường sofa"})[E]||E;return i&&r.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý loại phòng"}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Tổng cộng ",p," loại phòng"]})]}),e.jsxs("button",{onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[e.jsx(Ze,{className:"h-5 w-5 mr-2"}),"Thêm loại phòng"]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lọc theo khách sạn"}),e.jsxs("select",{value:b,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Tất cả khách sạn"}),a.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]})]})})}),e.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qr,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Chưa có loại phòng nào"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bắt đầu bằng cách tạo loại phòng đầu tiên của bạn."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ze,{className:"h-5 w-5 mr-2"}),"Thêm loại phòng"]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loại phòng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách sạn"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sức chứa"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá/đêm"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hành động"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[E.imageUrl?e.jsx("img",{src:E.imageUrl,alt:E.name,className:"h-10 w-10 rounded-lg object-cover mr-3"}):e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center mr-3",children:e.jsx(Qr,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),e.jsx("div",{className:"text-sm text-gray-500",children:E.bedType?T(E.bedType):"Chưa cập nhật"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(wt,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:E.hotelName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[E.maxOccupancy," người"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:R(E.pricePerNight)})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[E.availableRooms,"/",E.totalRooms]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Trống/Tổng"})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>k(E.id),className:"text-blue-600 hover:text-blue-900",title:"Xem chi tiết",children:e.jsx(Oe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>S(E.id),className:"text-yellow-600 hover:text-yellow-900",title:"Chỉnh sửa",children:e.jsx(Fe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>P(E.id,E.name),disabled:v===E.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Xóa",children:v===E.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(Ns,{className:"h-4 w-4"})})]})})]},E.id))})]})}),u>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>w(c-1),disabled:c===0,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),e.jsx("button",{onClick:()=>w(c+1),disabled:c===u-1,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hiển thị"," ",e.jsx("span",{className:"font-medium",children:c*g+1})," ","đến"," ",e.jsx("span",{className:"font-medium",children:Math.min((c+1)*g,p)})," ","của"," ",e.jsx("span",{className:"font-medium",children:p})," ","kết quả"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>w(c-1),disabled:c===0,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),Array.from({length:u},(E,I)=>e.jsx("button",{onClick:()=>w(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${I===c?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I+1},I)),e.jsx("button",{onClick:()=>w(c+1),disabled:c===u-1,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})})]})]})]})})]})})},Lj=()=>{const t=le(),{showToast:s}=Ce(),[r]=Bc(),[n,a]=h.useState(!1),[l,i]=h.useState([]),[o,c]=h.useState([]),d=r.get("hotelId"),[u,m]=h.useState(null),[p,x]=h.useState({name:"",description:"",maxOccupancy:1,bedType:"",roomSize:0,pricePerNight:0,totalRooms:1,imageUrl:"",amenities:"",hotelId:d||""}),b=["WiFi miễn phí","Điều hòa không khí","TV màn hình phẳng","Minibar","Két an toàn","Máy sấy tóc","Bàn làm việc","Ghế sofa","Ban công","Tầm nhìn ra biển","Tầm nhìn ra thành phố","Tầm nhìn ra núi","Phòng tắm riêng","Bồn tắm","Vòi sen","Đồ vệ sinh cá nhân","Khăn tắm","Dép đi trong phòng","Áo choàng tắm","Máy pha cà phê","Ấm đun nước","Tủ lạnh mini","Máy lạnh","Quạt trần","Cửa sổ mở được","Rèm che","Giường đôi","Giường đơn","Ga trải giường","Gối bông","Chăn ấm","Đèn đọc sách","Ổ cắm điện","Máy hút bụi","Điện thoại","Radio","Loa Bluetooth","Sạc điện thoại","Internet tốc độ cao"];h.useEffect(()=>{f()},[]),h.useEffect(()=>{if(d&&l.length>0){const w=l.find(C=>C.id===d);w&&m(w)}},[d,l]);const f=async()=>{try{const w=await me.getMyHotels(0,100);i(w.data.result.content)}catch(w){console.error("Error fetching hotels:",w),s("error","Lỗi khi tải danh sách khách sạn")}},v=w=>{const{name:C,value:k}=w.target;x(S=>({...S,[C]:k}))},N=w=>{const{name:C,value:k}=w.target;x(S=>({...S,[C]:parseFloat(k)||0}))},g=w=>{c(C=>{const k=C.includes(w)?C.filter(S=>S!==w):[...C,w];return x(S=>({...S,amenities:k.join(", ")})),k})},y=w=>{const C=w.target.value;x(k=>({...k,amenities:C})),c(C.split(",").map(k=>k.trim()).filter(k=>k))},j=async w=>{if(w.preventDefault(),!p.hotelId){s("error","Vui lòng chọn khách sạn");return}if(!p.name.trim()){s("error","Vui lòng nhập tên loại phòng");return}if(p.pricePerNight<=0){s("error","Vui lòng nhập giá phòng hợp lệ");return}if(p.totalRooms<=0){s("error","Vui lòng nhập số lượng phòng hợp lệ");return}try{a(!0),await bs.createMyRoomType(p),s("success","Tạo loại phòng thành công"),t(d?`/host/hotels/${d}`:"/host/room-types")}catch(C){console.error("Error creating room type:",C),s("error","Lỗi khi tạo loại phòng")}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t(d?`/host/hotels/${d}`:"/host/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thêm loại phòng mới"}),e.jsx("p",{className:"mt-2 text-gray-600",children:d&&u?`Tạo loại phòng mới cho khách sạn "${u.name}"`:"Tạo loại phòng mới cho khách sạn của bạn"})]})]})})}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:e.jsx(et,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chọn khách sạn"}),d&&u&&e.jsx("span",{className:"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Đã chọn từ khách sạn"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khách sạn *"}),d&&u?e.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 bg-gray-50 rounded-lg text-gray-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(et,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"font-medium",children:u.name}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"(Đã được chọn)"})]})}):e.jsxs("select",{name:"hotelId",value:p.hotelId,onChange:v,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Chọn khách sạn"}),l.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]}),d&&u&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Bạn đang tạo loại phòng cho khách sạn này. Nếu muốn chọn khách sạn khác, vui lòng quay lại trang danh sách loại phòng."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:e.jsx(Ct,{className:"h-5 w-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin cơ bản"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên loại phòng *"}),e.jsx("input",{type:"text",name:"name",value:p.name,onChange:v,placeholder:"VD: Phòng Deluxe",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại giường"}),e.jsxs("select",{name:"bedType",value:p.bedType,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Chọn loại giường"}),e.jsx("option",{value:"Single",children:"Giường đơn"}),e.jsx("option",{value:"Double",children:"Giường đôi"}),e.jsx("option",{value:"Queen",children:"Giường Queen"}),e.jsx("option",{value:"King",children:"Giường King"}),e.jsx("option",{value:"Twin",children:"Giường đôi riêng biệt"}),e.jsx("option",{value:"Sofa Bed",children:"Giường sofa"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sức chứa tối đa *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"maxOccupancy",value:p.maxOccupancy,onChange:N,min:"1",max:"10",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diện tích (m²)"}),e.jsxs("div",{className:"relative",children:[e.jsx(an,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"roomSize",value:p.roomSize,onChange:N,min:"1",step:"0.1",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),e.jsx("textarea",{name:"description",value:p.description,onChange:v,rows:4,placeholder:"Mô tả chi tiết về loại phòng...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:e.jsx(Se,{className:"h-5 w-5 text-yellow-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Giá & Số lượng"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá mỗi đêm (VNĐ) *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"pricePerNight",value:p.pricePerNight,onChange:N,min:"0",step:"1000",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tổng số phòng *"}),e.jsx("input",{type:"number",name:"totalRooms",value:p.totalRooms,onChange:N,min:"1",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:e.jsx(Sr,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Hình ảnh"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL hình ảnh"}),e.jsx("input",{type:"url",name:"imageUrl",value:p.imageUrl,onChange:v,placeholder:"https://example.com/room-image.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg mr-3",children:e.jsx(Qt,{className:"h-5 w-5 text-indigo-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tiện nghi"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chọn tiện nghi có sẵn:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((w,C)=>e.jsxs("button",{type:"button",onClick:()=>g(w),className:`px-3 py-1 rounded-full text-sm transition-all ${o.includes(w)?"bg-blue-100 text-blue-800 border-2 border-blue-300":"bg-gray-100 text-gray-700 border-2 border-transparent hover:bg-gray-200"}`,children:[o.includes(w)&&"✓ ",w]},C))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hoặc nhập tiện nghi (phân cách bằng dấu phẩy):"}),e.jsx("textarea",{name:"amenities",value:p.amenities,onChange:y,rows:3,placeholder:"WiFi miễn phí, Điều hòa không khí, TV màn hình phẳng...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>t(d?`/host/hotels/${d}`:"/host/room-types"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Hủy"}),e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Đang tạo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-5 w-5 mr-2"}),"Tạo loại phòng"]})})]})})]})]})})},Bj=()=>{const{id:t}=ot(),s=le(),{showToast:r}=Ce(),[n,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(!1);h.useEffect(()=>{t&&d()},[t]);const d=async()=>{try{i(!0);const f=await bs.getMyRoomTypeById(t);a(f.data.result)}catch(f){console.error("Error fetching room type:",f),r("error","Lỗi khi tải thông tin loại phòng"),s("/host/room-types")}finally{i(!1)}},u=()=>{s(`/host/room-types/edit/${t}`)},m=async()=>{if(n&&confirm(`Bạn có chắc chắn muốn xóa loại phòng "${n.name}"?`))try{c(!0),await bs.deleteMyRoomType(t),r("success","Xóa loại phòng thành công"),s("/host/room-types")}catch(f){console.error("Error deleting room type:",f),r("error","Lỗi khi xóa loại phòng")}finally{c(!1)}},p=f=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(f),x=f=>new Date(f).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),b=f=>({Single:"Giường đơn",Double:"Giường đôi",Queen:"Giường Queen",King:"Giường King",Twin:"Giường đôi riêng biệt","Sofa Bed":"Giường sofa"})[f]||f;return l?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})})}):n?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>s("/host/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.name}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Chi tiết loại phòng"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Chỉnh sửa"]}),e.jsx("button",{onClick:m,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang xóa..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Xóa"]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.imageUrl&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.jsx("img",{src:n.imageUrl,alt:n.name,className:"w-full h-64 object-cover"})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:e.jsx(Qr,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin cơ bản"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên loại phòng"}),e.jsx("p",{className:"text-gray-900",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loại giường"}),e.jsx("p",{className:"text-gray-900",children:n.bedType?b(n.bedType):"Chưa cập nhật"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sức chứa tối đa"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("p",{className:"text-gray-900",children:[n.maxOccupancy," người"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diện tích"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(an,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("p",{className:"text-gray-900",children:n.roomSize?`${n.roomSize} m²`:"Chưa cập nhật"})]})]})]}),n.description&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:n.description})]})]}),n.amenities&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:e.jsx(Qt,{className:"h-5 w-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tiện nghi"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.amenities.split(",").map((f,v)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:f.trim()},v))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:e.jsx(wt,{className:"h-5 w-5 text-yellow-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Khách sạn"})]}),e.jsx("p",{className:"text-gray-900 font-medium",children:n.hotelName})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:e.jsx(Se,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Giá & Số lượng"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giá mỗi đêm"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:p(n.pricePerNight)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Số phòng"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-900",children:"Tổng cộng:"}),e.jsx("span",{className:"font-medium",children:n.totalRooms})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-900",children:"Có sẵn:"}),e.jsx("span",{className:"font-medium text-green-600",children:n.availableRooms})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-900",children:"Đã đặt:"}),e.jsx("span",{className:"font-medium text-orange-600",children:n.totalRooms-n.availableRooms})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg mr-3",children:e.jsx(ge,{className:"h-5 w-5 text-gray-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Thông tin"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ngày tạo:"}),e.jsx("span",{className:"text-gray-900",children:x(n.createdAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Cập nhật lần cuối:"}),e.jsx("span",{className:"text-gray-900",children:x(n.updatedAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ID:"}),e.jsx("span",{className:"text-gray-900 text-xs font-mono",children:n.id})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Không tìm thấy loại phòng"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loại phòng không tồn tại hoặc bạn không có quyền truy cập."}),e.jsxs("button",{onClick:()=>s("/host/room-types"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Quay lại"]})]})})})},zj=()=>{const{id:t}=ot(),s=le(),{showToast:r}=Ce(),[n,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState([]),[d,u]=h.useState([]),[m,p]=h.useState(null),[x,b]=h.useState({name:"",description:"",maxOccupancy:1,bedType:"",roomSize:0,pricePerNight:0,totalRooms:1,imageUrl:"",amenities:"",hotelId:""}),f=["WiFi miễn phí","Điều hòa không khí","TV màn hình phẳng","Minibar","Két an toàn","Máy sấy tóc","Bàn làm việc","Ghế sofa","Ban công","Tầm nhìn ra biển","Tầm nhìn ra thành phố","Tầm nhìn ra núi","Phòng tắm riêng","Bồn tắm","Vòi sen","Đồ vệ sinh cá nhân","Khăn tắm","Dép đi trong phòng","Áo choàng tắm","Máy pha cà phê","Ấm đun nước","Tủ lạnh mini","Máy lạnh","Quạt trần","Cửa sổ mở được","Rèm che","Giường đôi","Giường đơn","Ga trải giường","Gối bông","Chăn ấm","Đèn đọc sách","Ổ cắm điện","Máy hút bụi","Điện thoại","Radio","Loa Bluetooth","Sạc điện thoại","Internet tốc độ cao"];h.useEffect(()=>{t&&(v(),N())},[t]);const v=async()=>{try{a(!0);const S=(await bs.getMyRoomTypeById(t)).data.result;p(S),b({name:S.name,description:S.description||"",maxOccupancy:S.maxOccupancy,bedType:S.bedType||"",roomSize:S.roomSize||0,pricePerNight:S.pricePerNight,totalRooms:S.totalRooms,imageUrl:S.imageUrl||"",amenities:S.amenities||"",hotelId:S.hotelId}),S.amenities&&u(S.amenities.split(",").map(P=>P.trim()))}catch(k){console.error("Error fetching room type:",k),r("error","Lỗi khi tải thông tin loại phòng"),s("/host/room-types")}finally{a(!1)}},N=async()=>{try{const k=await me.getMyHotels(0,100);c(k.data.result.content)}catch(k){console.error("Error fetching hotels:",k)}},g=k=>{const{name:S,value:P}=k.target;b(R=>({...R,[S]:P}))},y=k=>{const{name:S,value:P}=k.target;b(R=>({...R,[S]:parseFloat(P)||0}))},j=k=>{u(S=>{const P=S.includes(k)?S.filter(R=>R!==k):[...S,k];return b(R=>({...R,amenities:P.join(", ")})),P})},w=k=>{const S=k.target.value;b(P=>({...P,amenities:S})),u(S.split(",").map(P=>P.trim()).filter(P=>P))},C=async k=>{if(k.preventDefault(),!x.name.trim()){r("error","Vui lòng nhập tên loại phòng");return}if(x.pricePerNight<=0){r("error","Vui lòng nhập giá phòng hợp lệ");return}if(x.totalRooms<=0){r("error","Vui lòng nhập số lượng phòng hợp lệ");return}try{i(!0),await bs.updateMyRoomType(t,x),r("success","Cập nhật loại phòng thành công"),s(`/host/room-types/${t}`)}catch(S){console.error("Error updating room type:",S),r("error","Lỗi khi cập nhật loại phòng")}finally{i(!1)}};return n?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})})}):m?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>s(`/host/room-types/${t}`),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ye,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Chỉnh sửa loại phòng"}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Cập nhật thông tin loại phòng: ",m.name]})]})]})})}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:e.jsx(et,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Khách sạn"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khách sạn"}),e.jsx("input",{type:"text",value:m.hotelName,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Không thể thay đổi khách sạn cho loại phòng đã tồn tại"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:e.jsx(Ct,{className:"h-5 w-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin cơ bản"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên loại phòng *"}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:g,placeholder:"VD: Phòng Deluxe",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại giường"}),e.jsxs("select",{name:"bedType",value:x.bedType,onChange:g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Chọn loại giường"}),e.jsx("option",{value:"Single",children:"Giường đơn"}),e.jsx("option",{value:"Double",children:"Giường đôi"}),e.jsx("option",{value:"Queen",children:"Giường Queen"}),e.jsx("option",{value:"King",children:"Giường King"}),e.jsx("option",{value:"Twin",children:"Giường đôi riêng biệt"}),e.jsx("option",{value:"Sofa Bed",children:"Giường sofa"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sức chứa tối đa *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"maxOccupancy",value:x.maxOccupancy,onChange:y,min:"1",max:"10",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diện tích (m²)"}),e.jsxs("div",{className:"relative",children:[e.jsx(an,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"roomSize",value:x.roomSize,onChange:y,min:"1",step:"0.1",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),e.jsx("textarea",{name:"description",value:x.description,onChange:g,rows:4,placeholder:"Mô tả chi tiết về loại phòng...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:e.jsx(Se,{className:"h-5 w-5 text-yellow-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Giá & Số lượng"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá mỗi đêm (VNĐ) *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"pricePerNight",value:x.pricePerNight,onChange:y,min:"0",step:"1000",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tổng số phòng *"}),e.jsx("input",{type:"number",name:"totalRooms",value:x.totalRooms,onChange:y,min:"1",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Hiện có ",m.availableRooms," phòng trống / ",m.totalRooms," tổng số phòng"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:e.jsx(Sr,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Hình ảnh"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL hình ảnh"}),e.jsx("input",{type:"url",name:"imageUrl",value:x.imageUrl,onChange:g,placeholder:"https://example.com/room-image.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),x.imageUrl&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:x.imageUrl,alt:"Preview",className:"w-32 h-24 object-cover rounded-lg",onError:k=>{k.currentTarget.style.display="none"}})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg mr-3",children:e.jsx(Qt,{className:"h-5 w-5 text-indigo-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tiện nghi"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chọn tiện nghi có sẵn:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((k,S)=>e.jsxs("button",{type:"button",onClick:()=>j(k),className:`px-3 py-1 rounded-full text-sm transition-all ${d.includes(k)?"bg-blue-100 text-blue-800 border-2 border-blue-300":"bg-gray-100 text-gray-700 border-2 border-transparent hover:bg-gray-200"}`,children:[d.includes(k)&&"✓ ",k]},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hoặc nhập tiện nghi (phân cách bằng dấu phẩy):"}),e.jsx("textarea",{name:"amenities",value:x.amenities,onChange:w,rows:3,placeholder:"WiFi miễn phí, Điều hòa không khí, TV màn hình phẳng...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>s(`/host/room-types/${t}`),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Hủy"}),e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-5 w-5 mr-2"}),"Lưu thay đổi"]})})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Không tìm thấy loại phòng"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loại phòng không tồn tại hoặc bạn không có quyền truy cập."}),e.jsxs("button",{onClick:()=>s("/host/room-types"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Quay lại"]})]})})})},gt=({children:t})=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Tx,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:t})}),e.jsx(Rx,{})]}),Oj=({children:t})=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Tx,{}),e.jsx("main",{className:"flex-grow pt-16",children:t}),e.jsx(Rx,{})]});function Hj(){return e.jsx(Fy,{children:e.jsx(gb,{children:e.jsx(rf,{children:e.jsxs(Yp,{children:[e.jsx(ae,{path:"/",element:e.jsx(Oj,{children:e.jsx(bb,{})})}),e.jsx(ae,{path:"/login",element:e.jsx(gt,{children:e.jsx(jb,{})})}),e.jsx(ae,{path:"/register",element:e.jsx(gt,{children:e.jsx(Nb,{})})}),e.jsx(ae,{path:"/forgot-password",element:e.jsx(gt,{children:e.jsx(vb,{})})}),e.jsx(ae,{path:"/reset-password",element:e.jsx(gt,{children:e.jsx(wb,{})})}),e.jsx(ae,{path:"/email-verification",element:e.jsx(gt,{children:e.jsx(kb,{})})}),e.jsx(ae,{path:"/about",element:e.jsx(gt,{children:e.jsx(Pb,{})})}),e.jsx(ae,{path:"/contact",element:e.jsx(gt,{children:e.jsx(Tb,{})})}),e.jsx(ae,{path:"/hotels",element:e.jsx(gt,{children:e.jsx(Rb,{})})}),e.jsx(ae,{path:"/hotels/:id",element:e.jsx(gt,{children:e.jsx(Mb,{})})}),e.jsx(ae,{path:"/profile",element:e.jsx(de,{requireAuth:!0,children:e.jsx(gt,{children:e.jsx(Sb,{})})})}),e.jsx(ae,{path:"/bookings",element:e.jsx(de,{requireAuth:!0,children:e.jsx(gt,{children:e.jsx(Lb,{})})})}),e.jsx(ae,{path:"/bookings/my",element:e.jsx(de,{requireAuth:!0,children:e.jsx(gt,{children:e.jsx(Kb,{})})})}),e.jsx(ae,{path:"/bookings/:id",element:e.jsx(de,{requireAuth:!0,children:e.jsx(gt,{children:e.jsx(Bb,{})})})}),e.jsx(ae,{path:"/bookings/confirmation/:bookingId",element:e.jsx(de,{requireAuth:!0,children:e.jsx(gt,{children:e.jsx(zb,{})})})}),e.jsx(ae,{path:"/booking",element:e.jsx(de,{requireAuth:!0,children:e.jsx(gt,{children:e.jsx(_b,{})})})}),e.jsx(ae,{path:"/my-reviews",element:e.jsx(de,{requireAuth:!0,children:e.jsx(gt,{children:e.jsx(qb,{})})})}),e.jsx(ae,{path:"/admin",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Gb,{})})})}),e.jsx(ae,{path:"/admin/commissions",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Wb,{})})})}),e.jsx(ae,{path:"/admin/invoices",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Yb,{})})})}),e.jsx(ae,{path:"/admin/invoices/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Qb,{})})})}),e.jsx(ae,{path:"/admin/promotions",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(ej,{})})})}),e.jsx(ae,{path:"/admin/analytics",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(tj,{})})})}),e.jsx(ae,{path:"/admin/commission-payments",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(sj,{})})})}),e.jsx(ae,{path:"/admin/commission-payments/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(rj,{})})})}),e.jsx(ae,{path:"/admin/commission-payments/create",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(nj,{})})})}),e.jsx(ae,{path:"/admin/bookings",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(aj,{})})})}),e.jsx(ae,{path:"/admin/bookings/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(lj,{})})})}),e.jsx(ae,{path:"/admin/hotels",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(ij,{})})})}),e.jsx(ae,{path:"/admin/hotels/add",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(dj,{})})})}),e.jsx(ae,{path:"/admin/hotels/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(oj,{})})})}),e.jsx(ae,{path:"/admin/hotels/edit/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(mj,{})})})}),e.jsx(ae,{path:"/admin/room-types",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(uj,{})})})}),e.jsx(ae,{path:"/admin/room-types/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(hj,{})})})}),e.jsx(ae,{path:"/admin/room-types/edit/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(xj,{})})})}),e.jsx(ae,{path:"/admin/room-types/add",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(gj,{})})})}),e.jsx(ae,{path:"/admin/users",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(pj,{})})})}),e.jsx(ae,{path:"/admin/users/add",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(bj,{})})})}),e.jsx(ae,{path:"/admin/users/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(fj,{})})})}),e.jsx(ae,{path:"/admin/users/edit/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(yj,{})})})}),e.jsx(ae,{path:"/admin/reviews",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(jj,{})})})}),e.jsx(ae,{path:"/admin/settings",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Nj,{})})})}),e.jsx(ae,{path:"/host",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(vj,{})})})}),e.jsx(ae,{path:"/host/properties",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(wj,{})})})}),e.jsx(ae,{path:"/host/properties/add",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Tj,{})})})}),e.jsx(ae,{path:"/host/properties/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Rj,{})})})}),e.jsx(ae,{path:"/host/hotels",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Ej,{})})})}),e.jsx(ae,{path:"/host/hotels/add",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Dj,{})})})}),e.jsx(ae,{path:"/host/hotels/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Aj,{})})})}),e.jsx(ae,{path:"/host/hotels/edit/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Ij,{})})})}),e.jsx(ae,{path:"/host/room-types",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Mj,{})})})}),e.jsx(ae,{path:"/host/room-types/add",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Lj,{})})})}),e.jsx(ae,{path:"/host/room-types/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Bj,{})})})}),e.jsx(ae,{path:"/host/room-types/edit/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(zj,{})})})}),e.jsx(ae,{path:"/host/bookings",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Cj,{})})})}),e.jsx(ae,{path:"/host/bookings/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Sj,{})})})}),e.jsx(ae,{path:"/host/analytics",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Pj,{})})})}),e.jsx(ae,{path:"*",element:e.jsx(Co,{to:"/",replace:!0})})]})})})})}Hh(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(Hj,{})}));
