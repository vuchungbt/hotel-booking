function Mx(t,s){for(var n=0;n<s.length;n++){const r=s[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Lx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Em={exports:{}},Pl={},Rm={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),Bx=Symbol.for("react.portal"),Ox=Symbol.for("react.fragment"),zx=Symbol.for("react.strict_mode"),Hx=Symbol.for("react.profiler"),Fx=Symbol.for("react.provider"),Vx=Symbol.for("react.context"),$x=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),_x=Symbol.for("react.memo"),qx=Symbol.for("react.lazy"),Wc=Symbol.iterator;function Kx(t){return t===null||typeof t!="object"?null:(t=Wc&&t[Wc]||t["@@iterator"],typeof t=="function"?t:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Am=Object.assign,Im={};function or(t,s,n){this.props=t,this.context=s,this.refs=Im,this.updater=n||Dm}or.prototype.isReactComponent={};or.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};or.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mm(){}Mm.prototype=or.prototype;function Fo(t,s,n){this.props=t,this.context=s,this.refs=Im,this.updater=n||Dm}var Vo=Fo.prototype=new Mm;Vo.constructor=Fo;Am(Vo,or.prototype);Vo.isPureReactComponent=!0;var Yc=Array.isArray,Lm=Object.prototype.hasOwnProperty,$o={current:null},Bm={key:!0,ref:!0,__self:!0,__source:!0};function Om(t,s,n){var r,a={},l=null,i=null;if(s!=null)for(r in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)Lm.call(s,r)&&!Bm.hasOwnProperty(r)&&(a[r]=s[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:ma,type:t,key:l,ref:i,props:a,_owner:$o.current}}function Gx(t,s){return{$$typeof:ma,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function Uo(t){return typeof t=="object"&&t!==null&&t.$$typeof===ma}function Wx(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return s[n]})}var Qc=/\/+/g;function ei(t,s){return typeof t=="object"&&t!==null&&t.key!=null?Wx(""+t.key):s.toString(36)}function Oa(t,s,n,r,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case ma:case Bx:i=!0}}if(i)return i=t,a=a(i),t=r===""?"."+ei(i,0):r,Yc(a)?(n="",t!=null&&(n=t.replace(Qc,"$&/")+"/"),Oa(a,s,n,"",function(d){return d})):a!=null&&(Uo(a)&&(a=Gx(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Qc,"$&/")+"/")+t)),s.push(a)),1;if(i=0,r=r===""?".":r+":",Yc(t))for(var o=0;o<t.length;o++){l=t[o];var c=r+ei(l,o);i+=Oa(l,s,n,c,a)}else if(c=Kx(t),typeof c=="function")for(t=c.call(t),o=0;!(l=t.next()).done;)l=l.value,c=r+ei(l,o++),i+=Oa(l,s,n,c,a);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function ya(t,s,n){if(t==null)return t;var r=[],a=0;return Oa(t,r,"","",function(l){return s.call(n,l,a++)}),r}function Yx(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},za={transition:null},Qx={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:za,ReactCurrentOwner:$o};function zm(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:ya,forEach:function(t,s,n){ya(t,function(){s.apply(this,arguments)},n)},count:function(t){var s=0;return ya(t,function(){s++}),s},toArray:function(t){return ya(t,function(s){return s})||[]},only:function(t){if(!Uo(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=or;ye.Fragment=Ox;ye.Profiler=Hx;ye.PureComponent=Fo;ye.StrictMode=zx;ye.Suspense=Ux;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qx;ye.act=zm;ye.cloneElement=function(t,s,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Am({},t.props),a=t.key,l=t.ref,i=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=$o.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)Lm.call(s,c)&&!Bm.hasOwnProperty(c)&&(r[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:ma,type:t.type,key:a,ref:l,props:r,_owner:i}};ye.createContext=function(t){return t={$$typeof:Vx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fx,_context:t},t.Consumer=t};ye.createElement=Om;ye.createFactory=function(t){var s=Om.bind(null,t);return s.type=t,s};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:$x,render:t}};ye.isValidElement=Uo;ye.lazy=function(t){return{$$typeof:qx,_payload:{_status:-1,_result:t},_init:Yx}};ye.memo=function(t,s){return{$$typeof:_x,type:t,compare:s===void 0?null:s}};ye.startTransition=function(t){var s=za.transition;za.transition={};try{t()}finally{za.transition=s}};ye.unstable_act=zm;ye.useCallback=function(t,s){return St.current.useCallback(t,s)};ye.useContext=function(t){return St.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return St.current.useDeferredValue(t)};ye.useEffect=function(t,s){return St.current.useEffect(t,s)};ye.useId=function(){return St.current.useId()};ye.useImperativeHandle=function(t,s,n){return St.current.useImperativeHandle(t,s,n)};ye.useInsertionEffect=function(t,s){return St.current.useInsertionEffect(t,s)};ye.useLayoutEffect=function(t,s){return St.current.useLayoutEffect(t,s)};ye.useMemo=function(t,s){return St.current.useMemo(t,s)};ye.useReducer=function(t,s,n){return St.current.useReducer(t,s,n)};ye.useRef=function(t){return St.current.useRef(t)};ye.useState=function(t){return St.current.useState(t)};ye.useSyncExternalStore=function(t,s,n){return St.current.useSyncExternalStore(t,s,n)};ye.useTransition=function(){return St.current.useTransition()};ye.version="18.3.1";Rm.exports=ye;var h=Rm.exports;const jn=Lx(h),Xx=Mx({__proto__:null,default:jn},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=h,Zx=Symbol.for("react.element"),e0=Symbol.for("react.fragment"),t0=Object.prototype.hasOwnProperty,s0=Jx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n0={key:!0,ref:!0,__self:!0,__source:!0};function Hm(t,s,n){var r,a={},l=null,i=null;n!==void 0&&(l=""+n),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(r in s)t0.call(s,r)&&!n0.hasOwnProperty(r)&&(a[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Zx,type:t,key:l,ref:i,props:a,_owner:s0.current}}Pl.Fragment=e0;Pl.jsx=Hm;Pl.jsxs=Hm;Em.exports=Pl;var e=Em.exports,Fm={exports:{}},$t={},Vm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(O,Y){var W=O.length;O.push(Y);e:for(;0<W;){var z=W-1>>>1,A=O[z];if(0<a(A,Y))O[z]=Y,O[W]=A,W=z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var Y=O[0],W=O.pop();if(W!==Y){O[0]=W;e:for(var z=0,A=O.length,F=A>>>1;z<F;){var B=2*(z+1)-1,se=O[B],oe=B+1,Ee=O[oe];if(0>a(se,W))oe<A&&0>a(Ee,se)?(O[z]=Ee,O[oe]=W,z=oe):(O[z]=se,O[B]=W,z=B);else if(oe<A&&0>a(Ee,W))O[z]=Ee,O[oe]=W,z=oe;else break e}}return Y}function a(O,Y){var W=O.sortIndex-Y.sortIndex;return W!==0?W:O.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,g=3,x=!1,y=!1,f=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=O)r(d),Y.sortIndex=Y.expirationTime,s(c,Y);else break;Y=n(d)}}function v(O){if(f=!1,b(O),!y)if(n(c)!==null)y=!0,q(w);else{var Y=n(d);Y!==null&&_(v,Y.startTime-O)}}function w(O,Y){y=!1,f&&(f=!1,N(S),S=-1),x=!0;var W=g;try{for(b(Y),m=n(c);m!==null&&(!(m.expirationTime>Y)||O&&!E());){var z=m.callback;if(typeof z=="function"){m.callback=null,g=m.priorityLevel;var A=z(m.expirationTime<=Y);Y=t.unstable_now(),typeof A=="function"?m.callback=A:m===n(c)&&r(c),b(Y)}else r(c);m=n(c)}if(m!==null)var F=!0;else{var B=n(d);B!==null&&_(v,B.startTime-Y),F=!1}return F}finally{m=null,g=W,x=!1}}var k=!1,C=null,S=-1,P=5,T=-1;function E(){return!(t.unstable_now()-T<P)}function R(){if(C!==null){var O=t.unstable_now();T=O;var Y=!0;try{Y=C(!0,O)}finally{Y?I():(k=!1,C=null)}}else k=!1}var I;if(typeof p=="function")I=function(){p(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=R,I=function(){K.postMessage(null)}}else I=function(){j(R,0)};function q(O){C=O,k||(k=!0,I())}function _(O,Y){S=j(function(){O(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,q(w))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var W=g;g=Y;try{return O()}finally{g=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,Y){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=g;g=O;try{return Y()}finally{g=W}},t.unstable_scheduleCallback=function(O,Y,W){var z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,O){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=W+A,O={id:u++,callback:Y,priorityLevel:O,startTime:W,expirationTime:A,sortIndex:-1},W>z?(O.sortIndex=W,s(d,O),n(c)===null&&O===n(d)&&(f?(N(S),S=-1):f=!0,_(v,W-z))):(O.sortIndex=A,s(c,O),y||x||(y=!0,q(w))),O},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(O){var Y=g;return function(){var W=g;g=Y;try{return O.apply(this,arguments)}finally{g=W}}}})($m);Vm.exports=$m;var r0=Vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=h,Vt=r0;function Z(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Um=new Set,$r={};function En(t,s){Zn(t,s),Zn(t+"Capture",s)}function Zn(t,s){for($r[t]=s,t=0;t<s.length;t++)Um.add(s[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ii=Object.prototype.hasOwnProperty,l0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xc={},Jc={};function i0(t){return Ii.call(Jc,t)?!0:Ii.call(Xc,t)?!1:l0.test(t)?Jc[t]=!0:(Xc[t]=!0,!1)}function o0(t,s,n,r){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c0(t,s,n,r){if(s===null||typeof s>"u"||o0(t,s,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Pt(t,s,n,r,a,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];ut[s]=new Pt(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var _o=/[\-:]([a-z])/g;function qo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(_o,qo);ut[s]=new Pt(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(_o,qo);ut[s]=new Pt(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(_o,qo);ut[s]=new Pt(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ko(t,s,n,r){var a=ut.hasOwnProperty(s)?ut[s]:null;(a!==null?a.type!==0:r||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(c0(s,n,a,r)&&(n=null),r||a===null?i0(s)&&(n===null?t.removeAttribute(s):t.setAttribute(s,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(s=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(s):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,s,n):t.setAttribute(s,n))))}var Is=a0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Go=Symbol.for("react.strict_mode"),Mi=Symbol.for("react.profiler"),_m=Symbol.for("react.provider"),qm=Symbol.for("react.context"),Wo=Symbol.for("react.forward_ref"),Li=Symbol.for("react.suspense"),Bi=Symbol.for("react.suspense_list"),Yo=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),Km=Symbol.for("react.offscreen"),Zc=Symbol.iterator;function br(t){return t===null||typeof t!="object"?null:(t=Zc&&t[Zc]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,ti;function Er(t){if(ti===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);ti=s&&s[1]||""}return`
`+ti+t}var si=!1;function ni(t,s){if(!t||si)return"";si=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var r=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){r=d}t.call(s.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=o);break}}}finally{si=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Er(t):""}function d0(t){switch(t.tag){case 5:return Er(t.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 2:case 15:return t=ni(t.type,!1),t;case 11:return t=ni(t.type.render,!1),t;case 1:return t=ni(t.type,!0),t;default:return""}}function Oi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ln:return"Fragment";case Mn:return"Portal";case Mi:return"Profiler";case Go:return"StrictMode";case Li:return"Suspense";case Bi:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qm:return(t.displayName||"Context")+".Consumer";case _m:return(t._context.displayName||"Context")+".Provider";case Wo:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yo:return s=t.displayName||null,s!==null?s:Oi(t.type)||"Memo";case Os:s=t._payload,t=t._init;try{return Oi(t(s))}catch{}}return null}function m0(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oi(s);case 8:return s===Go?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function u0(t){var s=Gm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ja(t){t._valueTracker||(t._valueTracker=u0(t))}function Wm(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),r="";return t&&(r=Gm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(s.setValue(t),!0):!1}function Ja(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zi(t,s){var n=s.checked;return Ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ed(t,s){var n=s.defaultValue==null?"":s.defaultValue,r=s.checked!=null?s.checked:s.defaultChecked;n=Zs(s.value!=null?s.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ym(t,s){s=s.checked,s!=null&&Ko(t,"checked",s,!1)}function Hi(t,s){Ym(t,s);var n=Zs(s.value),r=s.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Fi(t,s.type,n):s.hasOwnProperty("defaultValue")&&Fi(t,s.type,Zs(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function td(t,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var r=s.type;if(!(r!=="submit"&&r!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,n||s===t.value||(t.value=s),t.defaultValue=s}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fi(t,s,n){(s!=="number"||Ja(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rr=Array.isArray;function Kn(t,s,n,r){if(t=t.options,s){s={};for(var a=0;a<n.length;a++)s["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=s.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zs(n),s=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function Vi(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ue({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sd(t,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(Z(92));if(Rr(n)){if(1<n.length)throw Error(Z(93));n=n[0]}s=n}s==null&&(s=""),n=s}t._wrapperState={initialValue:Zs(n)}}function Qm(t,s){var n=Zs(s.value),r=Zs(s.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),s.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nd(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Xm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $i(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Xm(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Na,Jm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(s,n,r,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Na.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Ur(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var Ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h0=["Webkit","ms","Moz","O"];Object.keys(Ir).forEach(function(t){h0.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Ir[s]=Ir[t]})});function Zm(t,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||Ir.hasOwnProperty(t)&&Ir[t]?(""+s).trim():s+"px"}function eu(t,s){t=t.style;for(var n in s)if(s.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Zm(n,s[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var x0=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ui(t,s){if(s){if(x0[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(Z(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(Z(61))}if(s.style!=null&&typeof s.style!="object")throw Error(Z(62))}}function _i(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Qo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Gn=null,Wn=null;function rd(t){if(t=xa(t)){if(typeof Ki!="function")throw Error(Z(280));var s=t.stateNode;s&&(s=Al(s),Ki(t.stateNode,t.type,s))}}function tu(t){Gn?Wn?Wn.push(t):Wn=[t]:Gn=t}function su(){if(Gn){var t=Gn,s=Wn;if(Wn=Gn=null,rd(t),s)for(t=0;t<s.length;t++)rd(s[t])}}function nu(t,s){return t(s)}function ru(){}var ri=!1;function au(t,s,n){if(ri)return t(s,n);ri=!0;try{return nu(t,s,n)}finally{ri=!1,(Gn!==null||Wn!==null)&&(ru(),su())}}function _r(t,s){var n=t.stateNode;if(n===null)return null;var r=Al(n);if(r===null)return null;n=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,s,typeof n));return n}var Gi=!1;if(Es)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{Gi=!1}function g0(t,s,n,r,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(n,d)}catch(u){this.onError(u)}}var Mr=!1,Za=null,el=!1,Wi=null,p0={onError:function(t){Mr=!0,Za=t}};function f0(t,s,n,r,a,l,i,o,c){Mr=!1,Za=null,g0.apply(p0,arguments)}function y0(t,s,n,r,a,l,i,o,c){if(f0.apply(this,arguments),Mr){if(Mr){var d=Za;Mr=!1,Za=null}else throw Error(Z(198));el||(el=!0,Wi=d)}}function Rn(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function lu(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function ad(t){if(Rn(t)!==t)throw Error(Z(188))}function b0(t){var s=t.alternate;if(!s){if(s=Rn(t),s===null)throw Error(Z(188));return s!==t?null:t}for(var n=t,r=s;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return ad(a),t;if(l===r)return ad(a),s;l=l.sibling}throw Error(Z(188))}if(n.return!==r.return)n=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:s}function iu(t){return t=b0(t),t!==null?ou(t):null}function ou(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=ou(t);if(s!==null)return s;t=t.sibling}return null}var cu=Vt.unstable_scheduleCallback,ld=Vt.unstable_cancelCallback,j0=Vt.unstable_shouldYield,N0=Vt.unstable_requestPaint,Ge=Vt.unstable_now,v0=Vt.unstable_getCurrentPriorityLevel,Xo=Vt.unstable_ImmediatePriority,du=Vt.unstable_UserBlockingPriority,tl=Vt.unstable_NormalPriority,w0=Vt.unstable_LowPriority,mu=Vt.unstable_IdlePriority,Tl=null,fs=null;function k0(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(Tl,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:P0,C0=Math.log,S0=Math.LN2;function P0(t){return t>>>=0,t===0?32:31-(C0(t)/S0|0)|0}var va=64,wa=4194304;function Dr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sl(t,s){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,l=t.pingedLanes,i=n&268435455;if(i!==0){var o=i&~a;o!==0?r=Dr(o):(l&=i,l!==0&&(r=Dr(l)))}else i=n&~a,i!==0?r=Dr(i):l!==0&&(r=Dr(l));if(r===0)return 0;if(s!==0&&s!==r&&!(s&a)&&(a=r&-r,l=s&-s,a>=l||a===16&&(l&4194240)!==0))return s;if(r&4&&(r|=n&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=r;0<s;)n=31-ls(s),a=1<<n,r|=t[n],s&=~a;return r}function T0(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E0(t,s){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-ls(l),o=1<<i,c=a[i];c===-1?(!(o&n)||o&r)&&(a[i]=T0(o,s)):c<=s&&(t.expiredLanes|=o),l&=~o}}function Yi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uu(){var t=va;return va<<=1,!(va&4194240)&&(va=64),t}function ai(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function ua(t,s,n){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-ls(s),t[s]=n}function R0(t,s){var n=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-ls(n),l=1<<a;s[a]=0,r[a]=-1,t[a]=-1,n&=~l}}function Jo(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var r=31-ls(n),a=1<<r;a&s|t[r]&s&&(t[r]|=s),n&=~a}}var Te=0;function hu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xu,Zo,gu,pu,fu,Qi=!1,ka=[],_s=null,qs=null,Ks=null,qr=new Map,Kr=new Map,Hs=[],D0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(t,s){switch(t){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":qr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(s.pointerId)}}function Nr(t,s,n,r,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},s!==null&&(s=xa(s),s!==null&&Zo(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function A0(t,s,n,r,a){switch(s){case"focusin":return _s=Nr(_s,t,s,n,r,a),!0;case"dragenter":return qs=Nr(qs,t,s,n,r,a),!0;case"mouseover":return Ks=Nr(Ks,t,s,n,r,a),!0;case"pointerover":var l=a.pointerId;return qr.set(l,Nr(qr.get(l)||null,t,s,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,Kr.set(l,Nr(Kr.get(l)||null,t,s,n,r,a)),!0}return!1}function yu(t){var s=un(t.target);if(s!==null){var n=Rn(s);if(n!==null){if(s=n.tag,s===13){if(s=lu(n),s!==null){t.blockedOn=s,fu(t.priority,function(){gu(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ha(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=Xi(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qi=r,n.target.dispatchEvent(r),qi=null}else return s=xa(n),s!==null&&Zo(s),t.blockedOn=n,!1;s.shift()}return!0}function od(t,s,n){Ha(t)&&n.delete(s)}function I0(){Qi=!1,_s!==null&&Ha(_s)&&(_s=null),qs!==null&&Ha(qs)&&(qs=null),Ks!==null&&Ha(Ks)&&(Ks=null),qr.forEach(od),Kr.forEach(od)}function vr(t,s){t.blockedOn===s&&(t.blockedOn=null,Qi||(Qi=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,I0)))}function Gr(t){function s(a){return vr(a,t)}if(0<ka.length){vr(ka[0],t);for(var n=1;n<ka.length;n++){var r=ka[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_s!==null&&vr(_s,t),qs!==null&&vr(qs,t),Ks!==null&&vr(Ks,t),qr.forEach(s),Kr.forEach(s),n=0;n<Hs.length;n++)r=Hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hs.length&&(n=Hs[0],n.blockedOn===null);)yu(n),n.blockedOn===null&&Hs.shift()}var Yn=Is.ReactCurrentBatchConfig,nl=!0;function M0(t,s,n,r){var a=Te,l=Yn.transition;Yn.transition=null;try{Te=1,ec(t,s,n,r)}finally{Te=a,Yn.transition=l}}function L0(t,s,n,r){var a=Te,l=Yn.transition;Yn.transition=null;try{Te=4,ec(t,s,n,r)}finally{Te=a,Yn.transition=l}}function ec(t,s,n,r){if(nl){var a=Xi(t,s,n,r);if(a===null)gi(t,s,r,rl,n),id(t,r);else if(A0(a,t,s,n,r))r.stopPropagation();else if(id(t,r),s&4&&-1<D0.indexOf(t)){for(;a!==null;){var l=xa(a);if(l!==null&&xu(l),l=Xi(t,s,n,r),l===null&&gi(t,s,r,rl,n),l===a)break;a=l}a!==null&&r.stopPropagation()}else gi(t,s,r,null,n)}}var rl=null;function Xi(t,s,n,r){if(rl=null,t=Qo(r),t=un(t),t!==null)if(s=Rn(t),s===null)t=null;else if(n=s.tag,n===13){if(t=lu(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return rl=t,null}function bu(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v0()){case Xo:return 1;case du:return 4;case tl:case w0:return 16;case mu:return 536870912;default:return 16}default:return 16}}var Vs=null,tc=null,Fa=null;function ju(){if(Fa)return Fa;var t,s=tc,n=s.length,r,a="value"in Vs?Vs.value:Vs.textContent,l=a.length;for(t=0;t<n&&s[t]===a[t];t++);var i=n-t;for(r=1;r<=i&&s[n-r]===a[l-r];r++);return Fa=a.slice(t,1<r?1-r:void 0)}function Va(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ca(){return!0}function cd(){return!1}function Ut(t){function s(n,r,a,l,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ca:cd,this.isPropagationStopped=cd,this}return Ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),s}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=Ut(cr),ha=Ue({},cr,{view:0,detail:0}),B0=Ut(ha),li,ii,wr,El=Ue({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(li=t.screenX-wr.screenX,ii=t.screenY-wr.screenY):ii=li=0,wr=t),li)},movementY:function(t){return"movementY"in t?t.movementY:ii}}),dd=Ut(El),O0=Ue({},El,{dataTransfer:0}),z0=Ut(O0),H0=Ue({},ha,{relatedTarget:0}),oi=Ut(H0),F0=Ue({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),V0=Ut(F0),$0=Ue({},cr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U0=Ut($0),_0=Ue({},cr,{data:0}),md=Ut(_0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=G0[t])?!!s[t]:!1}function nc(){return W0}var Y0=Ue({},ha,{key:function(t){if(t.key){var s=q0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?K0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(t){return t.type==="keypress"?Va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q0=Ut(Y0),X0=Ue({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ud=Ut(X0),J0=Ue({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),Z0=Ut(J0),eg=Ue({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tg=Ut(eg),sg=Ue({},El,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ng=Ut(sg),rg=[9,13,27,32],rc=Es&&"CompositionEvent"in window,Lr=null;Es&&"documentMode"in document&&(Lr=document.documentMode);var ag=Es&&"TextEvent"in window&&!Lr,Nu=Es&&(!rc||Lr&&8<Lr&&11>=Lr),hd=" ",xd=!1;function vu(t,s){switch(t){case"keyup":return rg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bn=!1;function lg(t,s){switch(t){case"compositionend":return wu(s);case"keypress":return s.which!==32?null:(xd=!0,hd);case"textInput":return t=s.data,t===hd&&xd?null:t;default:return null}}function ig(t,s){if(Bn)return t==="compositionend"||!rc&&vu(t,s)?(t=ju(),Fa=tc=Vs=null,Bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Nu&&s.locale!=="ko"?null:s.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!og[t.type]:s==="textarea"}function ku(t,s,n,r){tu(r),s=al(s,"onChange"),0<s.length&&(n=new sc("onChange","change",null,n,r),t.push({event:n,listeners:s}))}var Br=null,Wr=null;function cg(t){Lu(t,0)}function Rl(t){var s=Hn(t);if(Wm(s))return t}function dg(t,s){if(t==="change")return s}var Cu=!1;if(Es){var ci;if(Es){var di="oninput"in document;if(!di){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),di=typeof pd.oninput=="function"}ci=di}else ci=!1;Cu=ci&&(!document.documentMode||9<document.documentMode)}function fd(){Br&&(Br.detachEvent("onpropertychange",Su),Wr=Br=null)}function Su(t){if(t.propertyName==="value"&&Rl(Wr)){var s=[];ku(s,Wr,t,Qo(t)),au(cg,s)}}function mg(t,s,n){t==="focusin"?(fd(),Br=s,Wr=n,Br.attachEvent("onpropertychange",Su)):t==="focusout"&&fd()}function ug(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rl(Wr)}function hg(t,s){if(t==="click")return Rl(s)}function xg(t,s){if(t==="input"||t==="change")return Rl(s)}function gg(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var cs=typeof Object.is=="function"?Object.is:gg;function Yr(t,s){if(cs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),r=Object.keys(s);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Ii.call(s,a)||!cs(t[a],s[a]))return!1}return!0}function yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bd(t,s){var n=yd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=s&&r>=s)return{node:n,offset:s-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yd(n)}}function Pu(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Pu(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Tu(){for(var t=window,s=Ja();s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=Ja(t.document)}return s}function ac(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function pg(t){var s=Tu(),n=t.focusedElem,r=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&Pu(n.ownerDocument.documentElement,n)){if(r!==null&&ac(n)){if(s=r.start,t=r.end,t===void 0&&(t=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(t,n.value.length);else if(t=(s=n.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!t.extend&&l>r&&(a=r,r=l,l=a),a=bd(n,l);var i=bd(n,r);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),l>r?(t.addRange(s),t.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),t.addRange(s)))}}for(s=[],t=n;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)t=s[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fg=Es&&"documentMode"in document&&11>=document.documentMode,On=null,Ji=null,Or=null,Zi=!1;function jd(t,s,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zi||On==null||On!==Ja(r)||(r=On,"selectionStart"in r&&ac(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&Yr(Or,r)||(Or=r,r=al(Ji,"onSelect"),0<r.length&&(s=new sc("onSelect","select",null,s,n),t.push({event:s,listeners:r}),s.target=On)))}function Sa(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var zn={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},mi={},Eu={};Es&&(Eu=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Dl(t){if(mi[t])return mi[t];if(!zn[t])return t;var s=zn[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in Eu)return mi[t]=s[n];return t}var Ru=Dl("animationend"),Du=Dl("animationiteration"),Au=Dl("animationstart"),Iu=Dl("transitionend"),Mu=new Map,Nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(t,s){Mu.set(t,s),En(s,[t])}for(var ui=0;ui<Nd.length;ui++){var hi=Nd[ui],yg=hi.toLowerCase(),bg=hi[0].toUpperCase()+hi.slice(1);nn(yg,"on"+bg)}nn(Ru,"onAnimationEnd");nn(Du,"onAnimationIteration");nn(Au,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Iu,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function vd(t,s,n){var r=t.type||"unknown-event";t.currentTarget=n,y0(r,s,void 0,t),t.currentTarget=null}function Lu(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var l=void 0;if(s)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;vd(a,o,d),l=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;vd(a,o,d),l=c}}}if(el)throw t=Wi,el=!1,Wi=null,t}function Ie(t,s){var n=s[ro];n===void 0&&(n=s[ro]=new Set);var r=t+"__bubble";n.has(r)||(Bu(s,t,2,!1),n.add(r))}function xi(t,s,n){var r=0;s&&(r|=4),Bu(n,t,r,s)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function Qr(t){if(!t[Pa]){t[Pa]=!0,Um.forEach(function(n){n!=="selectionchange"&&(jg.has(n)||xi(n,!1,t),xi(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Pa]||(s[Pa]=!0,xi("selectionchange",!1,s))}}function Bu(t,s,n,r){switch(bu(s)){case 1:var a=M0;break;case 4:a=L0;break;default:a=ec}n=a.bind(null,s,n,t),a=void 0,!Gi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(s,n,{capture:!0,passive:a}):t.addEventListener(s,n,!0):a!==void 0?t.addEventListener(s,n,{passive:a}):t.addEventListener(s,n,!1)}function gi(t,s,n,r,a){var l=r;if(!(s&1)&&!(s&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=un(o),i===null)return;if(c=i.tag,c===5||c===6){r=l=i;continue e}o=o.parentNode}}r=r.return}au(function(){var d=l,u=Qo(n),m=[];e:{var g=Mu.get(t);if(g!==void 0){var x=sc,y=t;switch(t){case"keypress":if(Va(n)===0)break e;case"keydown":case"keyup":x=Q0;break;case"focusin":y="focus",x=oi;break;case"focusout":y="blur",x=oi;break;case"beforeblur":case"afterblur":x=oi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Z0;break;case Ru:case Du:case Au:x=V0;break;case Iu:x=tg;break;case"scroll":x=B0;break;case"wheel":x=ng;break;case"copy":case"cut":case"paste":x=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ud}var f=(s&4)!==0,j=!f&&t==="scroll",N=f?g!==null?g+"Capture":null:g;f=[];for(var p=d,b;p!==null;){b=p;var v=b.stateNode;if(b.tag===5&&v!==null&&(b=v,N!==null&&(v=_r(p,N),v!=null&&f.push(Xr(p,v,b)))),j)break;p=p.return}0<f.length&&(g=new x(g,y,null,n,u),m.push({event:g,listeners:f}))}}if(!(s&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==qi&&(y=n.relatedTarget||n.fromElement)&&(un(y)||y[Rs]))break e;if((x||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=d,y=y?un(y):null,y!==null&&(j=Rn(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=d),x!==y)){if(f=dd,v="onMouseLeave",N="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(f=ud,v="onPointerLeave",N="onPointerEnter",p="pointer"),j=x==null?g:Hn(x),b=y==null?g:Hn(y),g=new f(v,p+"leave",x,n,u),g.target=j,g.relatedTarget=b,v=null,un(u)===d&&(f=new f(N,p+"enter",y,n,u),f.target=b,f.relatedTarget=j,v=f),j=v,x&&y)t:{for(f=x,N=y,p=0,b=f;b;b=An(b))p++;for(b=0,v=N;v;v=An(v))b++;for(;0<p-b;)f=An(f),p--;for(;0<b-p;)N=An(N),b--;for(;p--;){if(f===N||N!==null&&f===N.alternate)break t;f=An(f),N=An(N)}f=null}else f=null;x!==null&&wd(m,g,x,f,!1),y!==null&&j!==null&&wd(m,j,y,f,!0)}}e:{if(g=d?Hn(d):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var w=dg;else if(gd(g))if(Cu)w=xg;else{w=ug;var k=mg}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=hg);if(w&&(w=w(t,d))){ku(m,w,n,u);break e}k&&k(t,g,d),t==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Fi(g,"number",g.value)}switch(k=d?Hn(d):window,t){case"focusin":(gd(k)||k.contentEditable==="true")&&(On=k,Ji=d,Or=null);break;case"focusout":Or=Ji=On=null;break;case"mousedown":Zi=!0;break;case"contextmenu":case"mouseup":case"dragend":Zi=!1,jd(m,n,u);break;case"selectionchange":if(fg)break;case"keydown":case"keyup":jd(m,n,u)}var C;if(rc)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Bn?vu(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Nu&&n.locale!=="ko"&&(Bn||S!=="onCompositionStart"?S==="onCompositionEnd"&&Bn&&(C=ju()):(Vs=u,tc="value"in Vs?Vs.value:Vs.textContent,Bn=!0)),k=al(d,S),0<k.length&&(S=new md(S,t,null,n,u),m.push({event:S,listeners:k}),C?S.data=C:(C=wu(n),C!==null&&(S.data=C)))),(C=ag?lg(t,n):ig(t,n))&&(d=al(d,"onBeforeInput"),0<d.length&&(u=new md("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=C))}Lu(m,s)})}function Xr(t,s,n){return{instance:t,listener:s,currentTarget:n}}function al(t,s){for(var n=s+"Capture",r=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=_r(t,n),l!=null&&r.unshift(Xr(t,l,a)),l=_r(t,s),l!=null&&r.push(Xr(t,l,a))),t=t.return}return r}function An(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wd(t,s,n,r,a){for(var l=s._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,a?(c=_r(n,l),c!=null&&i.unshift(Xr(n,c,o))):a||(c=_r(n,l),c!=null&&i.push(Xr(n,c,o)))),n=n.return}i.length!==0&&t.push({event:s,listeners:i})}var Ng=/\r\n?/g,vg=/\u0000|\uFFFD/g;function kd(t){return(typeof t=="string"?t:""+t).replace(Ng,`
`).replace(vg,"")}function Ta(t,s,n){if(s=kd(s),kd(t)!==s&&n)throw Error(Z(425))}function ll(){}var eo=null,to=null;function so(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var no=typeof setTimeout=="function"?setTimeout:void 0,wg=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(t){return Cd.resolve(null).then(t).catch(Cg)}:no;function Cg(t){setTimeout(function(){throw t})}function pi(t,s){var n=s,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),Gr(s);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Gr(s)}function Gs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Sd(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}var dr=Math.random().toString(36).slice(2),ps="__reactFiber$"+dr,Jr="__reactProps$"+dr,Rs="__reactContainer$"+dr,ro="__reactEvents$"+dr,Sg="__reactListeners$"+dr,Pg="__reactHandles$"+dr;function un(t){var s=t[ps];if(s)return s;for(var n=t.parentNode;n;){if(s=n[Rs]||n[ps]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=Sd(t);t!==null;){if(n=t[ps])return n;t=Sd(t)}return s}t=n,n=t.parentNode}return null}function xa(t){return t=t[ps]||t[Rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Al(t){return t[Jr]||null}var ao=[],Fn=-1;function rn(t){return{current:t}}function Me(t){0>Fn||(t.current=ao[Fn],ao[Fn]=null,Fn--)}function Re(t,s){Fn++,ao[Fn]=t.current,t.current=s}var en={},bt=rn(en),At=rn(!1),Nn=en;function er(t,s){var n=t.type.contextTypes;if(!n)return en;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===s)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=s[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function It(t){return t=t.childContextTypes,t!=null}function il(){Me(At),Me(bt)}function Pd(t,s,n){if(bt.current!==en)throw Error(Z(168));Re(bt,s),Re(At,n)}function Ou(t,s,n){var r=t.stateNode;if(s=s.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in s))throw Error(Z(108,m0(t)||"Unknown",a));return Ue({},n,r)}function ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||en,Nn=bt.current,Re(bt,t),Re(At,At.current),!0}function Td(t,s,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=Ou(t,s,Nn),r.__reactInternalMemoizedMergedChildContext=t,Me(At),Me(bt),Re(bt,t)):Me(At),Re(At,n)}var ks=null,Il=!1,fi=!1;function zu(t){ks===null?ks=[t]:ks.push(t)}function Tg(t){Il=!0,zu(t)}function an(){if(!fi&&ks!==null){fi=!0;var t=0,s=Te;try{var n=ks;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ks=null,Il=!1}catch(a){throw ks!==null&&(ks=ks.slice(t+1)),cu(Xo,an),a}finally{Te=s,fi=!1}}return null}var Vn=[],$n=0,cl=null,dl=0,qt=[],Kt=0,vn=null,Ss=1,Ps="";function dn(t,s){Vn[$n++]=dl,Vn[$n++]=cl,cl=t,dl=s}function Hu(t,s,n){qt[Kt++]=Ss,qt[Kt++]=Ps,qt[Kt++]=vn,vn=t;var r=Ss;t=Ps;var a=32-ls(r)-1;r&=~(1<<a),n+=1;var l=32-ls(s)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ss=1<<32-ls(s)+a|n<<a|r,Ps=l+t}else Ss=1<<l|n<<a|r,Ps=t}function lc(t){t.return!==null&&(dn(t,1),Hu(t,1,0))}function ic(t){for(;t===cl;)cl=Vn[--$n],Vn[$n]=null,dl=Vn[--$n],Vn[$n]=null;for(;t===vn;)vn=qt[--Kt],qt[Kt]=null,Ps=qt[--Kt],qt[Kt]=null,Ss=qt[--Kt],qt[Kt]=null}var Ft=null,Ht=null,Oe=!1,as=null;function Fu(t,s){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=t,s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)}function Ed(t,s){switch(t.tag){case 5:var n=t.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ft=t,Ht=Gs(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ft=t,Ht=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=vn!==null?{id:Ss,overflow:Ps}:null,t.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=s,n.return=t,t.child=n,Ft=t,Ht=null,!0):!1;default:return!1}}function lo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function io(t){if(Oe){var s=Ht;if(s){var n=s;if(!Ed(t,s)){if(lo(t))throw Error(Z(418));s=Gs(n.nextSibling);var r=Ft;s&&Ed(t,s)?Fu(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Ft=t)}}else{if(lo(t))throw Error(Z(418));t.flags=t.flags&-4097|2,Oe=!1,Ft=t}}}function Rd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ft=t}function Ea(t){if(t!==Ft)return!1;if(!Oe)return Rd(t),Oe=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!so(t.type,t.memoizedProps)),s&&(s=Ht)){if(lo(t))throw Vu(),Error(Z(418));for(;s;)Fu(t,s),s=Gs(s.nextSibling)}if(Rd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(s===0){Ht=Gs(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}t=t.nextSibling}Ht=null}}else Ht=Ft?Gs(t.stateNode.nextSibling):null;return!0}function Vu(){for(var t=Ht;t;)t=Gs(t.nextSibling)}function tr(){Ht=Ft=null,Oe=!1}function oc(t){as===null?as=[t]:as.push(t)}var Eg=Is.ReactCurrentBatchConfig;function kr(t,s,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var a=r,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Ra(t,s){throw t=Object.prototype.toString.call(s),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Dd(t){var s=t._init;return s(t._payload)}function $u(t){function s(N,p){if(t){var b=N.deletions;b===null?(N.deletions=[p],N.flags|=16):b.push(p)}}function n(N,p){if(!t)return null;for(;p!==null;)s(N,p),p=p.sibling;return null}function r(N,p){for(N=new Map;p!==null;)p.key!==null?N.set(p.key,p):N.set(p.index,p),p=p.sibling;return N}function a(N,p){return N=Xs(N,p),N.index=0,N.sibling=null,N}function l(N,p,b){return N.index=b,t?(b=N.alternate,b!==null?(b=b.index,b<p?(N.flags|=2,p):b):(N.flags|=2,p)):(N.flags|=1048576,p)}function i(N){return t&&N.alternate===null&&(N.flags|=2),N}function o(N,p,b,v){return p===null||p.tag!==6?(p=ki(b,N.mode,v),p.return=N,p):(p=a(p,b),p.return=N,p)}function c(N,p,b,v){var w=b.type;return w===Ln?u(N,p,b.props.children,v,b.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Os&&Dd(w)===p.type)?(v=a(p,b.props),v.ref=kr(N,p,b),v.return=N,v):(v=Wa(b.type,b.key,b.props,null,N.mode,v),v.ref=kr(N,p,b),v.return=N,v)}function d(N,p,b,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==b.containerInfo||p.stateNode.implementation!==b.implementation?(p=Ci(b,N.mode,v),p.return=N,p):(p=a(p,b.children||[]),p.return=N,p)}function u(N,p,b,v,w){return p===null||p.tag!==7?(p=yn(b,N.mode,v,w),p.return=N,p):(p=a(p,b),p.return=N,p)}function m(N,p,b){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ki(""+p,N.mode,b),p.return=N,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ba:return b=Wa(p.type,p.key,p.props,null,N.mode,b),b.ref=kr(N,null,p),b.return=N,b;case Mn:return p=Ci(p,N.mode,b),p.return=N,p;case Os:var v=p._init;return m(N,v(p._payload),b)}if(Rr(p)||br(p))return p=yn(p,N.mode,b,null),p.return=N,p;Ra(N,p)}return null}function g(N,p,b,v){var w=p!==null?p.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(N,p,""+b,v);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ba:return b.key===w?c(N,p,b,v):null;case Mn:return b.key===w?d(N,p,b,v):null;case Os:return w=b._init,g(N,p,w(b._payload),v)}if(Rr(b)||br(b))return w!==null?null:u(N,p,b,v,null);Ra(N,b)}return null}function x(N,p,b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return N=N.get(b)||null,o(p,N,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ba:return N=N.get(v.key===null?b:v.key)||null,c(p,N,v,w);case Mn:return N=N.get(v.key===null?b:v.key)||null,d(p,N,v,w);case Os:var k=v._init;return x(N,p,b,k(v._payload),w)}if(Rr(v)||br(v))return N=N.get(b)||null,u(p,N,v,w,null);Ra(p,v)}return null}function y(N,p,b,v){for(var w=null,k=null,C=p,S=p=0,P=null;C!==null&&S<b.length;S++){C.index>S?(P=C,C=null):P=C.sibling;var T=g(N,C,b[S],v);if(T===null){C===null&&(C=P);break}t&&C&&T.alternate===null&&s(N,C),p=l(T,p,S),k===null?w=T:k.sibling=T,k=T,C=P}if(S===b.length)return n(N,C),Oe&&dn(N,S),w;if(C===null){for(;S<b.length;S++)C=m(N,b[S],v),C!==null&&(p=l(C,p,S),k===null?w=C:k.sibling=C,k=C);return Oe&&dn(N,S),w}for(C=r(N,C);S<b.length;S++)P=x(C,N,S,b[S],v),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),p=l(P,p,S),k===null?w=P:k.sibling=P,k=P);return t&&C.forEach(function(E){return s(N,E)}),Oe&&dn(N,S),w}function f(N,p,b,v){var w=br(b);if(typeof w!="function")throw Error(Z(150));if(b=w.call(b),b==null)throw Error(Z(151));for(var k=w=null,C=p,S=p=0,P=null,T=b.next();C!==null&&!T.done;S++,T=b.next()){C.index>S?(P=C,C=null):P=C.sibling;var E=g(N,C,T.value,v);if(E===null){C===null&&(C=P);break}t&&C&&E.alternate===null&&s(N,C),p=l(E,p,S),k===null?w=E:k.sibling=E,k=E,C=P}if(T.done)return n(N,C),Oe&&dn(N,S),w;if(C===null){for(;!T.done;S++,T=b.next())T=m(N,T.value,v),T!==null&&(p=l(T,p,S),k===null?w=T:k.sibling=T,k=T);return Oe&&dn(N,S),w}for(C=r(N,C);!T.done;S++,T=b.next())T=x(C,N,S,T.value,v),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?S:T.key),p=l(T,p,S),k===null?w=T:k.sibling=T,k=T);return t&&C.forEach(function(R){return s(N,R)}),Oe&&dn(N,S),w}function j(N,p,b,v){if(typeof b=="object"&&b!==null&&b.type===Ln&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ba:e:{for(var w=b.key,k=p;k!==null;){if(k.key===w){if(w=b.type,w===Ln){if(k.tag===7){n(N,k.sibling),p=a(k,b.props.children),p.return=N,N=p;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Os&&Dd(w)===k.type){n(N,k.sibling),p=a(k,b.props),p.ref=kr(N,k,b),p.return=N,N=p;break e}n(N,k);break}else s(N,k);k=k.sibling}b.type===Ln?(p=yn(b.props.children,N.mode,v,b.key),p.return=N,N=p):(v=Wa(b.type,b.key,b.props,null,N.mode,v),v.ref=kr(N,p,b),v.return=N,N=v)}return i(N);case Mn:e:{for(k=b.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===b.containerInfo&&p.stateNode.implementation===b.implementation){n(N,p.sibling),p=a(p,b.children||[]),p.return=N,N=p;break e}else{n(N,p);break}else s(N,p);p=p.sibling}p=Ci(b,N.mode,v),p.return=N,N=p}return i(N);case Os:return k=b._init,j(N,p,k(b._payload),v)}if(Rr(b))return y(N,p,b,v);if(br(b))return f(N,p,b,v);Ra(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,p!==null&&p.tag===6?(n(N,p.sibling),p=a(p,b),p.return=N,N=p):(n(N,p),p=ki(b,N.mode,v),p.return=N,N=p),i(N)):n(N,p)}return j}var sr=$u(!0),Uu=$u(!1),ml=rn(null),ul=null,Un=null,cc=null;function dc(){cc=Un=ul=null}function mc(t){var s=ml.current;Me(ml),t._currentValue=s}function oo(t,s,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===n)break;t=t.return}}function Qn(t,s){ul=t,cc=Un=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Rt=!0),t.firstContext=null)}function Xt(t){var s=t._currentValue;if(cc!==t)if(t={context:t,memoizedValue:s,next:null},Un===null){if(ul===null)throw Error(Z(308));Un=t,ul.dependencies={lanes:0,firstContext:t}}else Un=Un.next=t;return s}var hn=null;function uc(t){hn===null?hn=[t]:hn.push(t)}function _u(t,s,n,r){var a=s.interleaved;return a===null?(n.next=n,uc(s)):(n.next=a.next,a.next=n),s.interleaved=n,Ds(t,r)}function Ds(t,s){t.lanes|=s;var n=t.alternate;for(n!==null&&(n.lanes|=s),n=t,t=t.return;t!==null;)t.childLanes|=s,n=t.alternate,n!==null&&(n.childLanes|=s),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zs=!1;function hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ts(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Ws(t,s,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var a=r.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s,Ds(t,n)}return a=r.interleaved,a===null?(s.next=s,uc(r)):(s.next=a.next,a.next=s),r.interleaved=s,Ds(t,n)}function $a(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Jo(t,n)}}function Ad(t,s){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?a=l=s:l=l.next=s}else a=l=s;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}function hl(t,s,n,r){var a=t.updateQueue;zs=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var m=a.baseState;i=0,u=d=c=null,o=l;do{var g=o.lane,x=o.eventTime;if((r&g)===g){u!==null&&(u=u.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,f=o;switch(g=s,x=n,f.tag){case 1:if(y=f.payload,typeof y=="function"){m=y.call(x,m,g);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=f.payload,g=typeof y=="function"?y.call(x,m,g):y,g==null)break e;m=Ue({},m,g);break e;case 2:zs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=a.effects,g===null?a.effects=[o]:g.push(o))}else x={eventTime:x,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=x,c=m):u=u.next=x,i|=g;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;g=o,o=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do i|=a.lane,a=a.next;while(a!==s)}else l===null&&(a.shared.lanes=0);kn|=i,t.lanes=i,t.memoizedState=m}}function Id(t,s,n){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var r=t[s],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Z(191,a));a.call(r)}}}var ga={},ys=rn(ga),Zr=rn(ga),ea=rn(ga);function xn(t){if(t===ga)throw Error(Z(174));return t}function xc(t,s){switch(Re(ea,s),Re(Zr,t),Re(ys,ga),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$i(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=$i(s,t)}Me(ys),Re(ys,s)}function nr(){Me(ys),Me(Zr),Me(ea)}function Ku(t){xn(ea.current);var s=xn(ys.current),n=$i(s,t.type);s!==n&&(Re(Zr,t),Re(ys,n))}function gc(t){Zr.current===t&&(Me(ys),Me(Zr))}var Ve=rn(0);function xl(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yi=[];function pc(){for(var t=0;t<yi.length;t++)yi[t]._workInProgressVersionPrimary=null;yi.length=0}var Ua=Is.ReactCurrentDispatcher,bi=Is.ReactCurrentBatchConfig,wn=0,$e=null,st=null,lt=null,gl=!1,zr=!1,ta=0,Rg=0;function xt(){throw Error(Z(321))}function fc(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!cs(t[n],s[n]))return!1;return!0}function yc(t,s,n,r,a,l){if(wn=l,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ua.current=t===null||t.memoizedState===null?Mg:Lg,t=n(r,a),zr){l=0;do{if(zr=!1,ta=0,25<=l)throw Error(Z(301));l+=1,lt=st=null,s.updateQueue=null,Ua.current=Bg,t=n(r,a)}while(zr)}if(Ua.current=pl,s=st!==null&&st.next!==null,wn=0,lt=st=$e=null,gl=!1,s)throw Error(Z(300));return t}function bc(){var t=ta!==0;return ta=0,t}function gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?$e.memoizedState=lt=t:lt=lt.next=t,lt}function Jt(){if(st===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var s=lt===null?$e.memoizedState:lt.next;if(s!==null)lt=s,st=t;else{if(t===null)throw Error(Z(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},lt===null?$e.memoizedState=lt=t:lt=lt.next=t}return lt}function sa(t,s){return typeof s=="function"?s(t):s}function ji(t){var s=Jt(),n=s.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=st,a=r.baseQueue,l=n.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((wn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,i=r):c=c.next=m,$e.lanes|=u,kn|=u}d=d.next}while(d!==null&&d!==l);c===null?i=r:c.next=o,cs(r,s.memoizedState)||(Rt=!0),s.memoizedState=r,s.baseState=i,s.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do l=a.lane,$e.lanes|=l,kn|=l,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function Ni(t){var s=Jt(),n=s.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,l=s.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do l=t(l,i.action),i=i.next;while(i!==a);cs(l,s.memoizedState)||(Rt=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),n.lastRenderedState=l}return[l,r]}function Gu(){}function Wu(t,s){var n=$e,r=Jt(),a=s(),l=!cs(r.memoizedState,a);if(l&&(r.memoizedState=a,Rt=!0),r=r.queue,jc(Xu.bind(null,n,r,t),[t]),r.getSnapshot!==s||l||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,na(9,Qu.bind(null,n,r,a,s),void 0,null),it===null)throw Error(Z(349));wn&30||Yu(n,s,a)}return a}function Yu(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=$e.updateQueue,s===null?(s={lastEffect:null,stores:null},$e.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Qu(t,s,n,r){s.value=n,s.getSnapshot=r,Ju(s)&&Zu(t)}function Xu(t,s,n){return n(function(){Ju(s)&&Zu(t)})}function Ju(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!cs(t,n)}catch{return!0}}function Zu(t){var s=Ds(t,1);s!==null&&is(s,t,1,-1)}function Md(t){var s=gs();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t},s.queue=t,t=t.dispatch=Ig.bind(null,$e,t),[s.memoizedState,t]}function na(t,s,n,r){return t={tag:t,create:s,destroy:n,deps:r,next:null},s=$e.updateQueue,s===null?(s={lastEffect:null,stores:null},$e.updateQueue=s,s.lastEffect=t.next=t):(n=s.lastEffect,n===null?s.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,s.lastEffect=t)),t}function eh(){return Jt().memoizedState}function _a(t,s,n,r){var a=gs();$e.flags|=t,a.memoizedState=na(1|s,n,void 0,r===void 0?null:r)}function Ml(t,s,n,r){var a=Jt();r=r===void 0?null:r;var l=void 0;if(st!==null){var i=st.memoizedState;if(l=i.destroy,r!==null&&fc(r,i.deps)){a.memoizedState=na(s,n,l,r);return}}$e.flags|=t,a.memoizedState=na(1|s,n,l,r)}function Ld(t,s){return _a(8390656,8,t,s)}function jc(t,s){return Ml(2048,8,t,s)}function th(t,s){return Ml(4,2,t,s)}function sh(t,s){return Ml(4,4,t,s)}function nh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function rh(t,s,n){return n=n!=null?n.concat([t]):null,Ml(4,4,nh.bind(null,s,t),n)}function Nc(){}function ah(t,s){var n=Jt();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&fc(s,r[1])?r[0]:(n.memoizedState=[t,s],t)}function lh(t,s){var n=Jt();s=s===void 0?null:s;var r=n.memoizedState;return r!==null&&s!==null&&fc(s,r[1])?r[0]:(t=t(),n.memoizedState=[t,s],t)}function ih(t,s,n){return wn&21?(cs(n,s)||(n=uu(),$e.lanes|=n,kn|=n,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=n)}function Dg(t,s){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=bi.transition;bi.transition={};try{t(!1),s()}finally{Te=n,bi.transition=r}}function oh(){return Jt().memoizedState}function Ag(t,s,n){var r=Qs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ch(t))dh(s,n);else if(n=_u(t,s,n,r),n!==null){var a=wt();is(n,t,r,a),mh(n,s,r)}}function Ig(t,s,n){var r=Qs(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ch(t))dh(s,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,n);if(a.hasEagerState=!0,a.eagerState=o,cs(o,i)){var c=s.interleaved;c===null?(a.next=a,uc(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}n=_u(t,s,a,r),n!==null&&(a=wt(),is(n,t,r,a),mh(n,s,r))}}function ch(t){var s=t.alternate;return t===$e||s!==null&&s===$e}function dh(t,s){zr=gl=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function mh(t,s,n){if(n&4194240){var r=s.lanes;r&=t.pendingLanes,n|=r,s.lanes=n,Jo(t,n)}}var pl={readContext:Xt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Mg={readContext:Xt,useCallback:function(t,s){return gs().memoizedState=[t,s===void 0?null:s],t},useContext:Xt,useEffect:Ld,useImperativeHandle:function(t,s,n){return n=n!=null?n.concat([t]):null,_a(4194308,4,nh.bind(null,s,t),n)},useLayoutEffect:function(t,s){return _a(4194308,4,t,s)},useInsertionEffect:function(t,s){return _a(4,2,t,s)},useMemo:function(t,s){var n=gs();return s=s===void 0?null:s,t=t(),n.memoizedState=[t,s],t},useReducer:function(t,s,n){var r=gs();return s=n!==void 0?n(s):s,r.memoizedState=r.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},r.queue=t,t=t.dispatch=Ag.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var s=gs();return t={current:t},s.memoizedState=t},useState:Md,useDebugValue:Nc,useDeferredValue:function(t){return gs().memoizedState=t},useTransition:function(){var t=Md(!1),s=t[0];return t=Dg.bind(null,t[1]),gs().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,n){var r=$e,a=gs();if(Oe){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=s(),it===null)throw Error(Z(349));wn&30||Yu(r,s,n)}a.memoizedState=n;var l={value:n,getSnapshot:s};return a.queue=l,Ld(Xu.bind(null,r,l,t),[t]),r.flags|=2048,na(9,Qu.bind(null,r,l,n,s),void 0,null),n},useId:function(){var t=gs(),s=it.identifierPrefix;if(Oe){var n=Ps,r=Ss;n=(r&~(1<<32-ls(r)-1)).toString(32)+n,s=":"+s+"R"+n,n=ta++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=Rg++,s=":"+s+"r"+n.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Lg={readContext:Xt,useCallback:ah,useContext:Xt,useEffect:jc,useImperativeHandle:rh,useInsertionEffect:th,useLayoutEffect:sh,useMemo:lh,useReducer:ji,useRef:eh,useState:function(){return ji(sa)},useDebugValue:Nc,useDeferredValue:function(t){var s=Jt();return ih(s,st.memoizedState,t)},useTransition:function(){var t=ji(sa)[0],s=Jt().memoizedState;return[t,s]},useMutableSource:Gu,useSyncExternalStore:Wu,useId:oh,unstable_isNewReconciler:!1},Bg={readContext:Xt,useCallback:ah,useContext:Xt,useEffect:jc,useImperativeHandle:rh,useInsertionEffect:th,useLayoutEffect:sh,useMemo:lh,useReducer:Ni,useRef:eh,useState:function(){return Ni(sa)},useDebugValue:Nc,useDeferredValue:function(t){var s=Jt();return st===null?s.memoizedState=t:ih(s,st.memoizedState,t)},useTransition:function(){var t=Ni(sa)[0],s=Jt().memoizedState;return[t,s]},useMutableSource:Gu,useSyncExternalStore:Wu,useId:oh,unstable_isNewReconciler:!1};function ss(t,s){if(t&&t.defaultProps){s=Ue({},s),t=t.defaultProps;for(var n in t)s[n]===void 0&&(s[n]=t[n]);return s}return s}function co(t,s,n,r){s=t.memoizedState,n=n(r,s),n=n==null?s:Ue({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ll={isMounted:function(t){return(t=t._reactInternals)?Rn(t)===t:!1},enqueueSetState:function(t,s,n){t=t._reactInternals;var r=wt(),a=Qs(t),l=Ts(r,a);l.payload=s,n!=null&&(l.callback=n),s=Ws(t,l,a),s!==null&&(is(s,t,a,r),$a(s,t,a))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var r=wt(),a=Qs(t),l=Ts(r,a);l.tag=1,l.payload=s,n!=null&&(l.callback=n),s=Ws(t,l,a),s!==null&&(is(s,t,a,r),$a(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=wt(),r=Qs(t),a=Ts(n,r);a.tag=2,s!=null&&(a.callback=s),s=Ws(t,a,r),s!==null&&(is(s,t,r,n),$a(s,t,r))}};function Bd(t,s,n,r,a,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,i):s.prototype&&s.prototype.isPureReactComponent?!Yr(n,r)||!Yr(a,l):!0}function uh(t,s,n){var r=!1,a=en,l=s.contextType;return typeof l=="object"&&l!==null?l=Xt(l):(a=It(s)?Nn:bt.current,r=s.contextTypes,l=(r=r!=null)?er(t,a):en),s=new s(n,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ll,t.stateNode=s,s._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),s}function Od(t,s,n,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,r),s.state!==t&&Ll.enqueueReplaceState(s,s.state,null)}function mo(t,s,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},hc(t);var l=s.contextType;typeof l=="object"&&l!==null?a.context=Xt(l):(l=It(s)?Nn:bt.current,a.context=er(t,l)),a.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(co(t,s,l,n),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Ll.enqueueReplaceState(a,a.state,null),hl(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function rr(t,s){try{var n="",r=s;do n+=d0(r),r=r.return;while(r);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:a,digest:null}}function vi(t,s,n){return{value:t,source:null,stack:n??null,digest:s??null}}function uo(t,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var Og=typeof WeakMap=="function"?WeakMap:Map;function hh(t,s,n){n=Ts(-1,n),n.tag=3,n.payload={element:null};var r=s.value;return n.callback=function(){yl||(yl=!0,vo=r),uo(t,s)},n}function xh(t,s,n){n=Ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;n.payload=function(){return r(a)},n.callback=function(){uo(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){uo(t,s),typeof r!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),n}function zd(t,s,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Og;var a=new Set;r.set(s,a)}else a=r.get(s),a===void 0&&(a=new Set,r.set(s,a));a.has(n)||(a.add(n),t=Xg.bind(null,t,s,n),s.then(t,t))}function Hd(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Fd(t,s,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=Ts(-1,1),s.tag=2,Ws(n,s,1))),n.lanes|=1),t)}var zg=Is.ReactCurrentOwner,Rt=!1;function jt(t,s,n,r){s.child=t===null?Uu(s,null,n,r):sr(s,t.child,n,r)}function Vd(t,s,n,r,a){n=n.render;var l=s.ref;return Qn(s,a),r=yc(t,s,n,r,l,a),n=bc(),t!==null&&!Rt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,As(t,s,a)):(Oe&&n&&lc(s),s.flags|=1,jt(t,s,r,a),s.child)}function $d(t,s,n,r,a){if(t===null){var l=n.type;return typeof l=="function"&&!Ec(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=l,gh(t,s,l,r,a)):(t=Wa(n.type,null,r,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&a)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(i,r)&&t.ref===s.ref)return As(t,s,a)}return s.flags|=1,t=Xs(l,r),t.ref=s.ref,t.return=s,s.child=t}function gh(t,s,n,r,a){if(t!==null){var l=t.memoizedProps;if(Yr(l,r)&&t.ref===s.ref)if(Rt=!1,s.pendingProps=r=l,(t.lanes&a)!==0)t.flags&131072&&(Rt=!0);else return s.lanes=t.lanes,As(t,s,a)}return ho(t,s,n,r,a)}function ph(t,s,n){var r=s.pendingProps,a=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(qn,zt),zt|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Re(qn,zt),zt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Re(qn,zt),zt|=r}else l!==null?(r=l.baseLanes|n,s.memoizedState=null):r=n,Re(qn,zt),zt|=r;return jt(t,s,a,n),s.child}function fh(t,s){var n=s.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function ho(t,s,n,r,a){var l=It(n)?Nn:bt.current;return l=er(s,l),Qn(s,a),n=yc(t,s,n,r,l,a),r=bc(),t!==null&&!Rt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,As(t,s,a)):(Oe&&r&&lc(s),s.flags|=1,jt(t,s,n,a),s.child)}function Ud(t,s,n,r,a){if(It(n)){var l=!0;ol(s)}else l=!1;if(Qn(s,a),s.stateNode===null)qa(t,s),uh(s,n,r),mo(s,n,r,a),r=!0;else if(t===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=Xt(d):(d=It(n)?Nn:bt.current,d=er(s,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==d)&&Od(s,i,r,d),zs=!1;var g=s.memoizedState;i.state=g,hl(s,r,i,a),c=s.memoizedState,o!==r||g!==c||At.current||zs?(typeof u=="function"&&(co(s,n,u,r),c=s.memoizedState),(o=zs||Bd(s,n,o,r,g,c,d))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=c),i.props=r,i.state=c,i.context=d,r=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{i=s.stateNode,qu(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:ss(s.type,o),i.props=d,m=s.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xt(c):(c=It(n)?Nn:bt.current,c=er(s,c));var x=n.getDerivedStateFromProps;(u=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==m||g!==c)&&Od(s,i,r,c),zs=!1,g=s.memoizedState,i.state=g,hl(s,r,i,a);var y=s.memoizedState;o!==m||g!==y||At.current||zs?(typeof x=="function"&&(co(s,n,x,r),y=s.memoizedState),(d=zs||Bd(s,n,d,r,g,y,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=y),i.props=r,i.state=y,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(s.flags|=1024),r=!1)}return xo(t,s,n,r,l,a)}function xo(t,s,n,r,a,l){fh(t,s);var i=(s.flags&128)!==0;if(!r&&!i)return a&&Td(s,n,!1),As(t,s,l);r=s.stateNode,zg.current=s;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return s.flags|=1,t!==null&&i?(s.child=sr(s,t.child,null,l),s.child=sr(s,null,o,l)):jt(t,s,o,l),s.memoizedState=r.state,a&&Td(s,n,!0),s.child}function yh(t){var s=t.stateNode;s.pendingContext?Pd(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Pd(t,s.context,!1),xc(t,s.containerInfo)}function _d(t,s,n,r,a){return tr(),oc(a),s.flags|=256,jt(t,s,n,r),s.child}var go={dehydrated:null,treeContext:null,retryLane:0};function po(t){return{baseLanes:t,cachePool:null,transitions:null}}function bh(t,s,n){var r=s.pendingProps,a=Ve.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Re(Ve,a&1),t===null)return io(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=r.children,t=r.fallback,l?(r=s.mode,l=s.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=zl(i,r,0,null),t=yn(t,r,n,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=po(n),s.memoizedState=go,t):vc(s,i));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Hg(t,s,i,r,o,a,n);if(l){l=r.fallback,i=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&s.child!==a?(r=s.child,r.childLanes=0,r.pendingProps=c,s.deletions=null):(r=Xs(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Xs(o,l):(l=yn(l,i,n,null),l.flags|=2),l.return=s,r.return=s,r.sibling=l,s.child=r,r=l,l=s.child,i=t.child.memoizedState,i=i===null?po(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~n,s.memoizedState=go,r}return l=t.child,t=l.sibling,r=Xs(l,{mode:"visible",children:r.children}),!(s.mode&1)&&(r.lanes=n),r.return=s,r.sibling=null,t!==null&&(n=s.deletions,n===null?(s.deletions=[t],s.flags|=16):n.push(t)),s.child=r,s.memoizedState=null,r}function vc(t,s){return s=zl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Da(t,s,n,r){return r!==null&&oc(r),sr(s,t.child,null,n),t=vc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Hg(t,s,n,r,a,l,i){if(n)return s.flags&256?(s.flags&=-257,r=vi(Error(Z(422))),Da(t,s,i,r)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=r.fallback,a=s.mode,r=zl({mode:"visible",children:r.children},a,0,null),l=yn(l,a,i,null),l.flags|=2,r.return=s,l.return=s,r.sibling=l,s.child=r,s.mode&1&&sr(s,t.child,null,i),s.child.memoizedState=po(i),s.memoizedState=go,l);if(!(s.mode&1))return Da(t,s,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(Z(419)),r=vi(l,r,void 0),Da(t,s,i,r)}if(o=(i&t.childLanes)!==0,Rt||o){if(r=it,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Ds(t,a),is(r,t,a,-1))}return Tc(),r=vi(Error(Z(421))),Da(t,s,i,r)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=Jg.bind(null,t),a._reactRetry=s,null):(t=l.treeContext,Ht=Gs(a.nextSibling),Ft=s,Oe=!0,as=null,t!==null&&(qt[Kt++]=Ss,qt[Kt++]=Ps,qt[Kt++]=vn,Ss=t.id,Ps=t.overflow,vn=s),s=vc(s,r.children),s.flags|=4096,s)}function qd(t,s,n){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),oo(t.return,s,n)}function wi(t,s,n,r,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function jh(t,s,n){var r=s.pendingProps,a=r.revealOrder,l=r.tail;if(jt(t,s,r.children,n),r=Ve.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qd(t,n,s);else if(t.tag===19)qd(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Ve,r),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(n=s.child,a=null;n!==null;)t=n.alternate,t!==null&&xl(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=s.child,s.child=null):(a=n.sibling,n.sibling=null),wi(s,!1,a,n,l);break;case"backwards":for(n=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&xl(t)===null){s.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}wi(s,!0,n,null,l);break;case"together":wi(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function qa(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function As(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),kn|=s.lanes,!(n&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(Z(153));if(s.child!==null){for(t=s.child,n=Xs(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=Xs(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function Fg(t,s,n){switch(s.tag){case 3:yh(s),tr();break;case 5:Ku(s);break;case 1:It(s.type)&&ol(s);break;case 4:xc(s,s.stateNode.containerInfo);break;case 10:var r=s.type._context,a=s.memoizedProps.value;Re(ml,r._currentValue),r._currentValue=a;break;case 13:if(r=s.memoizedState,r!==null)return r.dehydrated!==null?(Re(Ve,Ve.current&1),s.flags|=128,null):n&s.child.childLanes?bh(t,s,n):(Re(Ve,Ve.current&1),t=As(t,s,n),t!==null?t.sibling:null);Re(Ve,Ve.current&1);break;case 19:if(r=(n&s.childLanes)!==0,t.flags&128){if(r)return jh(t,s,n);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Re(Ve,Ve.current),r)break;return null;case 22:case 23:return s.lanes=0,ph(t,s,n)}return As(t,s,n)}var Nh,fo,vh,wh;Nh=function(t,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fo=function(){};vh=function(t,s,n,r){var a=t.memoizedProps;if(a!==r){t=s.stateNode,xn(ys.current);var l=null;switch(n){case"input":a=zi(t,a),r=zi(t,r),l=[];break;case"select":a=Ue({},a,{value:void 0}),r=Ue({},r,{value:void 0}),l=[];break;case"textarea":a=Vi(t,a),r=Vi(t,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}Ui(n,r);var i;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($r.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($r.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ie("scroll",t),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(s.updateQueue=d)&&(s.flags|=4)}};wh=function(t,s,n,r){n!==r&&(s.flags|=4)};function Cr(t,s){if(!Oe)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(s)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,s}function Vg(t,s,n){var r=s.pendingProps;switch(ic(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return It(s.type)&&il(),gt(s),null;case 3:return r=s.stateNode,nr(),Me(At),Me(bt),pc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ea(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,as!==null&&(Co(as),as=null))),fo(t,s),gt(s),null;case 5:gc(s);var a=xn(ea.current);if(n=s.type,t!==null&&s.stateNode!=null)vh(t,s,n,r,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!r){if(s.stateNode===null)throw Error(Z(166));return gt(s),null}if(t=xn(ys.current),Ea(s)){r=s.stateNode,n=s.type;var l=s.memoizedProps;switch(r[ps]=s,r[Jr]=l,t=(s.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(a=0;a<Ar.length;a++)Ie(Ar[a],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":ed(r,l),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Ie("invalid",r);break;case"textarea":sd(r,l),Ie("invalid",r)}Ui(n,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&Ta(r.textContent,o,t),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Ta(r.textContent,o,t),a=["children",""+o]):$r.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Ie("scroll",r)}switch(n){case"input":ja(r),td(r,l,!0);break;case"textarea":ja(r),nd(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ll)}r=a,s.updateQueue=r,r!==null&&(s.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[ps]=s,t[Jr]=r,Nh(t,s,!1,!1),s.stateNode=t;e:{switch(i=_i(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),a=r;break;case"iframe":case"object":case"embed":Ie("load",t),a=r;break;case"video":case"audio":for(a=0;a<Ar.length;a++)Ie(Ar[a],t);a=r;break;case"source":Ie("error",t),a=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),a=r;break;case"details":Ie("toggle",t),a=r;break;case"input":ed(t,r),a=zi(t,r),Ie("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Ue({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":sd(t,r),a=Vi(t,r),Ie("invalid",t);break;default:a=r}Ui(n,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?eu(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jm(t,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ur(t,c):typeof c=="number"&&Ur(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&($r.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Ie("scroll",t):c!=null&&Ko(t,l,c,i))}switch(n){case"input":ja(t),td(t,r,!1);break;case"textarea":ja(t),nd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zs(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Kn(t,!!r.multiple,l,!1):r.defaultValue!=null&&Kn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return gt(s),null;case 6:if(t&&s.stateNode!=null)wh(t,s,t.memoizedProps,r);else{if(typeof r!="string"&&s.stateNode===null)throw Error(Z(166));if(n=xn(ea.current),xn(ys.current),Ea(s)){if(r=s.stateNode,n=s.memoizedProps,r[ps]=s,(l=r.nodeValue!==n)&&(t=Ft,t!==null))switch(t.tag){case 3:Ta(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ta(r.nodeValue,n,(t.mode&1)!==0)}l&&(s.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ps]=s,s.stateNode=r}return gt(s),null;case 13:if(Me(Ve),r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Ht!==null&&s.mode&1&&!(s.flags&128))Vu(),tr(),s.flags|=98560,l=!1;else if(l=Ea(s),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(Z(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Z(317));l[ps]=s}else tr(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;gt(s),l=!1}else as!==null&&(Co(as),as=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=n,s):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(s.child.flags|=8192,s.mode&1&&(t===null||Ve.current&1?nt===0&&(nt=3):Tc())),s.updateQueue!==null&&(s.flags|=4),gt(s),null);case 4:return nr(),fo(t,s),t===null&&Qr(s.stateNode.containerInfo),gt(s),null;case 10:return mc(s.type._context),gt(s),null;case 17:return It(s.type)&&il(),gt(s),null;case 19:if(Me(Ve),l=s.memoizedState,l===null)return gt(s),null;if(r=(s.flags&128)!==0,i=l.rendering,i===null)if(r)Cr(l,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(i=xl(t),i!==null){for(s.flags|=128,Cr(l,!1),r=i.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=n,n=s.child;n!==null;)l=n,t=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Ve,Ve.current&1|2),s.child}t=t.sibling}l.tail!==null&&Ge()>ar&&(s.flags|=128,r=!0,Cr(l,!1),s.lanes=4194304)}else{if(!r)if(t=xl(i),t!==null){if(s.flags|=128,r=!0,n=t.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),Cr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Oe)return gt(s),null}else 2*Ge()-l.renderingStartTime>ar&&n!==1073741824&&(s.flags|=128,r=!0,Cr(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(n=l.last,n!==null?n.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=Ge(),s.sibling=null,n=Ve.current,Re(Ve,r?n&1|2:n&1),s):(gt(s),null);case 22:case 23:return Pc(),r=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(s.flags|=8192),r&&s.mode&1?zt&1073741824&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),null;case 24:return null;case 25:return null}throw Error(Z(156,s.tag))}function $g(t,s){switch(ic(s),s.tag){case 1:return It(s.type)&&il(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return nr(),Me(At),Me(bt),pc(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return gc(s),null;case 13:if(Me(Ve),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(Z(340));tr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Me(Ve),null;case 4:return nr(),null;case 10:return mc(s.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var Aa=!1,pt=!1,Ug=typeof WeakSet=="function"?WeakSet:Set,re=null;function _n(t,s){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_e(t,s,r)}else n.current=null}function yo(t,s,n){try{n()}catch(r){_e(t,s,r)}}var Kd=!1;function _g(t,s){if(eo=nl,t=Tu(),ac(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=t,g=null;t:for(;;){for(var x;m!==n||a!==0&&m.nodeType!==3||(o=i+a),m!==l||r!==0&&m.nodeType!==3||(c=i+r),m.nodeType===3&&(i+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===t)break t;if(g===n&&++d===a&&(o=i),g===l&&++u===r&&(c=i),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:t,selectionRange:n},nl=!1,re=s;re!==null;)if(s=re,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,re=t;else for(;re!==null;){s=re;try{var y=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var f=y.memoizedProps,j=y.memoizedState,N=s.stateNode,p=N.getSnapshotBeforeUpdate(s.elementType===s.type?f:ss(s.type,f),j);N.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var b=s.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(v){_e(s,s.return,v)}if(t=s.sibling,t!==null){t.return=s.return,re=t;break}re=s.return}return y=Kd,Kd=!1,y}function Hr(t,s,n){var r=s.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&yo(s,n,l)}a=a.next}while(a!==r)}}function Bl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==s)}}function bo(t){var s=t.ref;if(s!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof s=="function"?s(t):s.current=t}}function kh(t){var s=t.alternate;s!==null&&(t.alternate=null,kh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[ps],delete s[Jr],delete s[ro],delete s[Sg],delete s[Pg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ch(t){return t.tag===5||t.tag===3||t.tag===4}function Gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ch(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jo(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(t,s):n.insertBefore(t,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(t,n)):(s=n,s.appendChild(t)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(jo(t,s,n),t=t.sibling;t!==null;)jo(t,s,n),t=t.sibling}function No(t,s,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(No(t,s,n),t=t.sibling;t!==null;)No(t,s,n),t=t.sibling}var dt=null,rs=!1;function Ls(t,s,n){for(n=n.child;n!==null;)Sh(t,s,n),n=n.sibling}function Sh(t,s,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(Tl,n)}catch{}switch(n.tag){case 5:pt||_n(n,s);case 6:var r=dt,a=rs;dt=null,Ls(t,s,n),dt=r,rs=a,dt!==null&&(rs?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(rs?(t=dt,n=n.stateNode,t.nodeType===8?pi(t.parentNode,n):t.nodeType===1&&pi(t,n),Gr(t)):pi(dt,n.stateNode));break;case 4:r=dt,a=rs,dt=n.stateNode.containerInfo,rs=!0,Ls(t,s,n),dt=r,rs=a;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&yo(n,s,i),a=a.next}while(a!==r)}Ls(t,s,n);break;case 1:if(!pt&&(_n(n,s),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_e(n,s,o)}Ls(t,s,n);break;case 21:Ls(t,s,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,Ls(t,s,n),pt=r):Ls(t,s,n);break;default:Ls(t,s,n)}}function Wd(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ug),s.forEach(function(r){var a=Zg.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function es(t,s){var n=s.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var l=t,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:dt=o.stateNode,rs=!1;break e;case 3:dt=o.stateNode.containerInfo,rs=!0;break e;case 4:dt=o.stateNode.containerInfo,rs=!0;break e}o=o.return}if(dt===null)throw Error(Z(160));Sh(l,i,a),dt=null,rs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){_e(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ph(s,t),s=s.sibling}function Ph(t,s){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(es(s,t),us(t),r&4){try{Hr(3,t,t.return),Bl(3,t)}catch(f){_e(t,t.return,f)}try{Hr(5,t,t.return)}catch(f){_e(t,t.return,f)}}break;case 1:es(s,t),us(t),r&512&&n!==null&&_n(n,n.return);break;case 5:if(es(s,t),us(t),r&512&&n!==null&&_n(n,n.return),t.flags&32){var a=t.stateNode;try{Ur(a,"")}catch(f){_e(t,t.return,f)}}if(r&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,i=n!==null?n.memoizedProps:l,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Ym(a,l),_i(o,i);var d=_i(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];u==="style"?eu(a,m):u==="dangerouslySetInnerHTML"?Jm(a,m):u==="children"?Ur(a,m):Ko(a,u,m,d)}switch(o){case"input":Hi(a,l);break;case"textarea":Qm(a,l);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Kn(a,!!l.multiple,x,!1):g!==!!l.multiple&&(l.defaultValue!=null?Kn(a,!!l.multiple,l.defaultValue,!0):Kn(a,!!l.multiple,l.multiple?[]:"",!1))}a[Jr]=l}catch(f){_e(t,t.return,f)}}break;case 6:if(es(s,t),us(t),r&4){if(t.stateNode===null)throw Error(Z(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(f){_e(t,t.return,f)}}break;case 3:if(es(s,t),us(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(s.containerInfo)}catch(f){_e(t,t.return,f)}break;case 4:es(s,t),us(t);break;case 13:es(s,t),us(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Cc=Ge())),r&4&&Wd(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(pt=(d=pt)||u,es(s,t),pt=d):es(s,t),us(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(m=re=u;re!==null;){switch(g=re,x=g.child,g.tag){case 0:case 11:case 14:case 15:Hr(4,g,g.return);break;case 1:_n(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{s=r,y.props=s.memoizedProps,y.state=s.memoizedState,y.componentWillUnmount()}catch(f){_e(r,n,f)}}break;case 5:_n(g,g.return);break;case 22:if(g.memoizedState!==null){Qd(m);continue}}x!==null?(x.return=g,re=x):Qd(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Zm("display",i))}catch(f){_e(t,t.return,f)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){_e(t,t.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:es(s,t),us(t),r&4&&Wd(t);break;case 21:break;default:es(s,t),us(t)}}function us(t){var s=t.flags;if(s&2){try{e:{for(var n=t.return;n!==null;){if(Ch(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Ur(a,""),r.flags&=-33);var l=Gd(t);No(t,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Gd(t);jo(t,o,i);break;default:throw Error(Z(161))}}catch(c){_e(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function qg(t,s,n){re=t,Th(t)}function Th(t,s,n){for(var r=(t.mode&1)!==0;re!==null;){var a=re,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||Aa;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||pt;o=Aa;var d=pt;if(Aa=i,(pt=c)&&!d)for(re=a;re!==null;)i=re,c=i.child,i.tag===22&&i.memoizedState!==null?Xd(a):c!==null?(c.return=i,re=c):Xd(a);for(;l!==null;)re=l,Th(l),l=l.sibling;re=a,Aa=o,pt=d}Yd(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,re=l):Yd(t)}}function Yd(t){for(;re!==null;){var s=re;if(s.flags&8772){var n=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:pt||Bl(5,s);break;case 1:var r=s.stateNode;if(s.flags&4&&!pt)if(n===null)r.componentDidMount();else{var a=s.elementType===s.type?n.memoizedProps:ss(s.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Id(s,l,r);break;case 3:var i=s.updateQueue;if(i!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}Id(s,i,n)}break;case 5:var o=s.stateNode;if(n===null&&s.flags&4){n=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Gr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}pt||s.flags&512&&bo(s)}catch(g){_e(s,s.return,g)}}if(s===t){re=null;break}if(n=s.sibling,n!==null){n.return=s.return,re=n;break}re=s.return}}function Qd(t){for(;re!==null;){var s=re;if(s===t){re=null;break}var n=s.sibling;if(n!==null){n.return=s.return,re=n;break}re=s.return}}function Xd(t){for(;re!==null;){var s=re;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{Bl(4,s)}catch(c){_e(s,n,c)}break;case 1:var r=s.stateNode;if(typeof r.componentDidMount=="function"){var a=s.return;try{r.componentDidMount()}catch(c){_e(s,a,c)}}var l=s.return;try{bo(s)}catch(c){_e(s,l,c)}break;case 5:var i=s.return;try{bo(s)}catch(c){_e(s,i,c)}}}catch(c){_e(s,s.return,c)}if(s===t){re=null;break}var o=s.sibling;if(o!==null){o.return=s.return,re=o;break}re=s.return}}var Kg=Math.ceil,fl=Is.ReactCurrentDispatcher,wc=Is.ReactCurrentOwner,Yt=Is.ReactCurrentBatchConfig,ke=0,it=null,Je=null,mt=0,zt=0,qn=rn(0),nt=0,ra=null,kn=0,Ol=0,kc=0,Fr=null,Et=null,Cc=0,ar=1/0,ws=null,yl=!1,vo=null,Ys=null,Ia=!1,$s=null,bl=0,Vr=0,wo=null,Ka=-1,Ga=0;function wt(){return ke&6?Ge():Ka!==-1?Ka:Ka=Ge()}function Qs(t){return t.mode&1?ke&2&&mt!==0?mt&-mt:Eg.transition!==null?(Ga===0&&(Ga=uu()),Ga):(t=Te,t!==0||(t=window.event,t=t===void 0?16:bu(t.type)),t):1}function is(t,s,n,r){if(50<Vr)throw Vr=0,wo=null,Error(Z(185));ua(t,n,r),(!(ke&2)||t!==it)&&(t===it&&(!(ke&2)&&(Ol|=n),nt===4&&Fs(t,mt)),Mt(t,r),n===1&&ke===0&&!(s.mode&1)&&(ar=Ge()+500,Il&&an()))}function Mt(t,s){var n=t.callbackNode;E0(t,s);var r=sl(t,t===it?mt:0);if(r===0)n!==null&&ld(n),t.callbackNode=null,t.callbackPriority=0;else if(s=r&-r,t.callbackPriority!==s){if(n!=null&&ld(n),s===1)t.tag===0?Tg(Jd.bind(null,t)):zu(Jd.bind(null,t)),kg(function(){!(ke&6)&&an()}),n=null;else{switch(hu(r)){case 1:n=Xo;break;case 4:n=du;break;case 16:n=tl;break;case 536870912:n=mu;break;default:n=tl}n=Bh(n,Eh.bind(null,t))}t.callbackPriority=s,t.callbackNode=n}}function Eh(t,s){if(Ka=-1,Ga=0,ke&6)throw Error(Z(327));var n=t.callbackNode;if(Xn()&&t.callbackNode!==n)return null;var r=sl(t,t===it?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||s)s=jl(t,r);else{s=r;var a=ke;ke|=2;var l=Dh();(it!==t||mt!==s)&&(ws=null,ar=Ge()+500,fn(t,s));do try{Yg();break}catch(o){Rh(t,o)}while(!0);dc(),fl.current=l,ke=a,Je!==null?s=0:(it=null,mt=0,s=nt)}if(s!==0){if(s===2&&(a=Yi(t),a!==0&&(r=a,s=ko(t,a))),s===1)throw n=ra,fn(t,0),Fs(t,r),Mt(t,Ge()),n;if(s===6)Fs(t,r);else{if(a=t.current.alternate,!(r&30)&&!Gg(a)&&(s=jl(t,r),s===2&&(l=Yi(t),l!==0&&(r=l,s=ko(t,l))),s===1))throw n=ra,fn(t,0),Fs(t,r),Mt(t,Ge()),n;switch(t.finishedWork=a,t.finishedLanes=r,s){case 0:case 1:throw Error(Z(345));case 2:mn(t,Et,ws);break;case 3:if(Fs(t,r),(r&130023424)===r&&(s=Cc+500-Ge(),10<s)){if(sl(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){wt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=no(mn.bind(null,t,Et,ws),s);break}mn(t,Et,ws);break;case 4:if(Fs(t,r),(r&4194240)===r)break;for(s=t.eventTimes,a=-1;0<r;){var i=31-ls(r);l=1<<i,i=s[i],i>a&&(a=i),r&=~l}if(r=a,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kg(r/1960))-r,10<r){t.timeoutHandle=no(mn.bind(null,t,Et,ws),r);break}mn(t,Et,ws);break;case 5:mn(t,Et,ws);break;default:throw Error(Z(329))}}}return Mt(t,Ge()),t.callbackNode===n?Eh.bind(null,t):null}function ko(t,s){var n=Fr;return t.current.memoizedState.isDehydrated&&(fn(t,s).flags|=256),t=jl(t,s),t!==2&&(s=Et,Et=n,s!==null&&Co(s)),t}function Co(t){Et===null?Et=t:Et.push.apply(Et,t)}function Gg(t){for(var s=t;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!cs(l(),a))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(t,s){for(s&=~kc,s&=~Ol,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var n=31-ls(s),r=1<<n;t[n]=-1,s&=~r}}function Jd(t){if(ke&6)throw Error(Z(327));Xn();var s=sl(t,0);if(!(s&1))return Mt(t,Ge()),null;var n=jl(t,s);if(t.tag!==0&&n===2){var r=Yi(t);r!==0&&(s=r,n=ko(t,r))}if(n===1)throw n=ra,fn(t,0),Fs(t,s),Mt(t,Ge()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,mn(t,Et,ws),Mt(t,Ge()),null}function Sc(t,s){var n=ke;ke|=1;try{return t(s)}finally{ke=n,ke===0&&(ar=Ge()+500,Il&&an())}}function Cn(t){$s!==null&&$s.tag===0&&!(ke&6)&&Xn();var s=ke;ke|=1;var n=Yt.transition,r=Te;try{if(Yt.transition=null,Te=1,t)return t()}finally{Te=r,Yt.transition=n,ke=s,!(ke&6)&&an()}}function Pc(){zt=qn.current,Me(qn)}function fn(t,s){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wg(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(ic(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&il();break;case 3:nr(),Me(At),Me(bt),pc();break;case 5:gc(r);break;case 4:nr();break;case 13:Me(Ve);break;case 19:Me(Ve);break;case 10:mc(r.type._context);break;case 22:case 23:Pc()}n=n.return}if(it=t,Je=t=Xs(t.current,null),mt=zt=s,nt=0,ra=null,kc=Ol=kn=0,Et=Fr=null,hn!==null){for(s=0;s<hn.length;s++)if(n=hn[s],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}n.pending=r}hn=null}return t}function Rh(t,s){do{var n=Je;try{if(dc(),Ua.current=pl,gl){for(var r=$e.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}gl=!1}if(wn=0,lt=st=$e=null,zr=!1,ta=0,wc.current=null,n===null||n.return===null){nt=1,ra=s,Je=null;break}e:{var l=t,i=n.return,o=n,c=s;if(s=mt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Hd(i);if(x!==null){x.flags&=-257,Fd(x,i,o,l,s),x.mode&1&&zd(l,d,s),s=x,c=d;var y=s.updateQueue;if(y===null){var f=new Set;f.add(c),s.updateQueue=f}else y.add(c);break e}else{if(!(s&1)){zd(l,d,s),Tc();break e}c=Error(Z(426))}}else if(Oe&&o.mode&1){var j=Hd(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Fd(j,i,o,l,s),oc(rr(c,o));break e}}l=c=rr(c,o),nt!==4&&(nt=2),Fr===null?Fr=[l]:Fr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var N=hh(l,c,s);Ad(l,N);break e;case 1:o=c;var p=l.type,b=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ys===null||!Ys.has(b)))){l.flags|=65536,s&=-s,l.lanes|=s;var v=xh(l,o,s);Ad(l,v);break e}}l=l.return}while(l!==null)}Ih(n)}catch(w){s=w,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function Dh(){var t=fl.current;return fl.current=pl,t===null?pl:t}function Tc(){(nt===0||nt===3||nt===2)&&(nt=4),it===null||!(kn&268435455)&&!(Ol&268435455)||Fs(it,mt)}function jl(t,s){var n=ke;ke|=2;var r=Dh();(it!==t||mt!==s)&&(ws=null,fn(t,s));do try{Wg();break}catch(a){Rh(t,a)}while(!0);if(dc(),ke=n,fl.current=r,Je!==null)throw Error(Z(261));return it=null,mt=0,nt}function Wg(){for(;Je!==null;)Ah(Je)}function Yg(){for(;Je!==null&&!j0();)Ah(Je)}function Ah(t){var s=Lh(t.alternate,t,zt);t.memoizedProps=t.pendingProps,s===null?Ih(t):Je=s,wc.current=null}function Ih(t){var s=t;do{var n=s.alternate;if(t=s.return,s.flags&32768){if(n=$g(n,s),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Je=null;return}}else if(n=Vg(n,s,zt),n!==null){Je=n;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=t}while(s!==null);nt===0&&(nt=5)}function mn(t,s,n){var r=Te,a=Yt.transition;try{Yt.transition=null,Te=1,Qg(t,s,n,r)}finally{Yt.transition=a,Te=r}return null}function Qg(t,s,n,r){do Xn();while($s!==null);if(ke&6)throw Error(Z(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(R0(t,l),t===it&&(Je=it=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ia||(Ia=!0,Bh(tl,function(){return Xn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Yt.transition,Yt.transition=null;var i=Te;Te=1;var o=ke;ke|=4,wc.current=null,_g(t,n),Ph(n,t),pg(to),nl=!!eo,to=eo=null,t.current=n,qg(n),N0(),ke=o,Te=i,Yt.transition=l}else t.current=n;if(Ia&&(Ia=!1,$s=t,bl=a),l=t.pendingLanes,l===0&&(Ys=null),k0(n.stateNode),Mt(t,Ge()),s!==null)for(r=t.onRecoverableError,n=0;n<s.length;n++)a=s[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(yl)throw yl=!1,t=vo,vo=null,t;return bl&1&&t.tag!==0&&Xn(),l=t.pendingLanes,l&1?t===wo?Vr++:(Vr=0,wo=t):Vr=0,an(),null}function Xn(){if($s!==null){var t=hu(bl),s=Yt.transition,n=Te;try{if(Yt.transition=null,Te=16>t?16:t,$s===null)var r=!1;else{if(t=$s,$s=null,bl=0,ke&6)throw Error(Z(331));var a=ke;for(ke|=4,re=t.current;re!==null;){var l=re,i=l.child;if(re.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(re=d;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Hr(8,u,l)}var m=u.child;if(m!==null)m.return=u,re=m;else for(;re!==null;){u=re;var g=u.sibling,x=u.return;if(kh(u),u===d){re=null;break}if(g!==null){g.return=x,re=g;break}re=x}}}var y=l.alternate;if(y!==null){var f=y.child;if(f!==null){y.child=null;do{var j=f.sibling;f.sibling=null,f=j}while(f!==null)}}re=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,re=i;else e:for(;re!==null;){if(l=re,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Hr(9,l,l.return)}var N=l.sibling;if(N!==null){N.return=l.return,re=N;break e}re=l.return}}var p=t.current;for(re=p;re!==null;){i=re;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,re=b;else e:for(i=p;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Bl(9,o)}}catch(w){_e(o,o.return,w)}if(o===i){re=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,re=v;break e}re=o.return}}if(ke=a,an(),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(Tl,t)}catch{}r=!0}return r}finally{Te=n,Yt.transition=s}}return!1}function Zd(t,s,n){s=rr(n,s),s=hh(t,s,1),t=Ws(t,s,1),s=wt(),t!==null&&(ua(t,1,s),Mt(t,s))}function _e(t,s,n){if(t.tag===3)Zd(t,t,n);else for(;s!==null;){if(s.tag===3){Zd(s,t,n);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ys===null||!Ys.has(r))){t=rr(n,t),t=xh(s,t,1),s=Ws(s,t,1),t=wt(),s!==null&&(ua(s,1,t),Mt(s,t));break}}s=s.return}}function Xg(t,s,n){var r=t.pingCache;r!==null&&r.delete(s),s=wt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>Ge()-Cc?fn(t,0):kc|=n),Mt(t,s)}function Mh(t,s){s===0&&(t.mode&1?(s=wa,wa<<=1,!(wa&130023424)&&(wa=4194304)):s=1);var n=wt();t=Ds(t,s),t!==null&&(ua(t,s,n),Mt(t,n))}function Jg(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),Mh(t,n)}function Zg(t,s){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(s),Mh(t,n)}var Lh;Lh=function(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps||At.current)Rt=!0;else{if(!(t.lanes&n)&&!(s.flags&128))return Rt=!1,Fg(t,s,n);Rt=!!(t.flags&131072)}else Rt=!1,Oe&&s.flags&1048576&&Hu(s,dl,s.index);switch(s.lanes=0,s.tag){case 2:var r=s.type;qa(t,s),t=s.pendingProps;var a=er(s,bt.current);Qn(s,n),a=yc(null,s,r,t,a,n);var l=bc();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,It(r)?(l=!0,ol(s)):l=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hc(s),a.updater=Ll,s.stateNode=a,a._reactInternals=s,mo(s,r,t,n),s=xo(null,s,r,!0,l,n)):(s.tag=0,Oe&&l&&lc(s),jt(null,s,a,n),s=s.child),s;case 16:r=s.elementType;e:{switch(qa(t,s),t=s.pendingProps,a=r._init,r=a(r._payload),s.type=r,a=s.tag=tp(r),t=ss(r,t),a){case 0:s=ho(null,s,r,t,n);break e;case 1:s=Ud(null,s,r,t,n);break e;case 11:s=Vd(null,s,r,t,n);break e;case 14:s=$d(null,s,r,ss(r.type,t),n);break e}throw Error(Z(306,r,""))}return s;case 0:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:ss(r,a),ho(t,s,r,a,n);case 1:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:ss(r,a),Ud(t,s,r,a,n);case 3:e:{if(yh(s),t===null)throw Error(Z(387));r=s.pendingProps,l=s.memoizedState,a=l.element,qu(t,s),hl(s,r,null,n);var i=s.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){a=rr(Error(Z(423)),s),s=_d(t,s,r,n,a);break e}else if(r!==a){a=rr(Error(Z(424)),s),s=_d(t,s,r,n,a);break e}else for(Ht=Gs(s.stateNode.containerInfo.firstChild),Ft=s,Oe=!0,as=null,n=Uu(s,null,r,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),r===a){s=As(t,s,n);break e}jt(t,s,r,n)}s=s.child}return s;case 5:return Ku(s),t===null&&io(s),r=s.type,a=s.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,so(r,a)?i=null:l!==null&&so(r,l)&&(s.flags|=32),fh(t,s),jt(t,s,i,n),s.child;case 6:return t===null&&io(s),null;case 13:return bh(t,s,n);case 4:return xc(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=sr(s,null,r,n):jt(t,s,r,n),s.child;case 11:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:ss(r,a),Vd(t,s,r,a,n);case 7:return jt(t,s,s.pendingProps,n),s.child;case 8:return jt(t,s,s.pendingProps.children,n),s.child;case 12:return jt(t,s,s.pendingProps.children,n),s.child;case 10:e:{if(r=s.type._context,a=s.pendingProps,l=s.memoizedProps,i=a.value,Re(ml,r._currentValue),r._currentValue=i,l!==null)if(cs(l.value,i)){if(l.children===a.children&&!At.current){s=As(t,s,n);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Ts(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),oo(l.return,n,s),o.lanes|=n;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(Z(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),oo(i,n,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}jt(t,s,a.children,n),s=s.child}return s;case 9:return a=s.type,r=s.pendingProps.children,Qn(s,n),a=Xt(a),r=r(a),s.flags|=1,jt(t,s,r,n),s.child;case 14:return r=s.type,a=ss(r,s.pendingProps),a=ss(r.type,a),$d(t,s,r,a,n);case 15:return gh(t,s,s.type,s.pendingProps,n);case 17:return r=s.type,a=s.pendingProps,a=s.elementType===r?a:ss(r,a),qa(t,s),s.tag=1,It(r)?(t=!0,ol(s)):t=!1,Qn(s,n),uh(s,r,a),mo(s,r,a,n),xo(null,s,r,!0,t,n);case 19:return jh(t,s,n);case 22:return ph(t,s,n)}throw Error(Z(156,s.tag))};function Bh(t,s){return cu(t,s)}function ep(t,s,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,s,n,r){return new ep(t,s,n,r)}function Ec(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tp(t){if(typeof t=="function")return Ec(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wo)return 11;if(t===Yo)return 14}return 2}function Xs(t,s){var n=t.alternate;return n===null?(n=Gt(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wa(t,s,n,r,a,l){var i=2;if(r=t,typeof t=="function")Ec(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ln:return yn(n.children,a,l,s);case Go:i=8,a|=8;break;case Mi:return t=Gt(12,n,s,a|2),t.elementType=Mi,t.lanes=l,t;case Li:return t=Gt(13,n,s,a),t.elementType=Li,t.lanes=l,t;case Bi:return t=Gt(19,n,s,a),t.elementType=Bi,t.lanes=l,t;case Km:return zl(n,a,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _m:i=10;break e;case qm:i=9;break e;case Wo:i=11;break e;case Yo:i=14;break e;case Os:i=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return s=Gt(i,n,s,a),s.elementType=t,s.type=r,s.lanes=l,s}function yn(t,s,n,r){return t=Gt(7,t,r,s),t.lanes=n,t}function zl(t,s,n,r){return t=Gt(22,t,r,s),t.elementType=Km,t.lanes=n,t.stateNode={isHidden:!1},t}function ki(t,s,n){return t=Gt(6,t,null,s),t.lanes=n,t}function Ci(t,s,n){return s=Gt(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function sp(t,s,n,r,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ai(0),this.expirationTimes=ai(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Rc(t,s,n,r,a,l,i,o,c){return t=new sp(t,s,n,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=Gt(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(l),t}function np(t,s,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:t,containerInfo:s,implementation:n}}function Oh(t){if(!t)return en;t=t._reactInternals;e:{if(Rn(t)!==t||t.tag!==1)throw Error(Z(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(It(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(It(n))return Ou(t,n,s)}return s}function zh(t,s,n,r,a,l,i,o,c){return t=Rc(n,r,!0,t,a,l,i,o,c),t.context=Oh(null),n=t.current,r=wt(),a=Qs(n),l=Ts(r,a),l.callback=s??null,Ws(n,l,a),t.current.lanes=a,ua(t,a,r),Mt(t,r),t}function Hl(t,s,n,r){var a=s.current,l=wt(),i=Qs(a);return n=Oh(n),s.context===null?s.context=n:s.pendingContext=n,s=Ts(l,i),s.payload={element:t},r=r===void 0?null:r,r!==null&&(s.callback=r),t=Ws(a,s,i),t!==null&&(is(t,a,i,l),$a(t,a,i)),i}function Nl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function em(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function Dc(t,s){em(t,s),(t=t.alternate)&&em(t,s)}function rp(){return null}var Hh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ac(t){this._internalRoot=t}Fl.prototype.render=Ac.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(Z(409));Hl(t,s,null,null)};Fl.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Cn(function(){Hl(null,t,null,null)}),s[Rs]=null}};function Fl(t){this._internalRoot=t}Fl.prototype.unstable_scheduleHydration=function(t){if(t){var s=pu();t={blockedOn:null,target:t,priority:s};for(var n=0;n<Hs.length&&s!==0&&s<Hs[n].priority;n++);Hs.splice(n,0,t),n===0&&yu(t)}};function Ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tm(){}function ap(t,s,n,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var d=Nl(i);l.call(d)}}var i=zh(s,r,t,0,null,!1,!1,"",tm);return t._reactRootContainer=i,t[Rs]=i.current,Qr(t.nodeType===8?t.parentNode:t),Cn(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var d=Nl(c);o.call(d)}}var c=Rc(t,0,!1,null,null,!1,!1,"",tm);return t._reactRootContainer=c,t[Rs]=c.current,Qr(t.nodeType===8?t.parentNode:t),Cn(function(){Hl(s,c,n,r)}),c}function $l(t,s,n,r,a){var l=n._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=Nl(i);o.call(c)}}Hl(s,i,t,a)}else i=ap(n,s,t,a,r);return Nl(i)}xu=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var n=Dr(s.pendingLanes);n!==0&&(Jo(s,n|1),Mt(s,Ge()),!(ke&6)&&(ar=Ge()+500,an()))}break;case 13:Cn(function(){var r=Ds(t,1);if(r!==null){var a=wt();is(r,t,1,a)}}),Dc(t,1)}};Zo=function(t){if(t.tag===13){var s=Ds(t,134217728);if(s!==null){var n=wt();is(s,t,134217728,n)}Dc(t,134217728)}};gu=function(t){if(t.tag===13){var s=Qs(t),n=Ds(t,s);if(n!==null){var r=wt();is(n,t,s,r)}Dc(t,s)}};pu=function(){return Te};fu=function(t,s){var n=Te;try{return Te=t,s()}finally{Te=n}};Ki=function(t,s,n){switch(s){case"input":if(Hi(t,n),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var r=n[s];if(r!==t&&r.form===t.form){var a=Al(r);if(!a)throw Error(Z(90));Wm(r),Hi(r,a)}}}break;case"textarea":Qm(t,n);break;case"select":s=n.value,s!=null&&Kn(t,!!n.multiple,s,!1)}};nu=Sc;ru=Cn;var lp={usingClientEntryPoint:!1,Events:[xa,Hn,Al,tu,su,Sc]},Sr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ip={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iu(t),t===null?null:t.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||rp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Tl=Ma.inject(ip),fs=Ma}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lp;$t.createPortal=function(t,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ic(s))throw Error(Z(200));return np(t,s,null,n)};$t.createRoot=function(t,s){if(!Ic(t))throw Error(Z(299));var n=!1,r="",a=Hh;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Rc(t,1,!1,null,null,n,!1,r,a),t[Rs]=s.current,Qr(t.nodeType===8?t.parentNode:t),new Ac(s)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=iu(s),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return Cn(t)};$t.hydrate=function(t,s,n){if(!Vl(s))throw Error(Z(200));return $l(null,t,s,!0,n)};$t.hydrateRoot=function(t,s,n){if(!Ic(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,a=!1,l="",i=Hh;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),s=zh(s,null,t,1,n??null,a,!1,l,i),t[Rs]=s.current,Qr(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,a]:s.mutableSourceEagerHydrationData.push(n,a);return new Fl(s)};$t.render=function(t,s,n){if(!Vl(s))throw Error(Z(200));return $l(null,t,s,!1,n)};$t.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(Z(40));return t._reactRootContainer?(Cn(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[Rs]=null})}),!0):!1};$t.unstable_batchedUpdates=Sc;$t.unstable_renderSubtreeIntoContainer=function(t,s,n,r){if(!Vl(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return $l(t,s,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function Fh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fh)}catch(t){console.error(t)}}Fh(),Fm.exports=$t;var op=Fm.exports,Vh,sm=op;Vh=sm.createRoot,sm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(this,arguments)}var Us;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Us||(Us={}));const nm="popstate";function cp(t){t===void 0&&(t={});function s(r,a){let{pathname:l,search:i,hash:o}=r.location;return So("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:vl(a)}return mp(s,n,null,t)}function Ye(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function $h(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function dp(){return Math.random().toString(36).substr(2,8)}function rm(t,s){return{usr:t.state,key:t.key,idx:s}}function So(t,s,n,r){return n===void 0&&(n=null),aa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?mr(s):s,{state:n,key:s&&s.key||r||dp()})}function vl(t){let{pathname:s="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function mr(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function mp(t,s,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,i=a.history,o=Us.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(aa({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function m(){o=Us.Pop;let j=u(),N=j==null?null:j-d;d=j,c&&c({action:o,location:f.location,delta:N})}function g(j,N){o=Us.Push;let p=So(f.location,j,N);d=u()+1;let b=rm(p,d),v=f.createHref(p);try{i.pushState(b,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;a.location.assign(v)}l&&c&&c({action:o,location:f.location,delta:1})}function x(j,N){o=Us.Replace;let p=So(f.location,j,N);d=u();let b=rm(p,d),v=f.createHref(p);i.replaceState(b,"",v),l&&c&&c({action:o,location:f.location,delta:0})}function y(j){let N=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof j=="string"?j:vl(j);return p=p.replace(/ $/,"%20"),Ye(N,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,N)}let f={get action(){return o},get location(){return t(a,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(nm,m),c=j,()=>{a.removeEventListener(nm,m),c=null}},createHref(j){return s(a,j)},createURL:y,encodeLocation(j){let N=y(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(j){return i.go(j)}};return f}var am;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(am||(am={}));function up(t,s,n){return n===void 0&&(n="/"),hp(t,s,n,!1)}function hp(t,s,n,r){let a=typeof s=="string"?mr(s):s,l=Mc(a.pathname||"/",n);if(l==null)return null;let i=Uh(t);xp(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=Cp(l);o=wp(i[c],d,r)}return o}function Uh(t,s,n,r){s===void 0&&(s=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(Ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Js([r,c.relativePath]),u=n.concat(c);l.children&&l.children.length>0&&(Ye(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Uh(l.children,s,u,d)),!(l.path==null&&!l.index)&&s.push({path:d,score:Np(d,l.index),routesMeta:u})};return t.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of _h(l.path))a(l,i,c)}),s}function _h(t){let s=t.split("/");if(s.length===0)return[];let[n,...r]=s,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let i=_h(r.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function xp(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:vp(s.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gp=/^:[\w-]+$/,pp=3,fp=2,yp=1,bp=10,jp=-2,lm=t=>t==="*";function Np(t,s){let n=t.split("/"),r=n.length;return n.some(lm)&&(r+=jp),s&&(r+=fp),n.filter(a=>!lm(a)).reduce((a,l)=>a+(gp.test(l)?pp:l===""?yp:bp),r)}function vp(t,s){return t.length===s.length&&t.slice(0,-1).every((r,a)=>r===s[a])?t[t.length-1]-s[s.length-1]:0}function wp(t,s,n){let{routesMeta:r}=t,a={},l="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,u=l==="/"?s:s.slice(l.length)||"/",m=im({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),g=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=im({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:Js([l,m.pathname]),pathnameBase:Ep(Js([l,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(l=Js([l,m.pathnameBase]))}return i}function im(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kp(t.path,t.caseSensitive,t.end),a=s.match(n);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,u,m)=>{let{paramName:g,isOptional:x}=u;if(g==="*"){let f=o[m]||"";i=l.slice(0,l.length-f.length).replace(/(.)\/+$/,"$1")}const y=o[m];return x&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:t}}function kp(t,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),$h(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),r]}function Cp(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return $h(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Mc(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Sp(t,s){s===void 0&&(s="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?mr(t):t;return{pathname:n?n.startsWith("/")?n:Pp(n,s):s,search:Rp(r),hash:Dp(a)}}function Pp(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Si(t,s,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tp(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Lc(t,s){let n=Tp(t);return s?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bc(t,s,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=mr(t):(a=aa({},t),Ye(!a.pathname||!a.pathname.includes("?"),Si("?","pathname","search",a)),Ye(!a.pathname||!a.pathname.includes("#"),Si("#","pathname","hash",a)),Ye(!a.search||!a.search.includes("#"),Si("#","search","hash",a)));let l=t===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=n;else{let m=s.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}o=m>=0?s[m]:"/"}let c=Sp(a,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Js=t=>t.join("/").replace(/\/\/+/g,"/"),Ep=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rp=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dp=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ap(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qh=["post","put","patch","delete"];new Set(qh);const Ip=["get",...qh];new Set(Ip);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},la.apply(this,arguments)}const Oc=h.createContext(null),Mp=h.createContext(null),ln=h.createContext(null),Ul=h.createContext(null),Ms=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Kh=h.createContext(null);function Lp(t,s){let{relative:n}=s===void 0?{}:s;ur()||Ye(!1);let{basename:r,navigator:a}=h.useContext(ln),{hash:l,pathname:i,search:o}=Wh(t,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Js([r,i])),a.createHref({pathname:c,search:o,hash:l})}function ur(){return h.useContext(Ul)!=null}function Ot(){return ur()||Ye(!1),h.useContext(Ul).location}function Gh(t){h.useContext(ln).static||h.useLayoutEffect(t)}function le(){let{isDataRoute:t}=h.useContext(Ms);return t?Wp():Bp()}function Bp(){ur()||Ye(!1);let t=h.useContext(Oc),{basename:s,future:n,navigator:r}=h.useContext(ln),{matches:a}=h.useContext(Ms),{pathname:l}=Ot(),i=JSON.stringify(Lc(a,n.v7_relativeSplatPath)),o=h.useRef(!1);return Gh(()=>{o.current=!0}),h.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=Bc(d,JSON.parse(i),l,u.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:Js([s,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[s,r,i,l,t])}function ot(){let{matches:t}=h.useContext(Ms),s=t[t.length-1];return s?s.params:{}}function Wh(t,s){let{relative:n}=s===void 0?{}:s,{future:r}=h.useContext(ln),{matches:a}=h.useContext(Ms),{pathname:l}=Ot(),i=JSON.stringify(Lc(a,r.v7_relativeSplatPath));return h.useMemo(()=>Bc(t,JSON.parse(i),l,n==="path"),[t,i,l,n])}function Op(t,s){return zp(t,s)}function zp(t,s,n,r){ur()||Ye(!1);let{navigator:a}=h.useContext(ln),{matches:l}=h.useContext(Ms),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Ot(),u;if(s){var m;let j=typeof s=="string"?mr(s):s;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||Ye(!1),u=j}else u=d;let g=u.pathname||"/",x=g;if(c!=="/"){let j=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let y=up(t,{pathname:x}),f=Up(y&&y.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Js([c,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Js([c,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,r);return s&&f?h.createElement(Ul.Provider,{value:{location:la({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Us.Pop}},f):f}function Hp(){let t=Gp(),s=Ap(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},s),n?h.createElement("pre",{style:a},n):null,null)}const Fp=h.createElement(Hp,null);class Vp extends h.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?h.createElement(Ms.Provider,{value:this.props.routeContext},h.createElement(Kh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $p(t){let{routeContext:s,match:n,children:r}=t,a=h.useContext(Oc);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Ms.Provider,{value:s},r)}function Up(t,s,n,r){var a;if(s===void 0&&(s=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=(a=n)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||Ye(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<i.length;u++){let m=i[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:g,errors:x}=n,y=m.route.loader&&g[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||y){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,m,g)=>{let x,y=!1,f=null,j=null;n&&(x=o&&m.route.id?o[m.route.id]:void 0,f=m.route.errorElement||Fp,c&&(d<0&&g===0?(y=!0,j=null):d===g&&(y=!0,j=m.route.hydrateFallbackElement||null)));let N=s.concat(i.slice(0,g+1)),p=()=>{let b;return x?b=f:y?b=j:m.route.Component?b=h.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=u,h.createElement($p,{match:m,routeContext:{outlet:u,matches:N,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?h.createElement(Vp,{location:n.location,revalidation:n.revalidation,component:f,error:x,children:p(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):p()},null)}var Yh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Yh||{}),wl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wl||{});function _p(t){let s=h.useContext(Oc);return s||Ye(!1),s}function qp(t){let s=h.useContext(Mp);return s||Ye(!1),s}function Kp(t){let s=h.useContext(Ms);return s||Ye(!1),s}function Qh(t){let s=Kp(),n=s.matches[s.matches.length-1];return n.route.id||Ye(!1),n.route.id}function Gp(){var t;let s=h.useContext(Kh),n=qp(wl.UseRouteError),r=Qh(wl.UseRouteError);return s!==void 0?s:(t=n.errors)==null?void 0:t[r]}function Wp(){let{router:t}=_p(Yh.UseNavigateStable),s=Qh(wl.UseNavigateStable),n=h.useRef(!1);return Gh(()=>{n.current=!0}),h.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,la({fromRouteId:s},l)))},[t,s])}function Yp(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Po(t){let{to:s,replace:n,state:r,relative:a}=t;ur()||Ye(!1);let{future:l,static:i}=h.useContext(ln),{matches:o}=h.useContext(Ms),{pathname:c}=Ot(),d=le(),u=Bc(s,Lc(o,l.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return h.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:a}),[d,m,a,n,r]),null}function ae(t){Ye(!1)}function Qp(t){let{basename:s="/",children:n=null,location:r,navigationType:a=Us.Pop,navigator:l,static:i=!1,future:o}=t;ur()&&Ye(!1);let c=s.replace(/^\/*/,"/"),d=h.useMemo(()=>({basename:c,navigator:l,static:i,future:la({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof r=="string"&&(r=mr(r));let{pathname:u="/",search:m="",hash:g="",state:x=null,key:y="default"}=r,f=h.useMemo(()=>{let j=Mc(u,c);return j==null?null:{location:{pathname:j,search:m,hash:g,state:x,key:y},navigationType:a}},[c,u,m,g,x,y,a]);return f==null?null:h.createElement(ln.Provider,{value:d},h.createElement(Ul.Provider,{children:n,value:f}))}function Xp(t){let{children:s,location:n}=t;return Op(To(s),n)}new Promise(()=>{});function To(t,s){s===void 0&&(s=[]);let n=[];return h.Children.forEach(t,(r,a)=>{if(!h.isValidElement(r))return;let l=[...s,a];if(r.type===h.Fragment){n.push.apply(n,To(r.props.children,l));return}r.type!==ae&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=To(r.props.children,l)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eo.apply(this,arguments)}function Jp(t,s){if(t==null)return{};var n={},r=Object.keys(t),a,l;for(l=0;l<r.length;l++)a=r[l],!(s.indexOf(a)>=0)&&(n[a]=t[a]);return n}function Zp(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ef(t,s){return t.button===0&&(!s||s==="_self")&&!Zp(t)}function Ro(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,n)=>{let r=t[n];return s.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function tf(t,s){let n=Ro(t);return s&&s.forEach((r,a)=>{n.has(a)||s.getAll(a).forEach(l=>{n.append(a,l)})}),n}const sf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nf="6";try{window.__reactRouterVersion=nf}catch{}const rf="startTransition",om=Xx[rf];function af(t){let{basename:s,children:n,future:r,window:a}=t,l=h.useRef();l.current==null&&(l.current=cp({window:a,v5Compat:!0}));let i=l.current,[o,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:d}=r||{},u=h.useCallback(m=>{d&&om?om(()=>c(m)):c(m)},[c,d]);return h.useLayoutEffect(()=>i.listen(u),[i,u]),h.useEffect(()=>Yp(r),[r]),h.createElement(Qp,{basename:s,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const lf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",of=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=h.forwardRef(function(s,n){let{onClick:r,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=s,g=Jp(s,sf),{basename:x}=h.useContext(ln),y,f=!1;if(typeof d=="string"&&of.test(d)&&(y=d,lf))try{let b=new URL(window.location.href),v=d.startsWith("//")?new URL(b.protocol+d):new URL(d),w=Mc(v.pathname,x);v.origin===b.origin&&w!=null?d=w+v.search+v.hash:f=!0}catch{}let j=Lp(d,{relative:a}),N=cf(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:m});function p(b){r&&r(b),b.defaultPrevented||N(b)}return h.createElement("a",Eo({},g,{href:y||j,onClick:f||l?r:p,ref:n,target:c}))});var cm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cm||(cm={}));var dm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dm||(dm={}));function cf(t,s){let{target:n,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=le(),d=Ot(),u=Wh(t,{relative:i});return h.useCallback(m=>{if(ef(m,n)){m.preventDefault();let g=r!==void 0?r:vl(d)===vl(u);c(t,{replace:g,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,r,a,n,t,l,i,o])}function zc(t){let s=h.useRef(Ro(t)),n=h.useRef(!1),r=Ot(),a=h.useMemo(()=>tf(r.search,n.current?null:s.current),[r.search]),l=le(),i=h.useCallback((o,c)=>{const d=Ro(typeof o=="function"?o(a):o);n.current=!0,l("?"+d,c)},[l,a]);return[a,i]}function Xh(t,s){return function(){return t.apply(s,arguments)}}const{toString:df}=Object.prototype,{getPrototypeOf:Hc}=Object,{iterator:_l,toStringTag:Jh}=Symbol,ql=(t=>s=>{const n=df.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ms=t=>(t=t.toLowerCase(),s=>ql(s)===t),Kl=t=>s=>typeof s===t,{isArray:hr}=Array,ia=Kl("undefined");function mf(t){return t!==null&&!ia(t)&&t.constructor!==null&&!ia(t.constructor)&&Lt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Zh=ms("ArrayBuffer");function uf(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Zh(t.buffer),s}const hf=Kl("string"),Lt=Kl("function"),ex=Kl("number"),Gl=t=>t!==null&&typeof t=="object",xf=t=>t===!0||t===!1,Ya=t=>{if(ql(t)!=="object")return!1;const s=Hc(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Jh in t)&&!(_l in t)},gf=ms("Date"),pf=ms("File"),ff=ms("Blob"),yf=ms("FileList"),bf=t=>Gl(t)&&Lt(t.pipe),jf=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Lt(t.append)&&((s=ql(t))==="formdata"||s==="object"&&Lt(t.toString)&&t.toString()==="[object FormData]"))},Nf=ms("URLSearchParams"),[vf,wf,kf,Cf]=["ReadableStream","Request","Response","Headers"].map(ms),Sf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pa(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),hr(t))for(r=0,a=t.length;r<a;r++)s.call(null,t[r],r,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let o;for(r=0;r<i;r++)o=l[r],s.call(null,t[o],o,t)}}function tx(t,s){s=s.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],s===a.toLowerCase())return a;return null}const gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sx=t=>!ia(t)&&t!==gn;function Do(){const{caseless:t}=sx(this)&&this||{},s={},n=(r,a)=>{const l=t&&tx(s,a)||a;Ya(s[l])&&Ya(r)?s[l]=Do(s[l],r):Ya(r)?s[l]=Do({},r):hr(r)?s[l]=r.slice():s[l]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&pa(arguments[r],n);return s}const Pf=(t,s,n,{allOwnKeys:r}={})=>(pa(s,(a,l)=>{n&&Lt(a)?t[l]=Xh(a,n):t[l]=a},{allOwnKeys:r}),t),Tf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ef=(t,s,n,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},Rf=(t,s,n,r)=>{let a,l,i;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)i=a[l],(!r||r(i,t,s))&&!o[i]&&(s[i]=t[i],o[i]=!0);t=n!==!1&&Hc(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},Df=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const r=t.indexOf(s,n);return r!==-1&&r===n},Af=t=>{if(!t)return null;if(hr(t))return t;let s=t.length;if(!ex(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},If=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Hc(Uint8Array)),Mf=(t,s)=>{const r=(t&&t[_l]).call(t);let a;for(;(a=r.next())&&!a.done;){const l=a.value;s.call(t,l[0],l[1])}},Lf=(t,s)=>{let n;const r=[];for(;(n=t.exec(s))!==null;)r.push(n);return r},Bf=ms("HTMLFormElement"),Of=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),mm=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),zf=ms("RegExp"),nx=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),r={};pa(n,(a,l)=>{let i;(i=s(a,l,t))!==!1&&(r[l]=i||a)}),Object.defineProperties(t,r)},Hf=t=>{nx(t,(s,n)=>{if(Lt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Lt(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ff=(t,s)=>{const n={},r=a=>{a.forEach(l=>{n[l]=!0})};return hr(t)?r(t):r(String(t).split(s)),n},Vf=()=>{},$f=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Uf(t){return!!(t&&Lt(t.append)&&t[Jh]==="FormData"&&t[_l])}const _f=t=>{const s=new Array(10),n=(r,a)=>{if(Gl(r)){if(s.indexOf(r)>=0)return;if(!("toJSON"in r)){s[a]=r;const l=hr(r)?[]:{};return pa(r,(i,o)=>{const c=n(i,a+1);!ia(c)&&(l[o]=c)}),s[a]=void 0,l}}return r};return n(t,0)},qf=ms("AsyncFunction"),Kf=t=>t&&(Gl(t)||Lt(t))&&Lt(t.then)&&Lt(t.catch),rx=((t,s)=>t?setImmediate:s?((n,r)=>(gn.addEventListener("message",({source:a,data:l})=>{a===gn&&l===n&&r.length&&r.shift()()},!1),a=>{r.push(a),gn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Lt(gn.postMessage)),Gf=typeof queueMicrotask<"u"?queueMicrotask.bind(gn):typeof process<"u"&&process.nextTick||rx,Wf=t=>t!=null&&Lt(t[_l]),H={isArray:hr,isArrayBuffer:Zh,isBuffer:mf,isFormData:jf,isArrayBufferView:uf,isString:hf,isNumber:ex,isBoolean:xf,isObject:Gl,isPlainObject:Ya,isReadableStream:vf,isRequest:wf,isResponse:kf,isHeaders:Cf,isUndefined:ia,isDate:gf,isFile:pf,isBlob:ff,isRegExp:zf,isFunction:Lt,isStream:bf,isURLSearchParams:Nf,isTypedArray:If,isFileList:yf,forEach:pa,merge:Do,extend:Pf,trim:Sf,stripBOM:Tf,inherits:Ef,toFlatObject:Rf,kindOf:ql,kindOfTest:ms,endsWith:Df,toArray:Af,forEachEntry:Mf,matchAll:Lf,isHTMLForm:Bf,hasOwnProperty:mm,hasOwnProp:mm,reduceDescriptors:nx,freezeMethods:Hf,toObjectSet:Ff,toCamelCase:Of,noop:Vf,toFiniteNumber:$f,findKey:tx,global:gn,isContextDefined:sx,isSpecCompliantForm:Uf,toJSONObject:_f,isAsyncFn:qf,isThenable:Kf,setImmediate:rx,asap:Gf,isIterable:Wf};function he(t,s,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}H.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const ax=he.prototype,lx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lx[t]={value:t}});Object.defineProperties(he,lx);Object.defineProperty(ax,"isAxiosError",{value:!0});he.from=(t,s,n,r,a,l)=>{const i=Object.create(ax);return H.toFlatObject(t,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),he.call(i,t.message,s,n,r,a),i.cause=t,i.name=t.name,l&&Object.assign(i,l),i};const Yf=null;function Ao(t){return H.isPlainObject(t)||H.isArray(t)}function ix(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function um(t,s,n){return t?t.concat(s).map(function(a,l){return a=ix(a),!n&&l?"["+a+"]":a}).join(n?".":""):s}function Qf(t){return H.isArray(t)&&!t.some(Ao)}const Xf=H.toFlatObject(H,{},null,function(s){return/^is[A-Z]/.test(s)});function Wl(t,s,n){if(!H.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,j){return!H.isUndefined(j[f])});const r=n.metaTokens,a=n.visitor||u,l=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(s);if(!H.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(H.isDate(y))return y.toISOString();if(!c&&H.isBlob(y))throw new he("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(y)||H.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,f,j){let N=y;if(y&&!j&&typeof y=="object"){if(H.endsWith(f,"{}"))f=r?f:f.slice(0,-2),y=JSON.stringify(y);else if(H.isArray(y)&&Qf(y)||(H.isFileList(y)||H.endsWith(f,"[]"))&&(N=H.toArray(y)))return f=ix(f),N.forEach(function(b,v){!(H.isUndefined(b)||b===null)&&s.append(i===!0?um([f],v,l):i===null?f:f+"[]",d(b))}),!1}return Ao(y)?!0:(s.append(um(j,f,l),d(y)),!1)}const m=[],g=Object.assign(Xf,{defaultVisitor:u,convertValue:d,isVisitable:Ao});function x(y,f){if(!H.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+f.join("."));m.push(y),H.forEach(y,function(N,p){(!(H.isUndefined(N)||N===null)&&a.call(s,N,H.isString(p)?p.trim():p,f,g))===!0&&x(N,f?f.concat(p):[p])}),m.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return x(t),s}function hm(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function Fc(t,s){this._pairs=[],t&&Wl(t,this,s)}const ox=Fc.prototype;ox.append=function(s,n){this._pairs.push([s,n])};ox.toString=function(s){const n=s?function(r){return s.call(this,r,hm)}:hm;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Jf(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cx(t,s,n){if(!s)return t;const r=n&&n.encode||Jf;H.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(s,n):l=H.isURLSearchParams(s)?s.toString():new Fc(s,n).toString(r),l){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class xm{constructor(){this.handlers=[]}use(s,n,r){return this.handlers.push({fulfilled:s,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){H.forEach(this.handlers,function(r){r!==null&&s(r)})}}const dx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zf=typeof URLSearchParams<"u"?URLSearchParams:Fc,ey=typeof FormData<"u"?FormData:null,ty=typeof Blob<"u"?Blob:null,sy={isBrowser:!0,classes:{URLSearchParams:Zf,FormData:ey,Blob:ty},protocols:["http","https","file","blob","url","data"]},Vc=typeof window<"u"&&typeof document<"u",Io=typeof navigator=="object"&&navigator||void 0,ny=Vc&&(!Io||["ReactNative","NativeScript","NS"].indexOf(Io.product)<0),ry=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ay=Vc&&window.location.href||"http://localhost",ly=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vc,hasStandardBrowserEnv:ny,hasStandardBrowserWebWorkerEnv:ry,navigator:Io,origin:ay},Symbol.toStringTag,{value:"Module"})),ft={...ly,...sy};function iy(t,s){return Wl(t,new ft.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,l){return ft.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},s))}function oy(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function cy(t){const s={},n=Object.keys(t);let r;const a=n.length;let l;for(r=0;r<a;r++)l=n[r],s[l]=t[l];return s}function mx(t){function s(n,r,a,l){let i=n[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=n.length;return i=!i&&H.isArray(a)?a.length:i,c?(H.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!o):((!a[i]||!H.isObject(a[i]))&&(a[i]=[]),s(n,r,a[i],l)&&H.isArray(a[i])&&(a[i]=cy(a[i])),!o)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(r,a)=>{s(oy(r),a,n,0)}),n}return null}function dy(t,s,n){if(H.isString(t))try{return(s||JSON.parse)(t),H.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const fa={transitional:dx,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,l=H.isObject(s);if(l&&H.isHTMLForm(s)&&(s=new FormData(s)),H.isFormData(s))return a?JSON.stringify(mx(s)):s;if(H.isArrayBuffer(s)||H.isBuffer(s)||H.isStream(s)||H.isFile(s)||H.isBlob(s)||H.isReadableStream(s))return s;if(H.isArrayBufferView(s))return s.buffer;if(H.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iy(s,this.formSerializer).toString();if((o=H.isFileList(s))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wl(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),dy(s)):s}],transformResponse:[function(s){const n=this.transitional||fa.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(H.isResponse(s)||H.isReadableStream(s))return s;if(s&&H.isString(s)&&(r&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(s)}catch(o){if(i)throw o.name==="SyntaxError"?he.from(o,he.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ft.classes.FormData,Blob:ft.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{fa.headers[t]={}});const my=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uy=t=>{const s={};let n,r,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!n||s[n]&&my[n])&&(n==="set-cookie"?s[n]?s[n].push(r):s[n]=[r]:s[n]=s[n]?s[n]+", "+r:r)}),s},gm=Symbol("internals");function Pr(t){return t&&String(t).trim().toLowerCase()}function Qa(t){return t===!1||t==null?t:H.isArray(t)?t.map(Qa):String(t)}function hy(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)s[r[1]]=r[2];return s}const xy=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pi(t,s,n,r,a){if(H.isFunction(r))return r.call(this,s,n);if(a&&(s=n),!!H.isString(s)){if(H.isString(r))return s.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(s)}}function gy(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,r)=>n.toUpperCase()+r)}function py(t,s){const n=H.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,l,i){return this[r].call(this,s,a,l,i)},configurable:!0})})}class Bt{constructor(s){s&&this.set(s)}set(s,n,r){const a=this;function l(o,c,d){const u=Pr(c);if(!u)throw new Error("header name must be a non-empty string");const m=H.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=Qa(o))}const i=(o,c)=>H.forEach(o,(d,u)=>l(d,u,c));if(H.isPlainObject(s)||s instanceof this.constructor)i(s,n);else if(H.isString(s)&&(s=s.trim())&&!xy(s))i(uy(s),n);else if(H.isObject(s)&&H.isIterable(s)){let o={},c,d;for(const u of s){if(!H.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?H.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,n)}else s!=null&&l(n,s,r);return this}get(s,n){if(s=Pr(s),s){const r=H.findKey(this,s);if(r){const a=this[r];if(!n)return a;if(n===!0)return hy(a);if(H.isFunction(n))return n.call(this,a,r);if(H.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=Pr(s),s){const r=H.findKey(this,s);return!!(r&&this[r]!==void 0&&(!n||Pi(this,this[r],r,n)))}return!1}delete(s,n){const r=this;let a=!1;function l(i){if(i=Pr(i),i){const o=H.findKey(r,i);o&&(!n||Pi(r,r[o],o,n))&&(delete r[o],a=!0)}}return H.isArray(s)?s.forEach(l):l(s),a}clear(s){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const l=n[r];(!s||Pi(this,this[l],l,s,!0))&&(delete this[l],a=!0)}return a}normalize(s){const n=this,r={};return H.forEach(this,(a,l)=>{const i=H.findKey(r,l);if(i){n[i]=Qa(a),delete n[l];return}const o=s?gy(l):String(l).trim();o!==l&&delete n[l],n[o]=Qa(a),r[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return H.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=s&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const r=new this(s);return n.forEach(a=>r.set(a)),r}static accessor(s){const r=(this[gm]=this[gm]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=Pr(i);r[o]||(py(a,i),r[o]=!0)}return H.isArray(s)?s.forEach(l):l(s),this}}Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Bt.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[n]=r}}});H.freezeMethods(Bt);function Ti(t,s){const n=this||fa,r=s||n,a=Bt.from(r.headers);let l=r.data;return H.forEach(t,function(o){l=o.call(n,l,a.normalize(),s?s.status:void 0)}),a.normalize(),l}function ux(t){return!!(t&&t.__CANCEL__)}function xr(t,s,n){he.call(this,t??"canceled",he.ERR_CANCELED,s,n),this.name="CanceledError"}H.inherits(xr,he,{__CANCEL__:!0});function hx(t,s,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):s(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fy(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function yy(t,s){t=t||10;const n=new Array(t),r=new Array(t);let a=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=r[l];i||(i=d),n[a]=c,r[a]=d;let m=l,g=0;for(;m!==a;)g+=n[m++],m=m%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),d-i<s)return;const x=u&&d-u;return x?Math.round(g*1e3/x):void 0}}function by(t,s){let n=0,r=1e3/s,a,l;const i=(d,u=Date.now())=>{n=u,a=null,l&&(clearTimeout(l),l=null),t.apply(null,d)};return[(...d)=>{const u=Date.now(),m=u-n;m>=r?i(d,u):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},r-m)))},()=>a&&i(a)]}const kl=(t,s,n=3)=>{let r=0;const a=yy(50,250);return by(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-r,d=a(c),u=i<=o;r=i;const m={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(m)},n)},pm=(t,s)=>{const n=t!=null;return[r=>s[0]({lengthComputable:n,total:t,loaded:r}),s[1]]},fm=t=>(...s)=>H.asap(()=>t(...s)),jy=ft.hasStandardBrowserEnv?((t,s)=>n=>(n=new URL(n,ft.origin),t.protocol===n.protocol&&t.host===n.host&&(s||t.port===n.port)))(new URL(ft.origin),ft.navigator&&/(msie|trident)/i.test(ft.navigator.userAgent)):()=>!0,Ny=ft.hasStandardBrowserEnv?{write(t,s,n,r,a,l){const i=[t+"="+encodeURIComponent(s)];H.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),H.isString(r)&&i.push("path="+r),H.isString(a)&&i.push("domain="+a),l===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vy(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wy(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function xx(t,s,n){let r=!vy(s);return t&&(r||n==!1)?wy(t,s):s}const ym=t=>t instanceof Bt?{...t}:t;function Sn(t,s){s=s||{};const n={};function r(d,u,m,g){return H.isPlainObject(d)&&H.isPlainObject(u)?H.merge.call({caseless:g},d,u):H.isPlainObject(u)?H.merge({},u):H.isArray(u)?u.slice():u}function a(d,u,m,g){if(H.isUndefined(u)){if(!H.isUndefined(d))return r(void 0,d,m,g)}else return r(d,u,m,g)}function l(d,u){if(!H.isUndefined(u))return r(void 0,u)}function i(d,u){if(H.isUndefined(u)){if(!H.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function o(d,u,m){if(m in s)return r(d,u);if(m in t)return r(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,m)=>a(ym(d),ym(u),m,!0)};return H.forEach(Object.keys(Object.assign({},t,s)),function(u){const m=c[u]||a,g=m(t[u],s[u],u);H.isUndefined(g)&&m!==o||(n[u]=g)}),n}const gx=t=>{const s=Sn({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=s;s.headers=i=Bt.from(i),s.url=cx(xx(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(H.isFormData(n)){if(ft.hasStandardBrowserEnv||ft.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[d,...u]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];i.setContentType([d||"multipart/form-data",...u].join("; "))}}if(ft.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(s)),r||r!==!1&&jy(s.url))){const d=a&&l&&Ny.read(l);d&&i.set(a,d)}return s},ky=typeof XMLHttpRequest<"u",Cy=ky&&function(t){return new Promise(function(n,r){const a=gx(t);let l=a.data;const i=Bt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,m,g,x,y;function f(){x&&x(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function N(){if(!j)return;const b=Bt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:b,config:t,request:j};hx(function(C){n(C),f()},function(C){r(C),f()},w),j=null}"onloadend"in j?j.onloadend=N:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(N)},j.onabort=function(){j&&(r(new he("Request aborted",he.ECONNABORTED,t,j)),j=null)},j.onerror=function(){r(new he("Network Error",he.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let v=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const w=a.transitional||dx;a.timeoutErrorMessage&&(v=a.timeoutErrorMessage),r(new he(v,w.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,j)),j=null},l===void 0&&i.setContentType(null),"setRequestHeader"in j&&H.forEach(i.toJSON(),function(v,w){j.setRequestHeader(w,v)}),H.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),o&&o!=="json"&&(j.responseType=a.responseType),d&&([g,y]=kl(d,!0),j.addEventListener("progress",g)),c&&j.upload&&([m,x]=kl(c),j.upload.addEventListener("progress",m),j.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(u=b=>{j&&(r(!b||b.type?new xr(null,t,j):b),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const p=fy(a.url);if(p&&ft.protocols.indexOf(p)===-1){r(new he("Unsupported protocol "+p+":",he.ERR_BAD_REQUEST,t));return}j.send(l||null)})},Sy=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let r=new AbortController,a;const l=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;r.abort(u instanceof he?u:new xr(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,l(new he(`timeout ${s} of ms exceeded`,he.ETIMEDOUT))},s);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),t=null)};t.forEach(d=>d.addEventListener("abort",l));const{signal:c}=r;return c.unsubscribe=()=>H.asap(o),c}},Py=function*(t,s){let n=t.byteLength;if(n<s){yield t;return}let r=0,a;for(;r<n;)a=r+s,yield t.slice(r,a),r=a},Ty=async function*(t,s){for await(const n of Ey(t))yield*Py(n,s)},Ey=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:r}=await s.read();if(n)break;yield r}}finally{await s.cancel()}},bm=(t,s,n,r)=>{const a=Ty(t,s);let l=0,i,o=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let m=u.byteLength;if(n){let g=l+=m;n(g)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Yl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",px=Yl&&typeof ReadableStream=="function",Ry=Yl&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),fx=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Dy=px&&fx(()=>{let t=!1;const s=new Request(ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),jm=64*1024,Mo=px&&fx(()=>H.isReadableStream(new Response("").body)),Cl={stream:Mo&&(t=>t.body)};Yl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Cl[s]&&(Cl[s]=H.isFunction(t[s])?n=>n[s]():(n,r)=>{throw new he(`Response type '${s}' is not supported`,he.ERR_NOT_SUPPORT,r)})})})(new Response);const Ay=async t=>{if(t==null)return 0;if(H.isBlob(t))return t.size;if(H.isSpecCompliantForm(t))return(await new Request(ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(H.isArrayBufferView(t)||H.isArrayBuffer(t))return t.byteLength;if(H.isURLSearchParams(t)&&(t=t+""),H.isString(t))return(await Ry(t)).byteLength},Iy=async(t,s)=>{const n=H.toFiniteNumber(t.getContentLength());return n??Ay(s)},My=Yl&&(async t=>{let{url:s,method:n,data:r,signal:a,cancelToken:l,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:m="same-origin",fetchOptions:g}=gx(t);d=d?(d+"").toLowerCase():"text";let x=Sy([a,l&&l.toAbortSignal()],i),y;const f=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let j;try{if(c&&Dy&&n!=="get"&&n!=="head"&&(j=await Iy(u,r))!==0){let w=new Request(s,{method:"POST",body:r,duplex:"half"}),k;if(H.isFormData(r)&&(k=w.headers.get("content-type"))&&u.setContentType(k),w.body){const[C,S]=pm(j,kl(fm(c)));r=bm(w.body,jm,C,S)}}H.isString(m)||(m=m?"include":"omit");const N="credentials"in Request.prototype;y=new Request(s,{...g,signal:x,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:N?m:void 0});let p=await fetch(y);const b=Mo&&(d==="stream"||d==="response");if(Mo&&(o||b&&f)){const w={};["status","statusText","headers"].forEach(P=>{w[P]=p[P]});const k=H.toFiniteNumber(p.headers.get("content-length")),[C,S]=o&&pm(k,kl(fm(o),!0))||[];p=new Response(bm(p.body,jm,C,()=>{S&&S(),f&&f()}),w)}d=d||"text";let v=await Cl[H.findKey(Cl,d)||"text"](p,t);return!b&&f&&f(),await new Promise((w,k)=>{hx(w,k,{data:v,headers:Bt.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:y})})}catch(N){throw f&&f(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,t,y),{cause:N.cause||N}):he.from(N,N&&N.code,t,y)}}),Lo={http:Yf,xhr:Cy,fetch:My};H.forEach(Lo,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Nm=t=>`- ${t}`,Ly=t=>H.isFunction(t)||t===null||t===!1,yx={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:s}=t;let n,r;const a={};for(let l=0;l<s;l++){n=t[l];let i;if(r=n,!Ly(n)&&(r=Lo[(i=String(n)).toLowerCase()],r===void 0))throw new he(`Unknown adapter '${i}'`);if(r)break;a[i||"#"+l]=r}if(!r){const l=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=s?l.length>1?`since :
`+l.map(Nm).join(`
`):" "+Nm(l[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Lo};function Ei(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xr(null,t)}function vm(t){return Ei(t),t.headers=Bt.from(t.headers),t.data=Ti.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yx.getAdapter(t.adapter||fa.adapter)(t).then(function(r){return Ei(t),r.data=Ti.call(t,t.transformResponse,r),r.headers=Bt.from(r.headers),r},function(r){return ux(r)||(Ei(t),r&&r.response&&(r.response.data=Ti.call(t,t.transformResponse,r.response),r.response.headers=Bt.from(r.response.headers))),Promise.reject(r)})}const bx="1.9.0",Ql={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Ql[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const wm={};Ql.transitional=function(s,n,r){function a(l,i){return"[Axios v"+bx+"] Transitional option '"+l+"'"+i+(r?". "+r:"")}return(l,i,o)=>{if(s===!1)throw new he(a(i," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!wm[i]&&(wm[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(l,i,o):!0}};Ql.spelling=function(s){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function By(t,s,n){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const l=r[a],i=s[l];if(i){const o=t[l],c=o===void 0||i(o,l,t);if(c!==!0)throw new he("option "+l+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+l,he.ERR_BAD_OPTION)}}const Xa={assertOptions:By,validators:Ql},hs=Xa.validators;class bn{constructor(s){this.defaults=s||{},this.interceptors={request:new xm,response:new xm}}async request(s,n){try{return await this._request(s,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=Sn(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:l}=n;r!==void 0&&Xa.assertOptions(r,{silentJSONParsing:hs.transitional(hs.boolean),forcedJSONParsing:hs.transitional(hs.boolean),clarifyTimeoutError:hs.transitional(hs.boolean)},!1),a!=null&&(H.isFunction(a)?n.paramsSerializer={serialize:a}:Xa.assertOptions(a,{encode:hs.function,serialize:hs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Xa.assertOptions(n,{baseUrl:hs.spelling("baseURL"),withXsrfToken:hs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=l&&H.merge(l.common,l[n.method]);l&&H.forEach(["delete","get","head","post","put","patch","common"],y=>{delete l[y]}),n.headers=Bt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(c=c&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let u,m=0,g;if(!c){const y=[vm.bind(this),void 0];for(y.unshift.apply(y,o),y.push.apply(y,d),g=y.length,u=Promise.resolve(n);m<g;)u=u.then(y[m++],y[m++]);return u}g=o.length;let x=n;for(m=0;m<g;){const y=o[m++],f=o[m++];try{x=y(x)}catch(j){f.call(this,j);break}}try{u=vm.call(this,x)}catch(y){return Promise.reject(y)}for(m=0,g=d.length;m<g;)u=u.then(d[m++],d[m++]);return u}getUri(s){s=Sn(this.defaults,s);const n=xx(s.baseURL,s.url,s.allowAbsoluteUrls);return cx(n,s.params,s.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(s){bn.prototype[s]=function(n,r){return this.request(Sn(r||{},{method:s,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(s){function n(r){return function(l,i,o){return this.request(Sn(o||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}bn.prototype[s]=n(),bn.prototype[s+"Form"]=n(!0)});class $c{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{r.subscribe(o),l=o}).then(a);return i.cancel=function(){r.unsubscribe(l)},i},s(function(l,i,o){r.reason||(r.reason=new xr(l,i,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=r=>{s.abort(r)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new $c(function(a){s=a}),cancel:s}}}function Oy(t){return function(n){return t.apply(null,n)}}function zy(t){return H.isObject(t)&&t.isAxiosError===!0}const Bo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bo).forEach(([t,s])=>{Bo[s]=t});function jx(t){const s=new bn(t),n=Xh(bn.prototype.request,s);return H.extend(n,bn.prototype,s,{allOwnKeys:!0}),H.extend(n,s,null,{allOwnKeys:!0}),n.create=function(a){return jx(Sn(t,a))},n}const Xe=jx(fa);Xe.Axios=bn;Xe.CanceledError=xr;Xe.CancelToken=$c;Xe.isCancel=ux;Xe.VERSION=bx;Xe.toFormData=Wl;Xe.AxiosError=he;Xe.Cancel=Xe.CanceledError;Xe.all=function(s){return Promise.all(s)};Xe.spread=Oy;Xe.isAxiosError=zy;Xe.mergeConfig=Sn;Xe.AxiosHeaders=Bt;Xe.formToJSON=t=>mx(H.isHTMLForm(t)?new FormData(t):t);Xe.getAdapter=yx.getAdapter;Xe.HttpStatusCode=Bo;Xe.default=Xe;const Nx="https://bk.blwsmartware.net",M=Xe.create({baseURL:Nx,headers:{"Content-Type":"application/json",accept:"*/*"}});M.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));M.interceptors.response.use(t=>t,async t=>{var n;const s=t.config;if(((n=t.response)==null?void 0:n.status)===401&&!s._retry){s._retry=!0;const r=localStorage.getItem("refreshToken");if(r)try{const l=(await Xe.post(`${Nx}/auth/refresh`,{refreshToken:r})).data.result.token;return localStorage.setItem("token",l),s.headers.Authorization=`Bearer ${l}`,M(s)}catch(a){return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(a)}else localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login"}return Promise.reject(t)});const tn={login:t=>M.post("/auth/login",t),register:t=>M.post("/auth/register",{password:t.password,name:t.name,username:t.username,email:t.email}),logout:t=>M.post("/auth/logout",{refreshToken:t}),refresh:t=>M.post("/auth/refresh",{refreshToken:t}),verify:t=>M.post("/auth/verify",{token:t}),forgotPassword:t=>M.post("/auth/forgot-password",t),newPassword:t=>M.post("/auth/new-password",t),confirmEmail:t=>M.post("/auth/confirm-email",t),resendCode:t=>M.post("/auth/resend-code",t)},vt={getMe:()=>M.get("/users/me"),getUser:t=>M.get(`/users/${t}`),updateUser:(t,s)=>M.put(`/users/${t}`,s),updateMyProfile:t=>M.put("/users/profile",t),updateMyPassword:t=>M.put("/users/password",t),updatePassword:(t,s)=>M.put(`/users/${t}/password`,s),adminUpdatePassword:(t,s)=>M.put(`/users/admin/${t}/password`,s),updateUserRoles:(t,s)=>M.put(`/users/role/${t}`,s),requestHost:()=>M.post("/users/request-host"),approveHostRequest:t=>M.put(`/users/approve-host/${t}`),deleteUser:t=>M.delete(`/users/${t}`),getAllUsers:(t=0,s=5,n="id")=>M.get("/users",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getHosts:(t=0,s=100,n="name")=>M.get("/users/hosts",{params:{pageNumber:t,pageSize:s,sortBy:n}})},Hy={getAllRoles:(t=0,s=100,n="id")=>M.get("/roles",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getRole:t=>M.get(`/roles/${t}`),getRoleByName:t=>M.get(`/roles/name/${t}`)},me={getHotelDetails:t=>M.get(`/hotels/${t}`),searchHotels:(t,s=0,n=10,r="name")=>M.get("/hotels/search",{params:{keyword:t,pageNumber:s,pageSize:n,sortBy:r}}),getHotelsByCity:(t,s=0,n=10,r="name")=>M.get(`/hotels/city/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getHotelsByCountry:(t,s=0,n=10,r="name")=>M.get(`/hotels/country/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getHotelsByStarRating:(t,s=0,n=10,r="name")=>M.get(`/hotels/rating/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getActiveHotels:(t=0,s=10,n="name")=>M.get("/hotels/active",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getFeaturedHotels:(t=0,s=10,n="name")=>M.get("/hotels/featured",{params:{pageNumber:t,pageSize:s,sortBy:n}}),searchHotelsWithFilters:t=>M.get("/hotels/search/filters",{params:t}),getAvailableAmenities:()=>M.get("/hotels/amenities"),getAdminHotels:(t=0,s=10,n="id")=>M.get("/hotels/admin",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getAdminHotelsWithFilters:t=>M.get("/hotels/admin/filter",{params:t}),createHotelByAdmin:t=>M.post("/hotels/admin",t),updateHotelByAdmin:(t,s)=>M.put(`/hotels/admin/${t}`,s),deleteHotelByAdmin:t=>M.delete(`/hotels/admin/${t}`),toggleHotelStatus:t=>M.put(`/hotels/admin/${t}/toggle-status`),toggleHotelFeatured:t=>M.put(`/hotels/admin/${t}/toggle-featured`),getHotelsByOwner:(t,s=0,n=10,r="id")=>M.get(`/hotels/admin/owner/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getTotalHotelsCount:()=>M.get("/hotels/admin/stats/total"),getActiveHotelsCount:()=>M.get("/hotels/admin/stats/active"),getFeaturedHotelsCount:()=>M.get("/hotels/admin/stats/featured"),getHotelsCountByOwner:t=>M.get(`/hotels/admin/stats/owner/${t}`),getMyHotels:(t=0,s=10,n="id")=>M.get("/hotels/host",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getMyHotelsWithFilters:t=>M.get("/hotels/host/filter",{params:t}),getMyHotelById:t=>M.get(`/hotels/host/${t}`),createMyHotel:t=>M.post("/hotels/host",t),updateMyHotel:(t,s)=>M.put(`/hotels/host/${t}`,s),deleteMyHotel:t=>M.delete(`/hotels/host/${t}`),toggleMyHotelStatus:t=>M.put(`/hotels/host/${t}/toggle-status`),getMyHotelsCount:()=>M.get("/hotels/host/stats/total"),getMyActiveHotelsCount:()=>M.get("/hotels/host/stats/active"),getAllHotels:(t=0,s=10)=>M.get("/hotels/active",{params:{pageNumber:t,pageSize:s}}),getAdminHotelById:t=>M.get(`/hotels/${t}`),createHostHotel:t=>M.post("/hotels/host",t),getHostHotelById:t=>M.get(`/hotels/host/${t}`),updateHostHotel:(t,s)=>M.put(`/hotels/host/${t}`,s),deleteHostHotel:t=>M.delete(`/hotels/host/${t}`)},Nt={getAllRoomTypes:(t=0,s=10,n="createdAt")=>M.get("/room-types/admin",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getAllRoomTypesWithFilters:t=>M.get("/room-types/admin/filter",{params:t}),getRoomTypeById:t=>M.get(`/room-types/${t}`),createRoomType:t=>M.post("/room-types/admin",t),updateRoomType:(t,s)=>M.put(`/room-types/admin/${t}`,s),deleteRoomType:t=>M.delete(`/room-types/admin/${t}`),getRoomTypesByHotel:(t,s=0,n=10,r="name")=>M.get(`/room-types/hotel/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getAvailableRoomTypesByHotel:(t,s=0,n=10,r="pricePerNight")=>M.get(`/room-types/hotel/${t}/available`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),searchRoomTypes:(t,s=0,n=10,r="name")=>M.get("/room-types/search",{params:{keyword:t,pageNumber:s,pageSize:n,sortBy:r}}),getRoomTypesByOccupancy:(t,s=0,n=10,r="name")=>M.get(`/room-types/occupancy/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getRoomTypesByPriceRange:t=>M.get("/room-types/price-range",{params:t}),getAvailableRoomTypes:(t=0,s=10,n="pricePerNight")=>M.get("/room-types/available",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getTotalRoomTypesCount:()=>M.get("/room-types/admin/stats/total"),getActiveRoomTypesCount:()=>M.get("/room-types/admin/stats/active"),getRoomTypesCountByHotel:t=>M.get(`/room-types/admin/stats/hotel/${t}`),toggleRoomTypeStatus:t=>M.patch(`/room-types/admin/${t}/toggle-status`)},bs={getMyRoomTypes:(t=0,s=10,n="name")=>M.get("/room-types/host/my-room-types",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getMyHotelRoomTypes:(t,s=0,n=10,r="name")=>M.get(`/room-types/host/hotel/${t}/room-types`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getMyRoomTypeById:t=>M.get(`/room-types/host/${t}`),createMyRoomType:t=>M.post("/room-types/host",t),updateMyRoomType:(t,s)=>M.put(`/room-types/host/${t}`,s),deleteMyRoomType:t=>M.delete(`/room-types/host/${t}`)},Wt={getAllReviews:(t=0,s=10,n="createdAt")=>M.get("/reviews/admin",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getAllReviewsWithFilters:t=>M.get("/reviews/admin/filter",{params:t}),deleteReview:t=>M.delete(`/reviews/admin/${t}`),getReviewsByUser:(t,s=0,n=10,r="createdAt")=>M.get(`/reviews/admin/user/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getReviewById:t=>M.get(`/reviews/${t}`),getReviewsByHotel:(t,s=0,n=10,r="createdAt")=>M.get(`/reviews/hotel/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),getHotelAverageRating:t=>M.get(`/reviews/hotel/${t}/average-rating`),getReviewsByRating:(t,s=0,n=10,r="createdAt")=>M.get(`/reviews/rating/${t}`,{params:{pageNumber:s,pageSize:n,sortBy:r}}),searchReviews:(t,s=0,n=10,r="createdAt")=>M.get("/reviews/search",{params:{keyword:t,pageNumber:s,pageSize:n,sortBy:r}}),createReview:t=>M.post("/reviews",t),updateMyReview:(t,s)=>M.put(`/reviews/${t}`,s),deleteMyReview:t=>M.delete(`/reviews/${t}`),getMyReviews:(t=0,s=10,n="createdAt")=>M.get("/reviews/my",{params:{pageNumber:t,pageSize:s,sortBy:n}}),getTotalReviewsCount:()=>M.get("/reviews/admin/stats/total"),getApprovedReviewsCount:()=>M.get("/reviews/admin/stats/approved"),getVerifiedReviewsCount:()=>M.get("/reviews/admin/stats/verified"),getReviewsCountByHotel:t=>M.get(`/reviews/admin/stats/hotel/${t}`),getReviewsCountByUser:t=>M.get(`/reviews/admin/stats/user/${t}`)},Fy={getDashboard:()=>M.get("/admin/dashboard"),getHotelStats:()=>M.get("/admin/stats/hotels"),getRoomTypeStats:()=>M.get("/admin/stats/room-types"),getReviewStats:()=>M.get("/admin/stats/reviews"),getUserStats:()=>M.get("/admin/stats/users")},vx={getDashboard:()=>M.get("/host/dashboard"),getHotelStats:()=>M.get("/hotels/host/stats"),getBookingStats:()=>M.get("/bookings/host/stats"),getRevenueStats:(t,s)=>M.get("/bookings/host/revenue-stats",{params:{year:t,month:s}}),getRecentBookings:(t=10)=>M.get("/bookings/host/recent",{params:{limit:t}}),getOccupancyStats:t=>M.get("/bookings/host/occupancy-stats",{params:{hotelId:t}}),getReviewStats:()=>M.get("/reviews/host/stats")},Ne={getHostBookings:t=>M.get("/bookings/host",{params:t}),getHostBookingById:t=>M.get(`/bookings/host/${t}`),updateHostBooking:(t,s)=>M.put(`/bookings/host/${t}`,s),confirmBooking:t=>M.patch(`/bookings/host/${t}/confirm`),cancelBooking:(t,s)=>M.patch(`/bookings/host/${t}/cancel`,{reason:s}),completeBooking:t=>M.patch(`/bookings/host/${t}/complete`),confirmPayment:t=>M.patch(`/bookings/host/${t}/confirm-payment`),processCancellation:(t,s)=>M.patch(`/bookings/host/${t}/process-cancellation`,s),createBooking:t=>M.post("/bookings",t),getMyBookings:t=>M.get("/bookings/my",{params:{...t,_t:Date.now()}}),getMyBookingById:t=>M.get(`/bookings/my/${t}`,{params:{_t:Date.now()}}),updateMyBooking:(t,s)=>M.put(`/bookings/my/${t}`,s),cancelMyBooking:(t,s)=>M.patch(`/bookings/my/${t}/cancel`,{reason:s}),getAllBookings:t=>M.get("/bookings/admin",{params:t}),getBookingById:t=>M.get(`/bookings/admin/${t}`),updateBooking:(t,s)=>M.put(`/bookings/admin/${t}`,s),deleteBooking:t=>M.delete(`/bookings/admin/${t}`),adminConfirmPayment:t=>M.patch(`/bookings/admin/${t}/confirm-payment`),getBookingStats:()=>M.get("/bookings/stats"),getHostBookingStats:()=>M.get("/bookings/host/stats"),searchBookings:(t,s)=>M.get("/bookings/search",{params:{...s,keyword:t}}),getBookingsByDateRange:(t,s,n)=>M.get("/bookings/date-range",{params:{...n,startDate:t,endDate:s}}),getBookingsByHotel:(t,s)=>M.get(`/bookings/hotel/${t}`,{params:s}),checkRoomAvailability:(t,s,n)=>M.get("/bookings/check-availability",{params:{roomTypeId:t,checkInDate:s,checkOutDate:n}}),getTotalBookingsCount:()=>M.get("/bookings/admin/stats/total"),getHostBookingsCount:()=>M.get("/bookings/host/stats/total")},Cs={getAllVouchers:t=>M.get("/vouchers/admin",{params:t}),createVoucher:t=>M.post("/vouchers/admin",t),updateVoucher:(t,s)=>M.put(`/vouchers/admin/${t}`,s),deleteVoucher:t=>M.delete(`/vouchers/admin/${t}`),getVoucherById:t=>M.get(`/vouchers/admin/${t}`),toggleVoucherStatus:t=>M.patch(`/vouchers/admin/${t}/toggle-status`),searchVouchers:(t,s)=>M.get("/vouchers/admin/search",{params:{...s,keyword:t}}),getVoucherStats:()=>M.get("/vouchers/admin/stats"),getTotalVouchersCount:()=>M.get("/vouchers/admin/stats/total"),getActiveVouchersCount:()=>M.get("/vouchers/admin/stats/active"),getExpiredVouchersCount:()=>M.get("/vouchers/admin/stats/expired"),getUsedUpVouchersCount:()=>M.get("/vouchers/admin/stats/used-up"),getTotalDiscountAmount:()=>M.get("/vouchers/admin/stats/discount-amount"),getTotalUsageCount:()=>M.get("/vouchers/admin/stats/usage-count"),validateVoucher:t=>M.post("/vouchers/validate",t),getVoucherByCode:t=>M.get(`/vouchers/code/${t}`),getAvailableVouchersForHotel:t=>M.get(`/vouchers/hotel/${t}/available`),applyVoucherToBooking:t=>M.post("/vouchers/apply",t)},Ri={uploadImage:t=>{const s=new FormData;return s.append("file",t),M.post("/api/upload/image",s,{headers:{"Content-Type":"multipart/form-data"}})},uploadHotelImage:t=>{const s=new FormData;return s.append("file",t),M.post("/api/upload/hotel-image",s,{headers:{"Content-Type":"multipart/form-data"}})},uploadRoomImage:t=>{const s=new FormData;return s.append("file",t),M.post("/api/upload/room-image",s,{headers:{"Content-Type":"multipart/form-data"}})},uploadMultipleImages:t=>{const s=new FormData;return t.forEach((n,r)=>{s.append("files",n)}),M.post("/api/upload/images/multiple",s,{headers:{"Content-Type":"multipart/form-data"}})},deleteImage:t=>M.delete("/api/upload/image",{params:{imageUrl:t}}),testUpload:()=>M.get("/api/upload/test")},Sl={createPayment:t=>M.post("/payment/vnpay/create",t),getPaymentStatus:t=>M.get(`/payment/vnpay/status/${t}`),getReturnResult:t=>M.get(`/payment/vnpay/return?${t.toString()}`),linkPaymentToBooking:(t,s)=>M.post("/payment/vnpay/link-booking",null,{params:{txnRef:t,bookingId:s}})},wx=h.createContext(void 0),Vy=({children:t})=>{const[s,n]=h.useState(null),[r,a]=h.useState(!0),[l,i]=h.useState(null),o=async()=>{var u,m;try{const g=await vt.getMe();n(g.data.result),i(null)}catch(g){i(((m=(u=g.response)==null?void 0:u.data)==null?void 0:m.message)||"Khng th ly thng tin ngi dng"),n(null)}finally{a(!1)}};h.useEffect(()=>{localStorage.getItem("token")?o():a(!1)},[]);const c=(u,m)=>{localStorage.setItem("token",u),localStorage.setItem("refreshToken",m),o()},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),n(null)};return e.jsx(wx.Provider,{value:{user:s,loading:r,error:l,login:c,logout:d,fetchUserInfo:o},children:t})},on=()=>{const t=h.useContext(wx);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,s)=>{const n=h.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>h.createElement("svg",{ref:u,...$y,width:a,height:a,stroke:r,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Uy(t)}`,o].join(" "),...d},[...s.map(([m,g])=>h.createElement(m,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ee("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=ee("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ee("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ee("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=ee("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ee("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=ee("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ee("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=ee("Hotel",[["path",{d:"M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z",key:"p9z69c"}],["path",{d:"m9 16 .348-.24c1.465-1.013 3.84-1.013 5.304 0L15 16",key:"1bvcvh"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M10 22v-6.5m4 0V22",key:"16gs4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ee("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=ee("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ee("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=ee("MailX",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h9",key:"1j9vog"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m17 17 4 4",key:"1b3523"}],["path",{d:"m21 17-4 4",key:"uinynz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ee("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ee("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ee("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=ee("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ee("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ee("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=ee("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=ee("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ee("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),pb=({id:t,type:s,title:n,message:r,duration:a=5e3,onClose:l})=>{const[i,o]=h.useState(!1),[c,d]=h.useState(!1),[u,m]=h.useState(100);h.useEffect(()=>{const f=setTimeout(()=>o(!0),10);return()=>clearTimeout(f)},[]),h.useEffect(()=>{if(a>0){const f=Date.now(),j=setInterval(()=>{const p=Date.now()-f,b=Math.max(0,100-p/a*100);m(b),b<=0&&clearInterval(j)},50),N=setTimeout(()=>{g()},a);return()=>{clearInterval(j),clearTimeout(N)}}},[a]);const g=()=>{d(!0),setTimeout(()=>{l(t)},300)},y=(()=>{switch(s){case"success":return{bgColor:"bg-white",borderColor:"border-l-green-500",iconBg:"bg-green-100",iconColor:"text-green-600",icon:e.jsx(yt,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-green-500"};case"error":return{bgColor:"bg-white",borderColor:"border-l-red-500",iconBg:"bg-red-100",iconColor:"text-red-600",icon:e.jsx(ue,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-red-500"};case"warning":return{bgColor:"bg-white",borderColor:"border-l-yellow-500",iconBg:"bg-yellow-100",iconColor:"text-yellow-600",icon:e.jsx(vs,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-yellow-500"};case"info":return{bgColor:"bg-white",borderColor:"border-l-blue-500",iconBg:"bg-blue-100",iconColor:"text-blue-600",icon:e.jsx(Sm,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-blue-500"};default:return{bgColor:"bg-white",borderColor:"border-l-gray-500",iconBg:"bg-gray-100",iconColor:"text-gray-600",icon:e.jsx(Sm,{className:"h-5 w-5"}),titleColor:"text-gray-900",messageColor:"text-gray-600",progressColor:"bg-gray-500"}}})();return e.jsxs("div",{className:`
        max-w-sm w-full ${y.bgColor} ${y.borderColor} border-l-4 rounded-lg shadow-lg
        transform transition-all duration-300 ease-in-out
        ${i&&!c?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
      `,children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`flex-shrink-0 ${y.iconBg} rounded-full p-2 mr-3`,children:e.jsx("div",{className:y.iconColor,children:y.icon})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-semibold ${y.titleColor} leading-5`,children:n}),r&&e.jsx("p",{className:`mt-1 text-sm ${y.messageColor} leading-5`,children:r})]}),e.jsx("div",{className:"flex-shrink-0 ml-4",children:e.jsxs("button",{onClick:g,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors duration-200",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx(ve,{className:"h-5 w-5"})]})})]})}),a>0&&e.jsx("div",{className:"h-1 bg-gray-100 rounded-b-lg overflow-hidden",children:e.jsx("div",{className:`h-full transition-all ease-linear ${y.progressColor}`,style:{width:`${u}%`,transition:"width 50ms linear"}})})]})},Ex=h.createContext(void 0),fb=({children:t})=>{const[s,n]=h.useState([]),r=h.useCallback(l=>{n(i=>i.filter(o=>o.id!==l))},[]),a=h.useCallback((l,i,o,c=5e3)=>{const u={id:Math.random().toString(36).substr(2,9),type:l,title:i,message:o,duration:c};n(m=>{const g=[...m,u];return g.length>5?g.slice(-5):g})},[]);return e.jsxs(Ex.Provider,{value:{showToast:a,removeToast:r},children:[t,e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-3 max-w-sm w-full pointer-events-none",children:e.jsx("div",{className:"space-y-3",children:s.map((l,i)=>e.jsx("div",{className:"pointer-events-auto",style:{transform:`translateY(${i*4}px)`,zIndex:1e3-i},children:e.jsx(pb,{id:l.id,type:l.type,title:l.title,message:l.message,duration:l.duration,onClose:r})},l.id))})})]})},we=()=>{const t=h.useContext(Ex);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t},Rx=()=>{var x,y;const[t,s]=h.useState(!1),[n,r]=h.useState(!1),{user:a,logout:l}=on(),{showToast:i}=we(),o=le(),c=h.useRef(null);h.useEffect(()=>{const f=j=>{c.current&&!c.current.contains(j.target)&&r(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]);const d=async()=>{try{r(!1),await l(),i("success","Logout successful","See you again!"),o("/")}catch(f){console.error("Logout failed:",f),i("error","Logout error","An error occurred during logout")}},u=()=>{r(!1)},m=(x=a==null?void 0:a.roles)==null?void 0:x.some(f=>f.name==="ADMIN"),g=(y=a==null?void 0:a.roles)==null?void 0:y.some(f=>f.name==="HOST");return e.jsxs("nav",{className:"bg-white shadow-lg fixed top-0 left-0 right-0 z-40",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsxs("div",{className:"flex",children:[e.jsxs(ce,{to:"/",className:"flex-shrink-0 flex items-center",children:[e.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"F"})}),e.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"FBooking"})]}),e.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[e.jsx(ce,{to:"/",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Home"}),e.jsx(ce,{to:"/hotels",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Hotels"}),e.jsx(ce,{to:"/about",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"About"}),e.jsx(ce,{to:"/contact",className:"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Contact"}),m&&e.jsx(ce,{to:"/admin",className:"border-transparent text-blue-600 hover:border-blue-300 hover:text-blue-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Admin"}),g&&e.jsx(ce,{to:"/host",className:"border-transparent text-green-600 hover:border-green-300 hover:text-green-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium",children:"Host Management"})]})]}),e.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:a?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-lg px-3 py-2 transition-colors",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:a.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"text-sm font-medium",children:a.username}),e.jsx(Tt,{className:`h-4 w-4 transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&e.jsxs("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-lg shadow-lg py-2 bg-white ring-1 ring-black ring-opacity-5 z-50 border border-gray-100",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500",children:a.email})]}),e.jsx(ce,{to:"/profile",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{className:"h-4 w-4 mr-3 text-gray-400"}),"Profile"]})}),e.jsx(ce,{to:"/bookings/my",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Bookings"]})}),e.jsx(ce,{to:"/my-reviews",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-3 text-gray-400"}),"My Reviews"]})}),g&&e.jsx(ce,{to:"/host",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(et,{className:"h-4 w-4 mr-3 text-gray-400"}),"Host Management"]})}),e.jsx(ce,{to:"/settings",onClick:u,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(sn,{className:"h-4 w-4 mr-3 text-gray-400"}),"Settings"]})}),e.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:e.jsx("button",{onClick:d,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(zo,{className:"h-4 w-4 mr-3 text-red-500"}),"Logout"]})})})]})]})}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ce,{to:"/login",className:"text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Login"}),e.jsx(ce,{to:"/register",className:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign Up"})]})}),e.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:e.jsxs("button",{onClick:()=>s(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:[e.jsx("span",{className:"sr-only",children:"Open main menu"}),t?e.jsx(ve,{className:"block h-6 w-6"}):e.jsx(Sx,{className:"block h-6 w-6"})]})})]})}),t&&e.jsxs("div",{className:"sm:hidden bg-white border-t border-gray-200",children:[e.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[e.jsx(ce,{to:"/",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",children:"Home"}),e.jsx(ce,{to:"/hotels",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",children:"Hotels"}),e.jsx(ce,{to:"/about",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",children:"About"}),e.jsx(ce,{to:"/contact",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800",children:"Contact"}),m&&e.jsx(ce,{to:"/admin",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-blue-600 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-800",children:"Admin"}),g&&e.jsx(ce,{to:"/host",onClick:()=>s(!1),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-green-600 hover:bg-green-50 hover:border-green-300 hover:text-green-800",children:"Host Management"})]}),a?e.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center px-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:a.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-base font-medium text-gray-800",children:a.name}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:a.email})]})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(ce,{to:"/profile",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"Profile"]})}),e.jsx(ce,{to:"/bookings",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ds,{className:"h-4 w-4 mr-2"}),"Booking History"]})}),e.jsx(ce,{to:"/my-reviews",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"My Reviews"]})}),e.jsx(ce,{to:"/settings",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(sn,{className:"h-4 w-4 mr-2"}),"Settings"]})}),e.jsx("button",{onClick:d,className:"block w-full text-left px-4 py-2 text-base font-medium text-red-600 hover:text-red-800 hover:bg-red-50",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(zo,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})]}):e.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx(ce,{to:"/login",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Login"}),e.jsx(ce,{to:"/register",onClick:()=>s(!1),className:"block px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sign Up"})]})})]})]})},Dx=()=>e.jsx("footer",{className:"bg-gray-900 text-white pt-16 pb-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"FBooking"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"The leading hotel booking platform in Vietnam, providing high-quality booking services with great discounts."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(La,{icon:e.jsx(eb,{size:18})}),e.jsx(La,{icon:e.jsx(ab,{size:18})}),e.jsx(La,{icon:e.jsx(db,{size:18})}),e.jsx(La,{icon:e.jsx(gb,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx(xs,{text:"Home"}),e.jsx(xs,{text:"Find Hotels"}),e.jsx(xs,{text:"Special Offers"}),e.jsx(xs,{text:"About"}),e.jsx(xs,{text:"Contact"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx(xs,{text:"Help Center"}),e.jsx(xs,{text:"FAQ"}),e.jsx(xs,{text:"Privacy Policy"}),e.jsx(xs,{text:"Terms of Service"}),e.jsx(xs,{text:"Refund Policy"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contact"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(Be,{size:18,className:"mr-3 mt-1 text-blue-400"}),e.jsx("span",{className:"text-gray-400",children:"123 Nguyen Hue, District 1, Ho Chi Minh City"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(Le,{size:18,className:"mr-3 text-blue-400"}),e.jsx("span",{className:"text-gray-400",children:"+84 123 456 789"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(De,{size:18,className:"mr-3 text-blue-400"}),e.jsx("span",{className:"text-gray-400",children:"contact@fbooking.com"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 pt-6 text-center",children:e.jsxs("p",{className:"text-gray-500",children:[" ",new Date().getFullYear()," FBooking. All rights reserved."]})})]})}),xs=({text:t})=>e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:t})}),La=({icon:t})=>e.jsx("a",{href:"#",className:"bg-gray-800 hover:bg-blue-600 transition-colors p-2 rounded-full",children:t}),xe=({children:t,type:s})=>{const n=Ot(),r=le(),{user:a,logout:l}=on(),[i,o]=h.useState(["Management","Finance"]),[c,d]=h.useState(!1),u=s==="admin",m=()=>{l(),r("/login")},y=u?[{path:"/admin",label:"Overview",icon:e.jsx(ir,{size:20})},{label:"Management",icon:e.jsx(sb,{size:20}),subItems:[{path:"/admin/hotels",label:"Hotels",icon:e.jsx(et,{size:20})},{path:"/admin/room-types",label:"Room Types",icon:e.jsx(Ct,{size:20})},{path:"/admin/bookings",label:"Bookings",icon:e.jsx(ds,{size:20})},{path:"/admin/users",label:"Users",icon:e.jsx(Ce,{size:20})},{path:"/admin/reviews",label:"Reviews",icon:e.jsx(fe,{size:20})}]},{label:"Finance",icon:e.jsx(Se,{size:20}),subItems:[{path:"/admin/commissions",label:"Commissions",icon:e.jsx(gr,{size:20})},{path:"/admin/invoices",label:"Invoices",icon:e.jsx(os,{size:20})},{path:"/admin/commission-payments",label:"Payments",icon:e.jsx(Dt,{size:20})}]},{path:"/admin/promotions",label:"Promotions",icon:e.jsx(Qt,{size:20})},{path:"/admin/analytics",label:"Analytics",icon:e.jsx(oa,{size:20})},{path:"/admin/settings",label:"Settings",icon:e.jsx(sn,{size:20})}]:[{path:"/host",label:"Overview",icon:e.jsx(ir,{size:20})},{path:"/host/hotels",label:"Hotels",icon:e.jsx(et,{size:20})},{path:"/host/room-types",label:"Room Types",icon:e.jsx(Ct,{size:20})},{path:"/host/bookings",label:"Bookings",icon:e.jsx(ds,{size:20})},{path:"/host/calendar",label:"Booking Calendar",icon:e.jsx(pe,{size:20})},{path:"/host/reviews",label:"Reviews",icon:e.jsx(fe,{size:20})},{path:"/host/messages",label:"Messages",icon:e.jsx(Dn,{size:20})},{path:"/host/analytics",label:"Analytics",icon:e.jsx(oa,{size:20})},{path:"/host/settings",label:"Settings",icon:e.jsx(sn,{size:20})}],f=v=>n.pathname===v||n.pathname.startsWith(`${v}/`),j=v=>v.some(w=>f(w.path)),N=v=>{o(w=>w.includes(v)?w.filter(k=>k!==v):[...w,v])},p=v=>{if(v.subItems){const w=i.includes(v.label),k=j(v.subItems);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>N(v.label),className:`sidebar-item menu-item-hover w-full flex items-center justify-between px-4 py-2 text-sm font-medium rounded-md transition-colors ${k?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-3",children:v.icon}),v.label]}),w?e.jsx(Tt,{size:16}):e.jsx(Xl,{size:16})]}),w&&e.jsx("div",{className:"pl-4 space-y-1 animate-in",children:v.subItems.map(C=>e.jsxs(ce,{to:C.path,className:`sidebar-item menu-item-hover flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${f(C.path)?"bg-gray-900 text-white menu-active-indicator":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:()=>d(!1),children:[e.jsx("span",{className:"mr-3",children:C.icon}),C.label]},C.path))})]},v.label)}return e.jsxs(ce,{to:v.path,className:`sidebar-item menu-item-hover flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${f(v.path)?"bg-gray-900 text-white menu-active-indicator":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:()=>d(!1),children:[e.jsx("span",{className:"mr-3",children:v.icon}),v.label]},v.path)},b=()=>{var v;return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 bg-gray-900 px-4",children:[e.jsx(ce,{to:"/",className:"text-xl font-bold text-white",children:u?"Admin Panel":"Host Panel"}),e.jsx("button",{onClick:()=>d(!1),className:"lg:hidden text-white hover:text-gray-300",children:e.jsx(ve,{size:24})})]}),e.jsx("div",{className:"p-4 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full user-avatar-gradient flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-medium text-white",children:(v=a==null?void 0:a.name)==null?void 0:v.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white truncate",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:a==null?void 0:a.email})]})]})}),e.jsx("nav",{className:"sidebar-nav flex-1 p-4 space-y-1 overflow-y-auto",children:y.map(p)}),e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsxs("button",{onClick:()=>{d(!1),m()},className:"w-full flex items-center px-4 py-2 text-sm font-medium text-gray-300 rounded-md hover:bg-gray-700 hover:text-white transition-colors",children:[e.jsx(zo,{size:20,className:"mr-3"}),"Logout"]})})]})};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>d(!0),className:"p-2 rounded-md bg-gray-800 text-white hover:bg-gray-700 transition-colors",children:e.jsx(Sx,{size:24})})}),c&&e.jsx("div",{className:"mobile-overlay lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>d(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 w-64 bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out z-50 ${c?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:e.jsx(b,{})}),e.jsx("div",{className:"lg:pl-64",children:e.jsx("main",{className:"p-4 lg:p-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:t})})})]})},de=({children:t,requiredRole:s,requireAuth:n=!0})=>{const{user:r,loading:a}=on(),l=Ot();if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"ang kim tra quyn truy cp..."})]})});if(n&&!r)return e.jsx(Po,{to:"/login",state:{from:l},replace:!0});if(s&&r){const i=r.roles.map(o=>o.name);if(!i.includes(s))return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Khng c quyn truy cp"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Bn khng c quyn truy cp vo trang ny. Trang ny yu cu quyn ",e.jsx("strong",{children:s}),"."]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Vai tr hin ti ca bn: ",i.join(", ")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"w-full bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 transition-colors",children:"Quay li"}),e.jsx(Po,{to:"/",replace:!0})]})]})})}return e.jsx(e.Fragment,{children:t})},yb=({onClose:t,checkIn:s,checkOut:n,onDatesChange:r})=>{const[a,l]=h.useState(new Date),[i,o]=h.useState({checkIn:s,checkOut:n}),[c,d]=h.useState(!1);h.useEffect(()=>{o({checkIn:s,checkOut:n})},[s,n]);const u=["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],m=["CN","T2","T3","T4","T5","T6","T7"],g=S=>{const P=S.getFullYear(),T=S.getMonth(),E=new Date(P,T,1),I=new Date(P,T+1,0).getDate(),U=E.getDay(),K=[];for(let q=0;q<U;q++)K.push(null);for(let q=1;q<=I;q++)K.push(new Date(P,T,q));return K},x=S=>{l(P=>{const T=new Date(P);return S==="prev"?T.setMonth(T.getMonth()-1):T.setMonth(T.getMonth()+1),T})},y=S=>{const P=new Date(S);return P.setMonth(P.getMonth()+1),P},f=S=>!i.checkIn&&!i.checkOut?!1:!!(i.checkIn&&p(S,i.checkIn)||i.checkOut&&p(S,i.checkOut)),j=S=>!i.checkIn||!i.checkOut?!1:S>i.checkIn&&S<i.checkOut,N=S=>{const P=new Date;return P.setHours(0,0,0,0),S<P},p=(S,P)=>S.toDateString()===P.toDateString(),b=S=>{N(S)||(!i.checkIn||c?i.checkIn?S>=i.checkIn?(o(P=>({...P,checkOut:S})),d(!1)):(o({checkIn:S,checkOut:void 0}),d(!0)):(o({checkIn:S,checkOut:void 0}),d(!0)):(o({checkIn:S,checkOut:void 0}),d(!0)))},v=()=>{r(i),t()},w=()=>{o({checkIn:void 0,checkOut:void 0}),d(!1)},k=S=>{const P=g(S);return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>x("prev"),className:"p-1 hover:bg-gray-100 rounded",disabled:C(S,new Date),children:e.jsx(ca,{size:16,className:C(S,new Date)?"text-gray-300":"text-gray-600"})}),e.jsxs("div",{className:"font-medium text-gray-900",children:[u[S.getMonth()]," ",S.getFullYear()]}),e.jsx("button",{onClick:()=>x("next"),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Xl,{size:16,className:"text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:m.map(T=>e.jsx("div",{className:"text-xs text-center text-gray-500 py-1 font-medium",children:T},T))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:P.map((T,E)=>{if(!T)return e.jsx("div",{className:"py-2"},E);const R=f(T),I=j(T),U=N(T),K=i.checkIn&&p(T,i.checkIn),q=i.checkOut&&p(T,i.checkOut);return e.jsx("button",{onClick:()=>b(T),disabled:U,className:`
                  py-2 text-sm relative transition-colors
                  ${U?"text-gray-300 cursor-not-allowed":"hover:bg-blue-50 cursor-pointer"}
                  ${R?"bg-blue-500 text-white hover:bg-blue-600":""}
                  ${I?"bg-blue-100 text-blue-700":""}
                  ${K?"rounded-l-md":""}
                  ${q?"rounded-r-md":""}
                  ${R&&!I?"rounded-md":""}
                `,children:T.getDate()},E)})})]})},C=(S,P)=>S.getMonth()===P.getMonth()&&S.getFullYear()===P.getFullYear();return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4 w-full max-w-[600px] md:min-w-[600px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Chn ngy"}),e.jsx("p",{className:"text-sm text-gray-600",children:i.checkIn?i.checkOut?"Hon thnh":"Chn ngy tr phng":"Chn ngy nhn phng"})]}),e.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-1",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8",children:[k(a),e.jsx("div",{className:"hidden md:block",children:k(y(a))})]}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsx("button",{onClick:w,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Xa ngy"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 text-sm font-medium",children:"Hy"}),e.jsx("button",{onClick:v,disabled:!i.checkIn,className:`px-6 py-2 rounded-md text-sm font-medium ${i.checkIn?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"p dng"})]})]})]})},bb=()=>{const t=le(),[s,n]=h.useState(""),[r,a]=h.useState(!1),[l,i]=h.useState(2),[o,c]=h.useState({}),d=()=>{const g=new URLSearchParams;s.trim()&&g.append("city",s.trim()),o.checkIn&&g.append("checkIn",o.checkIn.toISOString().split("T")[0]),o.checkOut&&g.append("checkOut",o.checkOut.toISOString().split("T")[0]),g.append("guests",l.toString()),t(`/hotels${g.toString()?`?${g.toString()}`:""}`)},u=g=>{g.key==="Enter"&&d()},m=()=>{if(o.checkIn&&o.checkOut){const g=o.checkIn.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit"}),x=o.checkOut.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit"});return`${g} - ${x}`}else if(o.checkIn)return o.checkIn.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit"});return"Select dates"};return e.jsxs("section",{className:"relative w-full h-[700px]",children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:"https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg",alt:"Hotel panorama",className:"w-full h-full object-cover object-center"}),e.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),e.jsx("div",{className:"relative w-full h-full flex flex-col justify-center",children:e.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-3",children:["Find the perfect hotel room",e.jsx("br",{}),"for your vacation"]}),e.jsx("p",{className:"text-base md:text-lg text-white/90 mb-6 max-w-xl mx-auto",children:"Explore thousands of hotels and resorts at the best prices"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-4 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1 text-left",children:"Destination"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:g=>n(g.target.value),onKeyPress:u,placeholder:"Where do you want to go?",className:"w-full pl-8 pr-3 py-2.5 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 text-sm"}),e.jsx(at,{size:16,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1 text-left",children:"Dates"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:()=>a(!r),className:"w-full flex items-center pl-8 pr-3 py-2.5 bg-white border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-left hover:border-gray-400 transition-colors text-sm",children:e.jsx("span",{className:`${o.checkIn?"text-gray-700":"text-gray-500"}`,children:m()})}),e.jsx(pe,{size:16,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"})]}),r&&e.jsx("div",{className:"absolute z-50 mt-1 left-0 right-0 md:left-0 md:right-auto",children:e.jsx(yb,{onClose:()=>a(!1),checkIn:o.checkIn,checkOut:o.checkOut,onDatesChange:g=>c(g)})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1 text-left",children:"Guests"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:l,onChange:g=>i(parseInt(g.target.value)),className:"w-full pl-8 pr-6 py-2.5 border border-gray-300 rounded-md appearance-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-700 bg-white hover:border-gray-400 transition-colors text-sm",children:[1,2,3,4,5,6,7,8].map(g=>e.jsxs("option",{value:g,children:[g," guest",g>1?"s":""]},g))}),e.jsx(Ce,{size:16,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400",children:e.jsx("svg",{className:"fill-current h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),e.jsxs("button",{onClick:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-md transition-colors font-semibold text-sm shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:[e.jsx(at,{size:16,className:"inline mr-2"}),"Search"]})]})]})})})]})},jb=()=>{const[t,s]=h.useState([]),[n,r]=h.useState(!0),[a,l]=h.useState(null);h.useEffect(()=>{(async()=>{var d;try{r(!0);const u=await me.getFeaturedHotels(0,6,"name");(d=u.data.result)!=null&&d.content&&s(u.data.result.content)}catch(u){console.error("Error fetching featured hotels:",u),l("Unable to load featured hotels list")}finally{r(!1)}})()},[]);const i=c=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c),o=c=>{const d=Math.floor(c),u=c%1!==0;return e.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((m,g)=>e.jsx(fe,{className:`h-4 w-4 ${g<d?"text-yellow-400 fill-current":g===d&&u?"text-yellow-400 fill-current opacity-50":"text-gray-300"}`},g)),e.jsx("span",{className:"ml-1 text-sm font-medium",children:(c==null?void 0:c.toFixed(1))||"N/A"})]})};return n?e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Featured Hotels"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"Explore the best hotels"})]}),e.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((c,d)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-300"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded mb-4 w-3/4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded w-20"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-12"})]})]})]},d))})]})}):a?e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Featured Hotels"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-red-500 sm:mt-4",children:a})]})})}):e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Featured Hotels"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"Explore the best hotels with excellent service quality"})]}),e.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:t.map(c=>e.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:e.jsxs(ce,{to:`/hotels/${c.id}`,children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:c.imageUrl||"https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80",alt:c.name,className:"w-full h-full object-cover",onError:d=>{const u=d.target;u.src="https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80"}}),e.jsx("div",{className:"absolute top-4 right-4 bg-white px-2 py-1 rounded-full",children:o(c.averageRating||0)}),c.featured&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-2 py-1 rounded text-xs font-medium",children:"Featured"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 line-clamp-1",children:c.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Be,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsxs("span",{className:"line-clamp-1",children:[c.address,c.city&&`, ${c.city}`,c.country&&`, ${c.country}`]})]}),c.description&&e.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:c.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[c.pricePerNight?e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:i(c.pricePerNight)}):e.jsx("span",{className:"text-lg font-semibold text-gray-600",children:"Contact"}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"/night"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:c.totalReviews&&c.totalReviews>0?`${c.totalReviews} reviews`:"No reviews yet"}),c.starRating&&e.jsxs("div",{className:"flex items-center justify-end mt-1",children:[[...Array(c.starRating)].map((d,u)=>e.jsx("span",{className:"text-yellow-400 text-xs",children:""},u)),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:[c.starRating," stars"]})]}),c.city&&e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-600 border",children:[" ",c.city]})})]})]})]})]})},c.id))}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx(ce,{to:"/hotels",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:"View All Hotels"})})]})})},Nb=()=>{const[t,s]=h.useState([{name:"Da Nang",image:"https://images.pexels.com/photos/2132180/pexels-photo-2132180.jpeg",count:0},{name:"Hanoi",image:"https://images.pexels.com/photos/1486577/pexels-photo-1486577.jpeg",count:0},{name:"Ho Chi Minh",image:"https://images.pexels.com/photos/2115367/pexels-photo-2115367.jpeg",count:0},{name:"Phu Quoc",image:"https://images.pexels.com/photos/1450353/pexels-photo-1450353.jpeg",count:0}]),[n,r]=h.useState(0);return h.useEffect(()=>{(async()=>{try{const l=t.map(async o=>{var c;try{const d=await me.getHotelsByCity(o.name,0,1,"name");return{...o,count:((c=d.data.result)==null?void 0:c.totalElements)||0}}catch(d){return console.error(`Error fetching hotels for ${o.name}:`,d),o}}),i=await Promise.all(l);s(i);try{const o=await me.getActiveHotels(0,1,"name");o.data.success&&o.data.result&&r(o.data.result.totalElements||0)}catch(o){console.error("Error fetching total hotels count:",o)}}catch(l){console.error("Error fetching city statistics:",l)}})()},[]),e.jsxs("div",{children:[e.jsx(bb,{}),e.jsx(jb,{}),e.jsx("section",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Popular Destinations"}),e.jsxs("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:["Explore top tourist destinations in Vietnam with ",n.toLocaleString()," hotels"]})]}),e.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:t.map((a,l)=>e.jsx(ce,{to:`/hotels?city=${encodeURIComponent(a.name)}`,className:"group",children:e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-64 shadow-md group-hover:shadow-xl transition-shadow",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 p-6 text-white",children:[e.jsx("h3",{className:"text-xl font-bold",children:a.name}),e.jsx("p",{children:a.count>0?`${a.count.toLocaleString()} hotels`:"Updating..."})]})]})},l))})]})}),e.jsx("section",{className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Why Choose Us?"}),e.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4",children:"We are committed to providing you with the best booking experience"})]}),e.jsx("div",{className:"mt-12 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[{title:"Best Prices",description:"We guarantee you will get the best prices for all your bookings.",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Diverse Options",description:"Thousands of hotels and resorts across Vietnam and around the world.",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"24/7 Support",description:"Our customer support team is always ready to help you anytime, anywhere.",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]})}].map((a,l)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex justify-center mb-4",children:a.icon}),e.jsx("h3",{className:"text-xl font-semibold text-center mb-2",children:a.title}),e.jsx("p",{className:"text-gray-600 text-center",children:a.description})]},l))})]})}),e.jsx("section",{className:"py-16 bg-blue-600",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl",children:"Ready for your next vacation?"}),e.jsx("p",{className:"mt-4 text-xl text-blue-100",children:"Sign up today to receive special offers for your first booking."}),e.jsxs("div",{className:"mt-8 flex justify-center",children:[e.jsx(ce,{to:"/register",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 transition-colors",children:"Sign Up Now"}),e.jsx(ce,{to:"/hotels",className:"ml-4 inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-800 hover:bg-blue-700 transition-colors",children:"Find Hotels"})]})]})})]})},vb=()=>{var x;const[t,s]=h.useState({username:"",password:""}),[n,r]=h.useState(!1),[a,l]=h.useState(""),[i,o]=h.useState(!1),c=le(),d=Ot(),{login:u}=on(),m=y=>{const{name:f,value:j}=y.target;s(N=>({...N,[f]:j}))},g=async y=>{var f,j,N,p;y.preventDefault(),l(""),o(!0);try{const b=await tn.login(t),{token:v,refreshToken:w}=b.data.result;u(v,w);const k=((j=(f=d.state)==null?void 0:f.from)==null?void 0:j.pathname)||"/";c(k,{replace:!0})}catch(b){l(((p=(N=b.response)==null?void 0:N.data)==null?void 0:p.message)||"Login failed. Please try again.")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Login to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(ce,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"register a new account"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[((x=d.state)==null?void 0:x.message)&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:d.state.message}),a&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),e.jsxs("form",{className:"space-y-6",onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(De,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:m,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(da,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,minLength:8,value:t.password,onChange:m,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?e.jsx(js,{className:"h-5 w-5 text-gray-400"}):e.jsx(ze,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(ce,{to:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Logging in...":"Login"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or login with"})})]})})]})})]})},wb=()=>{const[t,s]=h.useState({name:"",username:"",password:"",email:""}),[n,r]=h.useState(""),[a,l]=h.useState(!1),[i,o]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(!1),g=le(),x=f=>{const{name:j,value:N}=f.target;s(p=>({...p,[j]:N}))},y=async f=>{var j,N;if(f.preventDefault(),d(""),t.password!==n){d("Password confirmation does not match");return}if(t.password.length<8){d("Password must be at least 8 characters");return}m(!0);try{await tn.register(t),g("/email-verification",{state:{email:t.email}})}catch(p){d(((N=(j=p.response)==null?void 0:j.data)==null?void 0:N.message)||"Registration failed. Please try again.")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Register an account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(ce,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Login now"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[c&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),e.jsxs("form",{className:"space-y-6",onSubmit:y,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full name"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:t.name,onChange:x,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your full name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(He,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:x,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(De,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:x,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(da,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:a?"text":"password",required:!0,minLength:8,value:t.password,onChange:x,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Create a password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?e.jsx(js,{className:"h-5 w-5 text-gray-400"}):e.jsx(ze,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(da,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",required:!0,minLength:8,value:n,onChange:f=>r(f.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!i),children:i?e.jsx(js,{className:"h-5 w-5 text-gray-400"}):e.jsx(ze,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Registering...":"Register"})})]})]})})]})},kb=()=>{const[t,s]=h.useState({email:""}),[n,r]=h.useState(""),[a,l]=h.useState(""),[i,o]=h.useState(!1),c=le(),d=m=>{const{name:g,value:x}=m.target;s(y=>({...y,[g]:x}))},u=async m=>{var g,x;m.preventDefault(),r(""),l(""),o(!0);try{await tn.forgotPassword(t),l("Verification code has been sent to your email. Please check your inbox."),setTimeout(()=>{c("/reset-password",{state:{email:t.email}})},2e3)}catch(y){r(((x=(g=y.response)==null?void 0:g.data)==null?void 0:x.message)||"An error occurred. Please try again.")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs(ce,{to:"/login",className:"flex items-center text-blue-600 hover:text-blue-500 transition-colors",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Back to login"]})}),e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Forgot Password?"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email to receive a password reset verification code"})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[n&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:n}),a&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:a}),e.jsxs("form",{className:"space-y-6",onSubmit:u,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(De,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:d,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter your email"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Sending...":"Send Verification Code"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",e.jsx(ce,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Login now"})]})})]})})]})},Cb=()=>{const[t,s]=h.useState({email:"",code:"",password:""}),[n,r]=h.useState(""),[a,l]=h.useState(["","","","","",""]),[i,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(!1),[g,x]=h.useState(!1),[y,f]=h.useState(0),j=le(),N=Ot(),p=h.useRef([]);h.useEffect(()=>{var P;const S=((P=N.state)==null?void 0:P.email)||localStorage.getItem("resetEmail")||"";s(T=>({...T,email:S})),S&&localStorage.setItem("resetEmail",S)},[N.state]),h.useEffect(()=>{if(y>0){const S=setTimeout(()=>f(y-1),1e3);return()=>clearTimeout(S)}},[y]);const b=(S,P)=>{var E;if(P.length>1)return;const T=[...a];T[S]=P,l(T),s(R=>({...R,code:T.join("")})),P&&S<5&&((E=p.current[S+1])==null||E.focus())},v=(S,P)=>{var T;P.key==="Backspace"&&!a[S]&&S>0&&((T=p.current[S-1])==null||T.focus())},w=S=>{const{name:P,value:T}=S.target;P==="password"?s(E=>({...E,password:T})):P==="confirmPassword"&&r(T)},k=async()=>{var S,P;if(!(!t.email||y>0)){x(!0),o("");try{const T={email:t.email};await tn.resendCode(T),d("A new verification code has been sent to your email."),f(60)}catch(T){o(((P=(S=T.response)==null?void 0:S.data)==null?void 0:P.message)||"Unable to resend code. Please try again.")}finally{x(!1)}}},C=async S=>{var P,T;if(S.preventDefault(),o(""),d(""),t.code.length!==6){o("Please enter the complete 6-digit verification code.");return}if(t.password.length<8){o("Password must be at least 8 characters.");return}if(t.password!==n){o("Password confirmation does not match.");return}m(!0);try{await tn.newPassword(t),d("Password reset successful!"),localStorage.removeItem("resetEmail"),setTimeout(()=>{j("/login",{state:{message:"Password has been reset successfully. Please log in."}})},2e3)}catch(E){o(((T=(P=E.response)==null?void 0:P.data)==null?void 0:T.message)||"An error occurred. Please try again.")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs(ce,{to:"/forgot-password",className:"flex items-center text-blue-600 hover:text-blue-500 transition-colors",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Back"]})}),e.jsx("h2",{className:"text-center text-3xl font-bold text-gray-900",children:"Reset Password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter the 6-digit verification code and new password"}),t.email&&e.jsxs("p",{className:"mt-1 text-center text-xs text-gray-500",children:["Code sent to: ",t.email]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[i&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),c&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:c}),e.jsxs("form",{className:"space-y-6",onSubmit:C,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),e.jsx("div",{className:"flex space-x-2 justify-center",children:a.map((S,P)=>e.jsx("input",{ref:T=>p.current[P]=T,type:"text",maxLength:1,value:S,onChange:T=>b(P,T.target.value),onKeyDown:T=>v(P,T),className:"w-12 h-12 text-center text-lg font-semibold border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0"},P))}),e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("button",{type:"button",onClick:k,disabled:y>0||g,className:"text-sm text-blue-600 hover:text-blue-500 disabled:text-gray-400 disabled:cursor-not-allowed flex items-center justify-center mx-auto",children:[e.jsx(qe,{className:`h-4 w-4 mr-1 ${g?"animate-spin":""}`}),y>0?`Resend in ${y}s`:g?"Sending...":"Resend Code"]})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(da,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,minLength:8,value:t.password,onChange:w,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter new password"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(da,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,minLength:8,value:n,onChange:w,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Confirm new password"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Processing...":"Reset Password"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",e.jsx(ce,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in now"})]})})]})})]})},Sb=()=>{const[t,s]=h.useState({email:"",code:""}),[n,r]=h.useState(["","","","","",""]),[a,l]=h.useState(""),[i,o]=h.useState(""),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[g,x]=h.useState(0),[y,f]=h.useState(!1),j=le(),N=Ot(),p=h.useRef([]);h.useEffect(()=>{var S;const C=((S=N.state)==null?void 0:S.email)||localStorage.getItem("verificationEmail")||"";s(P=>({...P,email:C})),C&&localStorage.setItem("verificationEmail",C)},[N.state]),h.useEffect(()=>{if(g>0){const C=setTimeout(()=>x(g-1),1e3);return()=>clearTimeout(C)}},[g]);const b=(C,S)=>{var T;if(S.length>1)return;const P=[...n];P[C]=S,r(P),s(E=>({...E,code:P.join("")})),S&&C<5&&((T=p.current[C+1])==null||T.focus())},v=(C,S)=>{var P;S.key==="Backspace"&&!n[C]&&C>0&&((P=p.current[C-1])==null||P.focus())},w=async()=>{var C,S;if(!(!t.email||g>0)){m(!0),l("");try{const P={email:t.email};await tn.resendCode(P),o("A new verification code has been sent to your email."),x(60)}catch(P){l(((S=(C=P.response)==null?void 0:C.data)==null?void 0:S.message)||"Unable to resend code. Please try again.")}finally{m(!1)}}},k=async C=>{var S,P;if(C.preventDefault(),l(""),o(""),t.code.length!==6){l("Please enter the complete 6-character verification code.");return}d(!0);try{await tn.confirmEmail(t),o("Email verification successful!"),f(!0),localStorage.removeItem("verificationEmail"),setTimeout(()=>{j("/login",{state:{message:"Email has been verified successfully. Please log in."}})},3e3)}catch(T){l(((P=(S=T.response)==null?void 0:S.data)==null?void 0:P.message)||"Invalid verification code. Please try again.")}finally{d(!1)}};return y?e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[e.jsx(yt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verification successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your email has been verified successfully."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page..."})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs(ce,{to:"/register",className:"flex items-center text-blue-600 hover:text-blue-500 transition-colors",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Back to registration"]})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(De,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Email verification"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter the 6-character verification code sent to your email"}),t.email&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Code sent to: ",e.jsx("span",{className:"font-medium",children:t.email})]})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),i&&e.jsx("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:i}),e.jsxs("form",{className:"space-y-6",onSubmit:k,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 text-center",children:"Verification code"}),e.jsx("div",{className:"flex space-x-2 justify-center",children:n.map((C,S)=>e.jsx("input",{ref:P=>p.current[S]=P,type:"text",maxLength:1,value:C,onChange:P=>b(S,P.target.value),onKeyDown:P=>v(S,P),className:"w-12 h-12 text-center text-lg font-semibold border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0"},S))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("button",{type:"button",onClick:w,disabled:g>0||u,className:"text-sm text-blue-600 hover:text-blue-500 disabled:text-gray-400 disabled:cursor-not-allowed flex items-center justify-center mx-auto",children:[e.jsx(qe,{className:`h-4 w-4 mr-1 ${u?"animate-spin":""}`}),g>0?`Resend in ${g}s`:u?"Sending...":"Resend code"]})})]}),e.jsx("div",{className:"space-y-3",children:e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Verifying...":"Verify email"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Didn't receive the email? Check your spam folder or"," ",e.jsx("button",{onClick:w,disabled:g>0||u,className:"text-blue-600 hover:text-blue-500 disabled:text-gray-400",children:"resend code"})]})})]})})]})},Pb=({userId:t})=>{const[s,n]=h.useState([]),[r,a]=h.useState(!1),[l,i]=h.useState(!1),{showToast:o}=we();h.useEffect(()=>{n([{id:"1",type:"VNPAY",name:"VNPay Wallet",maskedNumber:"***@gmail.com",isDefault:!0,createdAt:"2024-01-15",lastUsed:"2024-01-20"},{id:"2",type:"CASH_ON_CHECKIN",name:"Thanh ton tin mt",maskedNumber:"Tin mt khi nhn phng",isDefault:!1,createdAt:"2024-01-10",lastUsed:"2024-01-18"}])},[]);const c=y=>new Date(y).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),d=y=>{switch(y){case"VNPAY":return e.jsx(Dt,{className:"h-6 w-6 text-blue-600"});case"CASH_ON_CHECKIN":return e.jsx(Oo,{className:"h-6 w-6 text-green-600"});default:return e.jsx(Dt,{className:"h-6 w-6 text-gray-600"})}},u=y=>{switch(y){case"VNPAY":return"border-blue-200 bg-blue-50";case"CASH_ON_CHECKIN":return"border-green-200 bg-green-50";default:return"border-gray-200 bg-gray-50"}},m=async y=>{a(!0);try{n(f=>f.map(j=>({...j,isDefault:j.id===y}))),o("success","Thnh cng"," cp nht phng thc thanh ton mc nh")}catch{o("error","Li","Khng th cp nht phng thc thanh ton mc nh")}finally{a(!1)}},g=async y=>{if(confirm("Bn c chc chn mun xa phng thc thanh ton ny?")){a(!0);try{n(f=>f.filter(j=>j.id!==y)),o("success","Thnh cng"," xa phng thc thanh ton")}catch{o("error","Li","Khng th xa phng thc thanh ton")}finally{a(!1)}}},x=()=>{const[y,f]=h.useState({type:"VNPAY",name:"",accountInfo:""}),j=async N=>{N.preventDefault(),a(!0);try{if(y.type==="VNPAY"&&!y.accountInfo.trim()){o("error","Li","Vui lng nhp email hoc s in thoi");return}const p={id:Date.now().toString(),type:y.type,name:y.name||(y.type==="VNPAY"?"VNPay Wallet":"Thanh ton tin mt"),maskedNumber:y.type==="VNPAY"?`***${y.accountInfo.slice(-10)}`:"Tin mt khi nhn phng",isDefault:s.length===0,createdAt:new Date().toISOString().split("T")[0]};n(b=>[...b,p]),i(!1),f({type:"VNPAY",name:"",accountInfo:""}),o("success","Thnh cng"," thm phng thc thanh ton mi")}catch{o("error","Li","Khng th thm phng thc thanh ton")}finally{a(!1)}};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thm phng thc thanh ton mi"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi phng thc"}),e.jsxs("select",{value:y.type,onChange:N=>f(p=>({...p,type:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"VNPAY",children:"VNPay"}),e.jsx("option",{value:"CASH_ON_CHECKIN",children:"Thanh ton tin mt"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn hin th"}),e.jsx("input",{type:"text",value:y.name,onChange:N=>f(p=>({...p,name:N.target.value})),placeholder:`V d: ${y.type==="VNPAY"?"VNPay chnh":"Tin mt"}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),y.type==="VNPAY"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email hoc s in thoi VNPay"}),e.jsx("input",{type:"text",value:y.accountInfo,onChange:N=>f(p=>({...p,accountInfo:N.target.value})),placeholder:"user@email.com hoc 0901234567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),y.type==="CASH_ON_CHECKIN"&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ue,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-yellow-800 mb-1",children:"Lu  thanh ton tin mt"}),e.jsx("div",{className:"text-yellow-700",children:e.jsx("p",{children:"Phng thc ny cho php bn thanh ton bng tin mt trc tip ti khch sn khi check-in."})})]})]})}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:r,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"ang thm...":"Thm phng thc"}),e.jsx("button",{type:"button",onClick:()=>i(!1),className:"flex-1 bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200",children:"Hy"})]})]})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Phng thc thanh ton"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l phng thc thanh ton VNPay v tin mt"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Thm mi"]})]}),l&&e.jsx(x,{}),e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(Dt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cha c phng thc thanh ton"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Thm phng thc thanh ton  t phng nhanh chng hn"}),e.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Thm phng thc u tin"]})]}):s.map(y=>e.jsx("div",{className:`border-2 rounded-lg p-4 transition-all ${y.isDefault?`${u(y.type)} border-opacity-50`:"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[d(y.type),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:y.name}),y.isDefault&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),"Mc nh"]})]}),e.jsx("div",{className:"text-sm text-gray-600",children:y.maskedNumber}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Thm vo ",c(y.createdAt),y.lastUsed&&`  S dng ln cui ${c(y.lastUsed)}`]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!y.isDefault&&e.jsx("button",{onClick:()=>m(y.id),disabled:r,className:"px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",children:"t lm mc nh"}),e.jsx("button",{onClick:()=>g(y.id),disabled:r||y.isDefault,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Ns,{className:"h-4 w-4"})})]})]})},y.id))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Dt,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"VNPay - Thanh ton trc tuyn"}),e.jsxs("div",{className:"text-blue-700 space-y-1",children:[e.jsx("p",{children:" Thanh ton nhanh chng v tin li"}),e.jsx("p",{children:" Xc nhn booking ngay lp tc"}),e.jsx("p",{children:" Bo mt cao vi m ha SSL"}),e.jsx("p",{children:" H tr nhiu ngn hng"})]})]})]})}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Oo,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Tin mt - Thanh ton khi nhn phng"}),e.jsxs("div",{className:"text-green-700 space-y-1",children:[e.jsx("p",{children:" Thanh ton trc tip ti khch sn"}),e.jsx("p",{children:" Khng cn thanh ton trc"}),e.jsx("p",{children:" Linh hot vi thi gian"}),e.jsx("p",{children:" Khng ph giao dch"})]})]})]})})]}),s.length>0&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Thng k phng thc thanh ton"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.length}),e.jsx("div",{className:"text-gray-600",children:"Tng phng thc"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(y=>y.type==="VNPAY").length}),e.jsx("div",{className:"text-gray-600",children:"VNPay"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(y=>y.type==="CASH_ON_CHECKIN").length}),e.jsx("div",{className:"text-gray-600",children:"Tin mt"})]})]})]})]})},Tb=()=>{const[t,s]=h.useState("profile"),[n,r]=h.useState(!1),[a,l]=h.useState(!1),[i,o]=h.useState(!1),[c,d]=h.useState(!1),[u,m]=h.useState(!1),[g,x]=h.useState(!1),[y,f]=h.useState(!1),{user:j,fetchUserInfo:N}=on(),{showToast:p}=we(),[b,v]=h.useState({name:"",email:"",username:"",phone:"",dateOfBirth:"",address:""}),[w,k]=h.useState({currentPassword:"",newPassword:"",confirmPassword:""});h.useEffect(()=>{j&&v({name:j.name||"",email:j.email||"",username:j.username||"",phone:j.tel||"",dateOfBirth:j.dob||"",address:j.address||""})},[j]);const C=A=>{const{name:F,value:B}=A.target;v(se=>({...se,[F]:B}))},S=A=>{const{name:F,value:B}=A.target;k(se=>({...se,[F]:B}))},P=()=>b.name.trim()?b.username.trim()?!0:(p("error","Li","Vui lng nhp tn ng nhp"),!1):(p("error","Li","Vui lng nhp h v tn"),!1),T=()=>w.currentPassword?w.newPassword?w.newPassword.length<8?(p("error","Error","New password must be at least 8 characters"),!1):w.newPassword!==w.confirmPassword?(p("error","Error","Password confirmation does not match"),!1):!0:(p("error","Error","Please enter new password"),!1):(p("error","Error","Please enter current password"),!1),E=async A=>{var F,B;if(A.preventDefault(),!(!P()||!j)){m(!0);try{const se={name:b.name,username:b.username,email:j.email,tel:b.phone,address:b.address,dob:b.dateOfBirth};await vt.updateMyProfile(se),await N(),p("success","Success","Information has been updated successfully!"),r(!1)}catch(se){console.error("Update profile error:",se);const oe=((B=(F=se.response)==null?void 0:F.data)==null?void 0:B.message)||"An error occurred while updating information";p("error","Li",oe)}finally{m(!1)}}},R=async A=>{var F,B;if(A.preventDefault(),!(!T()||!j)){x(!0);try{const se={currentPassword:w.currentPassword,newPassword:w.newPassword};await vt.updateMyPassword(se),p("success","Success","Password has been changed successfully!"),k({currentPassword:"",newPassword:"",confirmPassword:""})}catch(se){console.error("Update password error:",se);const oe=((B=(F=se.response)==null?void 0:F.data)==null?void 0:B.message)||"An error occurred while changing password";p("error","Li",oe)}finally{x(!1)}}},I=()=>{j&&v({name:j.name||"",email:j.email||"",username:j.username||"",phone:j.tel||"",dateOfBirth:j.dob||"",address:j.address||""}),r(!1)},U=async()=>{var A,F;if(j){f(!0);try{await vt.requestHost(),await N(),p("success","Success","Host request has been sent successfully!")}catch(B){console.error("Host request error:",B);const se=((F=(A=B.response)==null?void 0:A.data)==null?void 0:F.message)||"C li xy ra khi gi yu cu";p("error","Li",se)}finally{f(!1)}}},K=A=>new Date(A).toLocaleDateString("vi-VN"),q=[{id:"profile",label:"Personal Information",icon:He},{id:"password",label:"Change Password",icon:Tr},{id:"history",label:"Bookings",icon:ds},{id:"vouchers",label:"M gim gi",icon:nb},{id:"payment",label:"Phng thc thanh ton",icon:Dt},{id:"roles",label:"Qun l vai tr",icon:We}],_=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:b.name.charAt(0).toUpperCase()}),e.jsx("button",{className:"absolute bottom-0 right-0 bg-white rounded-full p-2 shadow-lg border hover:bg-gray-50",children:e.jsx(Wy,{size:16,className:"text-gray-600"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:b.name}),e.jsx("p",{className:"text-gray-500",children:b.email}),(j==null?void 0:j.createAt)&&e.jsxs("p",{className:"text-sm text-gray-400",children:["Thnh vin t ",K(j.createAt)]})]})]}),e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"H v tn *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",value:b.name,onChange:C,disabled:!n,required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:b.email,onChange:C,disabled:!0,required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),e.jsx("div",{className:"mt-2 flex items-center justify-between",children:j&&e.jsx("div",{className:"flex items-center text-sm",children:j.emailVerified?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(yt,{className:"h-4 w-4 mr-1"}),"Email  c xc nhn"]}):e.jsxs("div",{className:"flex items-center text-yellow-600",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),"Email cha c xc nhn"]})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn ng nhp *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"username",value:b.username,onChange:C,disabled:!n,required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",value:b.phone,onChange:C,disabled:!n,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngy sinh"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:b.dateOfBirth,onChange:C,disabled:!n,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch"}),e.jsx("textarea",{name:"address",value:b.address,onChange:C,disabled:!n,rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"})]}),e.jsx("div",{className:"flex justify-end space-x-4",children:n?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:I,disabled:u,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Hy"}),e.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center disabled:opacity-50",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Lu thay i"]})})]}):e.jsxs("button",{type:"button",onClick:()=>r(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Chnh sa"]})})]})]}),O=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(ue,{className:"h-5 w-5 text-yellow-400 mr-2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Lu  bo mt"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Mt khu mi phi c t nht 8 k t v nn bao gm ch hoa, ch thng, s v k t c bit."})]})]})}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu hin ti *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Tr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"currentPassword",value:w.currentPassword,onChange:S,required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:a?e.jsx(js,{size:16}):e.jsx(ze,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu mi *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Tr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:i?"text":"password",name:"newPassword",value:w.newPassword,onChange:S,required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:i?e.jsx(js,{size:16}):e.jsx(ze,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xc nhn mt khu mi *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Tr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:c?"text":"password",name:"confirmPassword",value:w.confirmPassword,onChange:S,required:!0,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:c?e.jsx(js,{size:16}):e.jsx(ze,{size:16})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center disabled:opacity-50",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"ang cp nht..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Tr,{className:"h-4 w-4 mr-2"}),"i mt khu"]})})})]})]}),Y=()=>{var B,se;const A=(B=j==null?void 0:j.roles)==null?void 0:B.some(oe=>oe.name==="HOST"),F=(se=j==null?void 0:j.roles)==null?void 0:se.some(oe=>oe.name==="ADMIN");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(We,{className:"h-5 w-5 mr-2 text-blue-600"}),"Vai tr hin ti"]}),e.jsx("div",{className:"space-y-3",children:j!=null&&j.roles&&j.roles.length>0?j.roles.map(oe=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${oe.name==="ADMIN"?"bg-red-500":oe.name==="HOST"?"bg-green-500":"bg-blue-500"}`}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:oe.name==="ADMIN"?"Administrator":oe.name==="HOST"?"Hotel Owner":oe.name==="USER"?"Ngi dng":oe.name}),e.jsx("p",{className:"text-sm text-gray-500",children:oe.description})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${oe.name==="ADMIN"?"bg-red-100 text-red-800":oe.name==="HOST"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:" kch hot"})]},oe.id)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Cha c vai tr no c gn"})})]}),!A&&!F&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Cm,{className:"h-5 w-5 mr-2 text-amber-600"}),"Become a Host"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-gray-700",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Benefits of becoming a Host:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[e.jsx("li",{children:"Upload and manage your own hotels"}),e.jsx("li",{children:"Receive and manage bookings from customers"}),e.jsx("li",{children:"To v qun l cc loi phng khc nhau"}),e.jsx("li",{children:"Xem thng k doanh thu v bo co chi tit"}),e.jsx("li",{children:"Nhn hoa hng t mi booking thnh cng"})]})]}),e.jsx("div",{className:"border-t border-blue-200 pt-4",children:j!=null&&j.hostRequested?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-amber-600",children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Yu cu ang ch ph duyt"})]}),e.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-sm font-medium",children:"Ch duyt"})]}):e.jsx("button",{onClick:U,disabled:y,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition duration-200",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"ang gi yu cu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Cm,{className:"h-5 w-5 mr-2"}),"Send Host Request"]})})})]})]}),F&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(We,{className:"h-5 w-5 mr-2 text-red-600"}),"Quyn Qun tr vin"]}),e.jsx("p",{className:"text-gray-700",children:"Bn c quyn qun tr ton b h thng. Vui lng s dng quyn ny mt cch c trch nhim."})]})]})},W=()=>e.jsx(Pb,{userId:j==null?void 0:j.id}),z=()=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(ds,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tnh nng ang pht trin"}),e.jsx("p",{className:"text-gray-500",children:"Tab ny s c hon thin trong phin bn tip theo."})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Ti khon ca ti"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your personal information and activities"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:q.map(A=>{const F=A.icon;return e.jsxs("button",{onClick:()=>s(A.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===A.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(F,{size:16}),e.jsx("span",{children:A.label})]},A.id)})})}),e.jsxs("div",{className:"p-6",children:[t==="profile"&&_(),t==="password"&&O(),t==="roles"&&Y(),t==="payment"&&W(),t!=="profile"&&t!=="password"&&t!=="roles"&&t!=="payment"&&z()]})]})]})})},Eb=()=>e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("div",{className:"relative bg-blue-600 text-white py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"About FBooking"}),e.jsx("p",{className:"text-xl opacity-90",children:"We are the leading hotel booking platform in Vietnam, providing excellent booking experiences at the best prices."})]})})}),e.jsx("div",{className:"py-16 bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"1M+"}),e.jsx("div",{className:"text-gray-600",children:"Customers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"10K+"}),e.jsx("div",{className:"text-gray-600",children:"Partner Hotels"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"63"}),e.jsx("div",{className:"text-gray-600",children:"Provinces"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"4.8/5"}),e.jsx("div",{className:"text-gray-600",children:"Average Rating"})]})]})})}),e.jsx("div",{className:"py-16",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why Choose Us?"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"FBooking is committed to providing the best booking experience for customers"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsx(Ba,{icon:e.jsx(Ce,{className:"h-8 w-8"}),title:"24/7 Customer Service",description:"Professional support team, ready to serve at all times"}),e.jsx(Ba,{icon:e.jsx(lr,{className:"h-8 w-8"}),title:"Best Prices",description:"Guaranteed most competitive prices in the market"}),e.jsx(Ba,{icon:e.jsx(Pe,{className:"h-8 w-8"}),title:"Quick Booking",description:"Simple booking process, saving time"}),e.jsx(Ba,{icon:e.jsx(We,{className:"h-8 w-8"}),title:"Safe & Secure",description:"Protecting customer information and transactions"})]})]})}),e.jsx("div",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Team"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"People who always strive to bring the best experience to customers"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx(Di,{name:"John Smith",position:"Chief Executive Officer",image:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg"}),e.jsx(Di,{name:"Sarah Johnson",position:"Marketing Director",image:"https://images.pexels.com/photos/3796217/pexels-photo-3796217.jpeg"}),e.jsx(Di,{name:"Michael Brown",position:"Head of Technology",image:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg"})]})]})})]}),Ba=({icon:t,title:s,description:n})=>e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"text-blue-600 mb-4 flex justify-center",children:t}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:s}),e.jsx("p",{className:"text-gray-600",children:n})]}),Di=({name:t,position:s,image:n})=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:n,alt:t,className:"w-32 h-32 rounded-full mx-auto object-cover"})}),e.jsx("h3",{className:"text-xl font-semibold mb-1",children:t}),e.jsx("p",{className:"text-gray-600",children:s})]}),Rb=()=>{const[t,s]=h.useState({name:"",email:"",subject:"",message:""}),n=a=>{a.preventDefault(),console.log(t)},r=a=>{const{name:l,value:i}=a.target;s(o=>({...o,[l]:i}))};return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("div",{className:"bg-blue-600 text-white py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Contact Us"}),e.jsx("p",{className:"text-xl opacity-90",children:"Chng ti lun sn sng lng nghe v h tr bn 24/7"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx(Be,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"a ch"}),e.jsxs("p",{className:"text-gray-600",children:["123 Nguyn Hu, Qun 1",e.jsx("br",{}),"TP. H Ch Minh, Vit Nam"]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx(Le,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"in thoi"}),e.jsxs("p",{className:"text-gray-600",children:["Hotline: 1900 1234",e.jsx("br",{}),"H tr: +84 123 456 789"]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4",children:e.jsx(De,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-1",children:"Email"}),e.jsxs("p",{className:"text-gray-600",children:["support@fbooking.com",e.jsx("br",{}),"info@fbooking.com"]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Bn "}),e.jsx("div",{className:"bg-gray-200 h-64 rounded-lg",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"Bn  s c hin th  y"})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gi tin nhn cho chng ti"}),e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"H v tn"}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:r,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp h v tn ca bn"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:r,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp a ch email ca bn"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu "}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:r,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp tiu  tin nhn"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ni dung"}),e.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:r,required:!0,rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp ni dung tin nhn ca bn"})]}),e.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(Zl,{className:"h-5 w-5 mr-2"}),"Gi tin nhn"]})]})]})]})})]})},Db=()=>{var Q;const[t,s]=zc(),n=le(),[r,a]=h.useState({priceRange:t.get("priceRange")||"all",rating:t.get("rating")||"all",amenities:((Q=t.get("amenities"))==null?void 0:Q.split(",").filter(Boolean))||[]}),[l,i]=h.useState(t.get("search")||""),[o,c]=h.useState(t.get("location")||t.get("city")||""),[d,u]=h.useState(t.get("sortBy")||"name"),[m,g]=h.useState(t.get("checkIn")||new Date(Date.now()+864e5).toISOString().split("T")[0]),[x,y]=h.useState(t.get("checkOut")||new Date(Date.now()+2*864e5).toISOString().split("T")[0]),[f,j]=h.useState(parseInt(t.get("guests")||"2")),[N,p]=h.useState([]),[b,v]=h.useState(!0),[w,k]=h.useState(!1),[C,S]=h.useState(null),[P,T]=h.useState([]),[E,R]=h.useState({pageNumber:parseInt(t.get("page")||"0"),pageSize:12,totalElements:0,totalPages:0}),I=Math.max(1,Math.ceil((new Date(x).getTime()-new Date(m).getTime())/(1e3*60*60*24))),U=async()=>{try{v(!0),S(null);const D={pageNumber:E.pageNumber,pageSize:E.pageSize,sortBy:d,isActive:!0};if(r.priceRange!=="all"){const[ne,G]=r.priceRange.split("-");D.minPrice=parseInt(ne),G&&G!=="+"&&(D.maxPrice=parseInt(G))}r.rating!=="all"&&(D.starRating=parseInt(r.rating));const J=o.trim()||l.trim();J&&(D.city=J),r.amenities.length>0&&(D.amenities=r.amenities.join(","));let V;if(l.trim()||o.trim()||r.amenities.length>0||r.priceRange!=="all"||r.rating!=="all"){const ne={...D};try{V=await me.searchHotelsWithFilters(ne)}catch{console.warn("Search filters endpoint not available, using basic search"),J?V=await me.getHotelsByCity(J,D.pageNumber,D.pageSize,D.sortBy):l.trim()?V=await me.searchHotels(l.trim(),D.pageNumber,D.pageSize,D.sortBy):V=await me.getActiveHotels(D.pageNumber,D.pageSize,D.sortBy)}}else V=await me.getActiveHotels(D.pageNumber,D.pageSize,D.sortBy);if(V.data.success){const ne=V.data.result,G=ne.content||[];m&&x&&m!==x?await K(G):p(G),R(be=>({...be,totalElements:ne.totalElements||0,totalPages:ne.totalPages||0}))}else S("Unable to load hotel list")}catch(D){console.error("Error fetching hotels:",D),S("C li xy ra khi ti d liu")}finally{v(!1)}},K=async D=>{k(!0);const J=[];for(const V of D)try{const ne=await Nt.getRoomTypesByHotel(V.id,0,50);if(ne.data.success){const G=ne.data.result.content||[];let be=!1,$=1/0,te=0;for(const L of G)if(L.availableRooms>0&&L.maxOccupancy>=f){be=!0,te+=L.availableRooms;const X=L.pricePerNight*I;X<$&&($=X)}J.push({...V,hasAvailableRooms:be,lowestPrice:$===1/0?void 0:$,availableRoomCount:te})}else J.push({...V,hasAvailableRooms:void 0})}catch(ne){console.error(`Error checking availability for hotel ${V.id}:`,ne),J.push({...V,hasAvailableRooms:void 0})}p(J),k(!1)},q=()=>{const D=new URLSearchParams;l&&D.set("search",l),o&&D.set("location",o),r.priceRange!=="all"&&D.set("priceRange",r.priceRange),r.rating!=="all"&&D.set("rating",r.rating),r.amenities.length>0&&D.set("amenities",r.amenities.join(",")),d!=="name"&&D.set("sortBy",d),E.pageNumber>0&&D.set("page",E.pageNumber.toString()),m&&D.set("checkIn",m),x&&D.set("checkOut",x),f!==2&&D.set("guests",f.toString()),s(D)},_=()=>{R(D=>({...D,pageNumber:0})),q()},O=D=>{a(J=>({...J,...D})),R(J=>({...J,pageNumber:0}))},Y=D=>{R(J=>({...J,pageNumber:D})),window.scrollTo({top:0,behavior:"smooth"})},W=D=>{u(D),R(J=>({...J,pageNumber:0}))},z=()=>{const D=new Date().toISOString().split("T")[0];if(m<D&&g(D),x<=m){const J=new Date(m);J.setDate(J.getDate()+1),y(J.toISOString().split("T")[0])}},A=D=>D?D.toLocaleString("vi-VN")+"":"Contact",F=D=>D?Array.from({length:5},(J,V)=>e.jsx(fe,{className:`h-4 w-4 ${V<D?"text-yellow-400 fill-current":"text-gray-300"}`},V)):null,B=D=>D||"https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg",se=D=>{if(!D.hasAvailableRooms){alert("No rooms available for the selected dates and guest count");return}const J=new URLSearchParams({checkIn:m,checkOut:x,guests:f.toString(),returnUrl:window.location.pathname+window.location.search});n(`/hotels/${D.id}?${J.toString()}`)},oe=async()=>{try{const D=await me.getAvailableAmenities();D.data.success?T(D.data.result||[]):T(["H bi","Spa","Phng gym","Nh hng","Bar","WiFi min ph"])}catch{console.warn("Failed to fetch amenities, using defaults"),T(["H bi","Spa","Phng gym","Nh hng","Bar","WiFi min ph"])}};h.useEffect(()=>{oe()},[]),h.useEffect(()=>{U()},[E.pageNumber,d,m,x,f]),h.useEffect(()=>{const D=setTimeout(()=>{q(),E.pageNumber===0?U():R(J=>({...J,pageNumber:0}))},300);return()=>clearTimeout(D)},[l,o,r]),h.useEffect(()=>{z()},[m,x]);const Ee=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array.from({length:6}).map((D,J)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-48 bg-gray-300"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded mb-3 w-2/3"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded mb-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded w-20"}),e.jsx("div",{className:"h-10 bg-gray-300 rounded w-24"})]})]})]},J))});return e.jsxs("div",{children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Hotels & Resorts"}),e.jsx("p",{className:"text-xl text-blue-100",children:"Explore thousands of amazing hotels across Vietnam"})]})}),(o||m||x||f!==2)&&e.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-2",children:[e.jsx(at,{size:18}),e.jsx("span",{className:"font-medium",children:"Your search:"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[o&&e.jsxs("span",{className:"inline-flex items-center bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-medium border border-blue-200",children:[" ",o]}),m&&x&&e.jsxs("span",{className:"inline-flex items-center bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-medium border border-blue-200",children:[" ",new Date(m).toLocaleDateString("vi-VN")," - ",new Date(x).toLocaleDateString("vi-VN")]}),m&&!x&&e.jsxs("span",{className:"inline-flex items-center bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-medium border border-blue-200",children:[" T ",new Date(m).toLocaleDateString("vi-VN")]}),f!==2&&e.jsxs("span",{className:"inline-flex items-center bg-white text-blue-800 px-3 py-1 rounded-full text-sm font-medium border border-blue-200",children:[" ",f," khch"]})]})]})}),e.jsx("div",{className:"bg-white shadow-md py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search hotels...",value:l,onChange:D=>i(D.target.value),onKeyDown:D=>D.key==="Enter"&&_(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Destination city",value:o,onChange:D=>c(D.target.value),onKeyDown:D=>D.key==="Enter"&&_(),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(Be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:f,onChange:D=>j(parseInt(D.target.value)),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",children:Array.from({length:8},(D,J)=>J+1).map(D=>e.jsxs("option",{value:D,children:[D," ",D===1?"Guest":"Guests"]},D))}),e.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})}),e.jsx("div",{children:e.jsx("button",{onClick:_,disabled:b||w,className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:b||w?"Searching...":"Search"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:m,min:new Date().toISOString().split("T")[0],onChange:D=>g(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:x,min:m||new Date().toISOString().split("T")[0],onChange:D=>y(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg px-4 py-3 w-full",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Duration"}),e.jsxs("div",{className:"font-semibold text-gray-900",children:[I," ",I===1?"night":"nights"]})]})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Filter"}),e.jsx(Zt,{size:20,className:"text-gray-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700",children:"Price Range"}),e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:r.priceRange,onChange:D=>O({priceRange:D.target.value}),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"0-1000000",children:"Under 1 million"}),e.jsx("option",{value:"1000000-2000000",children:"1 - 2 million"}),e.jsx("option",{value:"2000000-5000000",children:"2 - 5 million"}),e.jsx("option",{value:"5000000-+",children:"Over 5 million"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700",children:"Rating"}),e.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:r.rating,onChange:D=>O({rating:D.target.value}),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"5",children:"5 stars"}),e.jsx("option",{value:"4",children:"4 stars or higher"}),e.jsx("option",{value:"3",children:"3 stars or higher"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-gray-700",children:"Amenities"}),e.jsxs("div",{className:"space-y-3 max-h-48 overflow-y-auto",children:[P.map(D=>e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500",checked:r.amenities.includes(D),onChange:J=>{const V=J.target.checked?[...r.amenities,D]:r.amenities.filter(ne=>ne!==D);O({amenities:V})}}),e.jsx("span",{className:"ml-3 text-gray-700",children:D})]},D)),P.length===0&&e.jsx("div",{className:"text-gray-500 text-sm",children:"Loading amenities..."})]}),r.amenities.length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Selected (",r.amenities.length,"):"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.amenities.map(D=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:[D,e.jsx("button",{onClick:()=>{const J=r.amenities.filter(V=>V!==D);O({amenities:J})},className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]},D))})]})]})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:b?"Loading...":`Found ${E.totalElements} hotels`}),e.jsxs("select",{className:"p-2 border border-gray-300 rounded-lg",value:d,onChange:D=>W(D.target.value),children:[e.jsx("option",{value:"name",children:"Sort by name"}),e.jsx("option",{value:"pricePerNight",children:"Sort by price"}),e.jsx("option",{value:"starRating",children:"Sort by rating"}),e.jsx("option",{value:"createdAt",children:"Sort by date"})]})]}),C&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:C}),b?e.jsx(Ee,{}):N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-4",children:"No hotels found"}),e.jsx("p",{className:"text-gray-400",children:"Please try changing your filters or search keywords"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N.map(D=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:B(D.imageUrl),alt:D.name,className:"w-full h-48 object-cover",onError:J=>{const V=J.target;V.src="https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg"}}),D.featured&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Featured"}),e.jsx("div",{className:"absolute top-4 right-4 bg-white px-2 py-1 rounded-full shadow-md",children:e.jsx("div",{className:"flex items-center",children:D.starRating?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"ml-1 text-sm font-medium",children:D.starRating})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No rating"})})}),D.city&&e.jsx("div",{className:"absolute top-12 right-4 bg-white bg-opacity-90 px-2 py-1 rounded-full shadow-sm",children:e.jsxs("span",{className:"text-xs text-gray-600",children:[" ",D.city]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2 line-clamp-1",children:D.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[e.jsx(Be,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:D.address})]}),D.description&&e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:D.description}),e.jsx("div",{className:"flex items-center mb-3",children:D.averageRating&&D.averageRating>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center mr-2",children:F(Math.round(D.averageRating))}),e.jsxs("span",{className:"text-sm text-gray-600",children:[D.averageRating.toFixed(1)," (",D.totalReviews||0," reviews)"]})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No reviews"})}),w?e.jsxs("div",{className:"mb-3 flex items-center text-sm text-gray-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Checking availability..."]}):D.hasAvailableRooms!==void 0&&e.jsx("div",{className:"mb-3",children:D.hasAvailableRooms?e.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),D.availableRoomCount," rooms available for ",I," nights"]}):e.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),"No rooms available for selected dates/guests"]})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:D.lowestPrice?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:[A(D.pricePerNight)," per night"]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:A(D.lowestPrice)}),e.jsxs("div",{className:"text-sm text-gray-600",children:["total for ",I," nights"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:A(D.pricePerNight)}),D.pricePerNight&&e.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"/night"})]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[D.hasAvailableRooms?e.jsxs("button",{onClick:()=>se(D),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center",children:[e.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Book Now"]}):D.hasAvailableRooms===!1?e.jsx("button",{disabled:!0,className:"bg-gray-300 text-gray-500 px-6 py-2 rounded-lg cursor-not-allowed font-semibold",children:"Sold Out"}):e.jsx("button",{onClick:()=>se(D),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Check Rates"}),e.jsx(ce,{to:`/hotels/${D.id}?checkIn=${m}&checkOut=${x}&guests=${f}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium text-center",children:"View Details"})]})]})]})]},D.id))}),!b&&N.length>0&&E.totalPages>1&&e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>Y(E.pageNumber-1),disabled:E.pageNumber===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(ca,{size:16,className:"mr-1"}),"Previous"]}),Array.from({length:Math.min(5,E.totalPages)},(D,J)=>{const V=Math.max(0,Math.min(E.pageNumber-2,E.totalPages-5))+J;return e.jsx("button",{onClick:()=>Y(V),className:`px-4 py-2 rounded-lg ${V===E.pageNumber?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:V+1},V)}),e.jsxs("button",{onClick:()=>Y(E.pageNumber+1),disabled:E.pageNumber>=E.totalPages-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:["Next",e.jsx(Xl,{size:16,className:"ml-1"})]})]})})]})]})})]})},Ab=({hotelId:t,hotelName:s,onSuccess:n,onCancel:r,className:a=""})=>{const[l,i]=h.useState({rating:0,comment:""}),[o,c]=h.useState({}),[d,u]=h.useState(!1),[m,g]=h.useState(0),x=()=>{const b={};return l.rating===0?b.rating="Please select a rating":(l.rating<1||l.rating>5)&&(b.rating="Rating must be between 1 and 5 stars"),l.comment.trim().length>0&&l.comment.length>2e3&&(b.comment="Review content must not exceed 2000 characters"),c(b),Object.keys(b).length===0},y=b=>{i(v=>({...v,rating:b})),o.rating&&c(v=>({...v,rating:void 0}))},f=b=>{const v=b.target.value;i(w=>({...w,comment:v})),o.comment&&(v.trim().length===0||v.length<=2e3)&&c(w=>({...w,comment:void 0}))},j=async b=>{var v,w,k,C,S;if(b.preventDefault(),!!x()){u(!0),c({});try{const P={rating:l.rating,comment:l.comment.trim(),hotelId:t},E=(await Wt.createReview(P)).data.result.id;i({rating:0,comment:""}),n?n(E):alert("Your review has been submitted successfully!")}catch(P){console.error("Error creating review:",P);let T="An error occurred while submitting the review. Please try again.";if(((v=P.response)==null?void 0:v.status)===400){const E=(k=(w=P.response)==null?void 0:w.data)==null?void 0:k.message;E!=null&&E.includes("already reviewed")?T="You have already reviewed this hotel. Each customer can only review once.":T=E||T}else((C=P.response)==null?void 0:C.status)===401?T="You need to login to be able to review.":((S=P.response)==null?void 0:S.status)===404&&(T="Hotel not found. Please try again.");c({submit:T})}finally{u(!1)}}},N=()=>Array(5).fill(0).map((b,v)=>{const w=v+1,k=w<=(m||l.rating);return e.jsx("button",{type:"button",onClick:()=>y(w),onMouseEnter:()=>g(w),onMouseLeave:()=>g(0),className:`p-1 transition-colors duration-200 ${k?"text-yellow-400":"text-gray-300 hover:text-yellow-300"}`,disabled:d,children:e.jsx(fe,{size:32,className:`${k?"fill-current":""}`})},v)}),p=b=>{switch(b){case 1:return"Rt t";case 2:return"T";case 3:return"Bnh thng";case 4:return"Tt";case 5:return"Xut sc";default:return""}};return e.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${a}`,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Rate Hotel"}),e.jsxs("p",{className:"text-gray-600",children:["Chia s tri nghim ca bn ti ",e.jsx("span",{className:"font-medium",children:s})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Overall Rating *"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex",children:N()}),(m||l.rating)>0&&e.jsx("span",{className:"text-sm font-medium text-gray-700 ml-3",children:p(m||l.rating)})]}),o.rating&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),o.rating]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Content (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{value:l.comment,onChange:f,placeholder:"Share your experience about this hotel. What did you like most? Is there anything that needs improvement?",rows:5,className:`w-full pl-10 pr-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none ${o.comment?"border-red-300":"border-gray-300"}`,disabled:d,maxLength:2e3})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.comment?e.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),o.comment]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Chia s thm v tri nghim ca bn"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[l.comment.length,"/2000"]})]})]}),o.submit&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-700 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),o.submit]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[r&&e.jsx("button",{type:"button",onClick:r,disabled:d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 focus:border-gray-500 disabled:opacity-50",children:"Hy"}),e.jsx("button",{type:"submit",disabled:d||l.rating===0,className:"flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"ang gi..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Zl,{className:"h-4 w-4 mr-2"}),"Submit Review"]})})]})]})]})},Ib=({review:t,onSuccess:s,onCancel:n,onDelete:r})=>{const[a,l]=h.useState(t.rating),[i,o]=h.useState(0),[c,d]=h.useState(t.comment||""),[u,m]=h.useState(!1),[g,x]=h.useState(!1),[y,f]=h.useState(!1),[j,N]=h.useState(null),p=async w=>{var k,C,S,P,T;if(w.preventDefault(),a===0){N("Vui lng chn s sao nh gi");return}try{m(!0),N(null);const E={rating:a,comment:c.trim()||void 0};await Wt.updateMyReview(t.id,E),s()}catch(E){console.error("Error updating review:",E),((k=E.response)==null?void 0:k.status)===401?N("Bn cn ng nhp  chnh sa nh gi"):((C=E.response)==null?void 0:C.status)===403?N("Bn khng c quyn chnh sa nh gi ny"):((S=E.response)==null?void 0:S.status)===404?N("Khng tm thy nh gi"):N(((T=(P=E.response)==null?void 0:P.data)==null?void 0:T.message)||"C li xy ra khi cp nht nh gi")}finally{m(!1)}},b=async()=>{var w,k,C,S,P;if(!y){f(!0);return}try{x(!0),N(null),await Wt.deleteMyReview(t.id),r?r():s()}catch(T){console.error("Error deleting review:",T),((w=T.response)==null?void 0:w.status)===401?N("Bn cn ng nhp  xa nh gi"):((k=T.response)==null?void 0:k.status)===403?N("Bn khng c quyn xa nh gi ny"):((C=T.response)==null?void 0:C.status)===404?N("Khng tm thy nh gi"):N(((P=(S=T.response)==null?void 0:S.data)==null?void 0:P.message)||"C li xy ra khi xa nh gi")}finally{x(!1),f(!1)}},v=()=>Array(5).fill(0).map((w,k)=>{const C=k+1,S=C<=(i||a);return e.jsx("button",{type:"button",className:`p-1 transition-colors ${S?"text-yellow-400":"text-gray-300"} hover:text-yellow-400`,onMouseEnter:()=>o(C),onMouseLeave:()=>o(0),onClick:()=>l(C),children:e.jsx(fe,{className:`h-8 w-8 ${S?"fill-current":""}`})},k)});return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Chnh sa nh gi cho ",t.hotelName]}),e.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:e.jsx(ve,{className:"h-5 w-5"})})]}),j&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:j})}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"nh gi ca bn *"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[v(),e.jsxs("span",{className:"ml-3 text-sm text-gray-600",children:["(",a>0?a:0,"/5 sao)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ni dung nh gi (ty chn)"}),e.jsx("textarea",{value:c,onChange:w=>d(w.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Chia s tri nghim ca bn v khch sn ny...",maxLength:2e3}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[c.length,"/2000 k t"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"button",onClick:b,disabled:u||g,className:`px-4 py-2 text-sm font-medium border rounded-lg transition-colors flex items-center space-x-2 ${y?"text-white bg-red-600 border-red-600 hover:bg-red-700":"text-red-600 bg-white border-red-300 hover:bg-red-50"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(Ns,{className:"h-4 w-4"}),e.jsx("span",{children:g?"ang xa...":y?"Xc nhn xa":"Xa nh gi"})]}),y&&e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-800 transition-colors",children:"Hy xa"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:n,disabled:g,className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Hy"}),e.jsx("button",{type:"submit",disabled:u||g||a===0,className:"px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:u?"ang cp nht...":"Cp nht nh gi"})]})]})]})]})},Mb=({totalReviews:t,selectedRating:s,sortBy:n,onRatingFilter:r,onSortChange:a,ratingDistribution:l={}})=>{const i=o=>Array(5).fill(0).map((c,d)=>e.jsx(fe,{className:`h-4 w-4 ${d<o?"text-yellow-400 fill-current":"text-gray-300"}`},d));return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>r(null),className:`px-4 py-2 text-sm font-medium rounded-lg border transition-colors ${s===null?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:["All (",t,")"]}),[5,4,3,2,1].map(o=>{const c=l[o]||0;return e.jsxs("button",{onClick:()=>r(o),className:`px-4 py-2 text-sm font-medium rounded-lg border transition-colors flex items-center ${s===o?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("div",{className:"flex mr-2",children:i(o)}),"(",c,")"]},o)})]})})})})},Lb=({reviews:t,loading:s=!1,showPagination:n=!1,currentPage:r=0,totalPages:a=0,onPageChange:l,hotelId:i,showStats:o=!1,showFilters:c=!1})=>{const[d,u]=h.useState(new Set),[m,g]=h.useState(null),[x,y]=h.useState(t),[f,j]=h.useState(null),[N,p]=h.useState("newest");jn.useEffect(()=>{let P=[...t];f!==null&&(P=P.filter(T=>T.rating===f)),P.sort((T,E)=>{switch(N){case"newest":return new Date(E.createdAt).getTime()-new Date(T.createdAt).getTime();case"oldest":return new Date(T.createdAt).getTime()-new Date(E.createdAt).getTime();case"highest":return E.rating-T.rating;case"lowest":return T.rating-E.rating;default:return 0}}),y(P)},[t,f,N]),jn.useEffect(()=>{if((o||c)&&t.length>0){const P=t.length,T=t.reduce((R,I)=>R+I.rating,0)/P,E={1:0,2:0,3:0,4:0,5:0};t.forEach(R=>{E[R.rating]++}),g({averageRating:T,totalReviews:P,ratingDistribution:E})}},[t,o,c]);const b=P=>new Date(P).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),v=P=>{const T=new Date,E=new Date(P),R=T.getTime()-E.getTime(),I=Math.floor(R/(1e3*60*60*24));return I===0?"Hm nay":I===1?"Hm qua":I<7?`${I} ngy trc`:I<30?`${Math.floor(I/7)} tun trc`:I<365?`${Math.floor(I/30)} thng trc`:`${Math.floor(I/365)} nm trc`},w=(P,T="md")=>{const E={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return Array(5).fill(0).map((R,I)=>e.jsx(fe,{className:`${E[T]} ${I<P?"text-yellow-400 fill-current":"text-gray-300"}`},I))},k=P=>{const T=new Set(d);T.has(P)?T.delete(P):T.add(P),u(T)},C=P=>null,S=P=>P&&P.length>300;return s?e.jsx("div",{className:"space-y-4",children:Array(3).fill(0).map((P,T)=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]})},T))}):e.jsxs("div",{className:"space-y-6",children:[o&&m&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Reviews"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:m.averageRating.toFixed(1)}),e.jsx("div",{className:"flex justify-center mb-2",children:w(Math.round(m.averageRating),"lg")}),e.jsxs("div",{className:"text-sm text-gray-600",children:["T ",m.totalReviews," nh gi"]})]}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(P=>{const T=m.ratingDistribution[P]||0,E=m.totalReviews>0?T/m.totalReviews*100:0;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium w-4",children:P}),e.jsx(fe,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${E}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-8",children:T})]},P)})})]})]}),c&&m&&e.jsx(Mb,{totalReviews:t.length,selectedRating:f,sortBy:N,onRatingFilter:j,onSortChange:p,ratingDistribution:m.ratingDistribution}),e.jsx("div",{className:"space-y-4",children:x.length===0?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-8 text-center",children:[e.jsx(Dn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cha c nh gi no"}),e.jsx("p",{className:"text-gray-600",children:"Hy l ngi u tin  li nh gi cho khch sn ny."})]}):x.map(P=>{const T=d.has(P.id),R=P.comment&&S(P.comment)&&!T?P.comment.substring(0,300)+"...":P.comment;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:e.jsx(He,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:P.userName||"Khch n danh"}),C()]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"flex",children:w(P.rating)}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[P.rating,"/5"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:v(P.createdAt)}),e.jsx("span",{className:"mx-2",children:""}),e.jsx("span",{children:b(P.createdAt)})]})]})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(Px,{className:"h-4 w-4"})})]}),P.comment&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-800 leading-relaxed",children:R}),P.comment&&S(P.comment)&&e.jsx("button",{onClick:()=>k(P.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium mt-2",children:T?"Show Less":"Show More"})]})]},P.id)})}),n&&a>1&&l&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[e.jsx("button",{onClick:()=>l(Math.max(0,r-1)),disabled:r===0,className:`px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium ${r===0?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:"Trc"}),Array.from({length:Math.min(5,a)},(P,T)=>{const E=Math.max(0,Math.min(r-2,a-5))+T,R=E===r;return e.jsx("button",{onClick:()=>l(E),className:`px-4 py-2 border rounded-lg text-sm font-medium ${R?"bg-blue-600 text-white border-blue-600":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:E+1},E)}),e.jsx("button",{onClick:()=>l(Math.min(a-1,r+1)),disabled:r>=a-1,className:`px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium ${r>=a-1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:"Sau"})]})]})},Bb=()=>{const{id:t}=ot(),s=le(),n=Ot(),{user:r}=on(),a=new URLSearchParams(n.search),l=a.get("checkIn")||new Date(Date.now()+864e5).toISOString().split("T")[0],i=a.get("checkOut")||new Date(Date.now()+2*864e5).toISOString().split("T")[0],o=parseInt(a.get("guests")||"2"),c=a.get("returnUrl"),[d,u]=h.useState(null),[m,g]=h.useState([]),[x,y]=h.useState([]),[f,j]=h.useState(!0),[N,p]=h.useState(null),[b,v]=h.useState("overview"),[w,k]=h.useState(!1),[C,S]=h.useState(null),[P,T]=h.useState(!1),E=Math.max(1,Math.ceil((new Date(i).getTime()-new Date(l).getTime())/(1e3*60*60*24))),R=async()=>{if(t)try{j(!0),p(null);const[z,A,F]=await Promise.all([me.getHotelDetails(t),Nt.getRoomTypesByHotel(t,0,20),Wt.getReviewsByHotel(t,0,10).catch(()=>({data:{result:{content:[]}}}))]);z.data.success?u(z.data.result):p("Hotel information not found"),A.data.success&&g(A.data.result.content||[]),F.data.success&&y(F.data.result.content||[])}catch(z){console.error("Error fetching hotel details:",z),p("An error occurred while loading hotel information")}finally{j(!1)}};h.useEffect(()=>{R()},[t]),h.useEffect(()=>{r&&t?_():S(null)},[r,t]);const I=z=>z?z.toLocaleString("en-US")+" VND":"Contact",U=z=>z?Array.from({length:5},(A,F)=>e.jsx(fe,{className:`h-5 w-5 ${F<z?"text-yellow-400 fill-current":"text-gray-300"}`},F)):null,K=z=>{const A=z.toLowerCase();return A.includes("wifi")||A.includes("internet")?e.jsx(xb,{className:"h-5 w-5"}):A.includes("parking")||A.includes("car park")?e.jsx(Yy,{className:"h-5 w-5"}):A.includes("restaurant")||A.includes("dining")?e.jsx(ub,{className:"h-5 w-5"}):A.includes("gym")||A.includes("fitness")?e.jsx(Zy,{className:"h-5 w-5"}):A.includes("pool")||A.includes("swimming")?e.jsx(hb,{className:"h-5 w-5"}):A.includes("bar")||A.includes("coffee")?e.jsx(Qy,{className:"h-5 w-5"}):e.jsx(fe,{className:"h-5 w-5"})},q=z=>z||"https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg",_=async()=>{if(!(!r||!t))try{T(!0);const z=await Wt.getMyReviews(0,100);if(z.data.success){const A=z.data.result.content.find(F=>F.hotelId===t);S(A||null)}}catch(z){console.error("Error checking user existing review:",z),S(null)}finally{T(!1)}},O=z=>{k(!1),S(null),Promise.all([R(),_()]),alert("Your review has been submitted successfully!")},Y=()=>{k(!1),Promise.all([R(),_()]),alert("Your review has been updated!")},W=()=>{k(!1),S(null),R(),alert("Your review has been deleted!")};return f?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/4 mb-6"}),e.jsx("div",{className:"h-64 bg-gray-300 rounded-lg mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2 mb-6"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-4/6"})]})]}),e.jsx("div",{children:e.jsx("div",{className:"h-64 bg-gray-300 rounded-lg"})})]})]})})}):N||!d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-4",children:N||"Hotel not found"}),e.jsx(ce,{to:"/hotels",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to hotel list"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(ce,{to:"/",className:"hover:text-blue-600",children:"Home"}),e.jsx(ca,{className:"h-4 w-4 rotate-180"}),e.jsx(ce,{to:c||"/hotels",className:"hover:text-blue-600",children:"Hotels"}),e.jsx(ca,{className:"h-4 w-4 rotate-180"}),e.jsx("span",{className:"text-gray-900 font-medium",children:d.name})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),new Date(l).toLocaleDateString("vi-VN")," - ",new Date(i).toLocaleDateString("vi-VN")]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),o," guests"]}),e.jsxs("div",{className:"text-blue-600 font-medium",children:[E," nights"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"relative h-64 md:h-96 rounded-lg overflow-hidden mb-8",children:[e.jsx("img",{src:q(d.imageUrl),alt:d.name,className:"w-full h-full object-cover",onError:z=>{const A=z.target;A.src="https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg"}}),d.featured&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Featured"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:d.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Be,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:d.address})]}),d.city&&e.jsxs("div",{className:"text-gray-600",children:[d.city,d.country&&`, ${d.country}`]})]}),e.jsxs("div",{className:"text-right",children:[d.starRating&&e.jsxs("div",{className:"flex items-center mb-2",children:[U(d.starRating),e.jsxs("span",{className:"ml-2 text-lg font-medium",children:[d.starRating," stars"]})]}),d.averageRating&&e.jsxs("div",{className:"text-sm text-gray-600",children:[d.averageRating.toFixed(1),"/5 (",d.totalReviews||0," reviews)"]})]})]})}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview"},{id:"rooms",label:`Rooms (${m.length})`},{id:"reviews",label:`Reviews (${x.length})`}].map(z=>e.jsx("button",{onClick:()=>v(z.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${b===z.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:z.label},z.id))})}),b==="overview"&&e.jsxs("div",{className:"space-y-8",children:[d.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:d.description})]}),d.amenities&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d.amenities.split(",").map((z,A)=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[K(z.trim()),e.jsx("span",{className:"ml-3 text-gray-700",children:z.trim()})]},A))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.cancellationPolicy&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Cancellation Policy"}),e.jsx("p",{className:"text-gray-700",children:d.cancellationPolicy})]}),d.petPolicy&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Pet Policy"}),e.jsx("p",{className:"text-gray-700",children:d.petPolicy})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.phone&&e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(Le,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"ml-3 text-gray-700",children:d.phone})]}),d.email&&e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(De,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"ml-3 text-gray-700",children:d.email})]}),d.website&&e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(Jl,{className:"h-5 w-5 text-gray-600"}),e.jsx("a",{href:d.website,target:"_blank",rel:"noopener noreferrer",className:"ml-3 text-blue-600 hover:underline",children:d.website})]})]})]})]}),b==="rooms"&&e.jsx("div",{className:"space-y-6",children:m.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No room information available"}):m.map(z=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:q(z.imageUrl),alt:z.name,className:"w-full h-48 object-cover rounded-lg",onError:A=>{const F=A.target;F.src="https://images.pexels.com/photos/164595/pexels-photo-164595.jpeg"}})}),e.jsxs("div",{className:"md:w-2/3",children:[e.jsx("h4",{className:"text-xl font-semibold mb-2",children:z.name}),z.description&&e.jsx("p",{className:"text-gray-600 mb-4",children:z.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Max ",z.maxOccupancy," guests"]})]}),z.bedType&&e.jsxs("div",{className:"text-sm text-gray-700",children:["Bed type: ",z.bedType]}),z.roomSize&&e.jsxs("div",{className:"text-sm text-gray-700",children:["Size: ",z.roomSize,"m"]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Available: ",z.availableRooms," rooms"]})]}),z.amenities&&e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Room amenities:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:z.amenities.split(",").map((A,F)=>e.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 text-xs rounded-full border border-green-200",children:A.trim()},F))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:I(z.pricePerNight)}),e.jsx("div",{className:"text-sm text-gray-600",children:"per night"}),E>1&&e.jsxs("div",{className:"text-lg font-semibold text-green-600 mt-1",children:[I(z.pricePerNight*E)," total"]})]}),e.jsxs("div",{className:"text-right",children:[z.maxOccupancy<o?e.jsx("div",{className:"text-red-600 text-sm mb-2",children:"Room capacity exceeded"}):z.availableRooms===0?e.jsx("div",{className:"text-red-600 text-sm mb-2",children:"Sold out"}):e.jsxs("div",{className:"text-green-600 text-sm mb-2",children:[z.availableRooms," rooms available"]}),e.jsx("button",{onClick:()=>{if(z.maxOccupancy<o){alert(`This room can accommodate maximum ${z.maxOccupancy} guests. Please select a different room type or reduce guest count.`);return}if(z.availableRooms===0){alert("This room type is currently sold out for the selected dates.");return}const A=new URLSearchParams({hotelId:d.id,roomTypeId:z.id,checkIn:l,checkOut:i,guests:o.toString()});s(`/booking?${A.toString()}`)},disabled:z.maxOccupancy<o||z.availableRooms===0,className:`px-6 py-2 rounded-lg font-semibold transition-colors ${z.maxOccupancy<o||z.availableRooms===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:z.maxOccupancy<o?"Capacity Exceeded":z.availableRooms===0?"Sold Out":"Book Now"})]})]})]})]})},z.id))}),b==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[r?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:P?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Checking your review..."})]}):C?w?e.jsx(Ib,{review:{id:C.id,rating:C.rating,comment:C.comment,hotelId:C.hotelId,hotelName:d==null?void 0:d.name},onSuccess:Y,onCancel:()=>k(!1),onDelete:W}):e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"You have already reviewed this hotel"}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[Array(5).fill(0).map((z,A)=>e.jsx(fe,{className:`h-5 w-5 ${A<C.rating?"text-yellow-400 fill-current":"text-gray-300"}`},A)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[C.rating,"/5 stars"]})]}),C.comment&&e.jsxs("p",{className:"text-gray-700 text-sm",children:['"',C.comment,'"']}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Reviewed on ",new Date(C.createdAt).toLocaleDateString("en-US")]})]}),e.jsx("button",{onClick:()=>k(!0),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Edit review"})]}):w?e.jsx(Ab,{hotelId:(d==null?void 0:d.id)||"",hotelName:(d==null?void 0:d.name)||"",onSuccess:O,onCancel:()=>k(!1)}):e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Share your experience"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your review will help others make better choices"}),e.jsx("button",{onClick:()=>k(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Write a review"})]})}):e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Login to write a review"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You need to login to share your experience and review this hotel"}),e.jsx(ce,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors inline-block",children:"Login"})]}),e.jsx(Lb,{reviews:x,loading:f,showStats:!0,showFilters:!0,hotelId:d==null?void 0:d.id})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Booking Information"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:I(d.pricePerNight)}),d.pricePerNight&&e.jsx("div",{className:"text-gray-500",children:"per night"})]}),(d.checkInTime||d.checkOutTime)&&e.jsxs("div",{className:"mb-6 space-y-3",children:[d.checkInTime&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Check-in: ",d.checkInTime]})]}),d.checkOutTime&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-4 w-4 text-gray-500 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Check-out: ",d.checkOutTime]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-center",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:d.totalRoomTypes||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Room types"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:d.totalRooms||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total rooms"})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Your Search"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center text-blue-700",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),new Date(l).toLocaleDateString("vi-VN")," - ",new Date(i).toLocaleDateString("vi-VN")]}),e.jsxs("div",{className:"flex items-center text-blue-700",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),o," guests  ",E," nights"]})]})]}),e.jsx("button",{onClick:()=>{const z=m.filter(A=>A.availableRooms>0&&A.maxOccupancy>=o);if(z.length>0){const A=z.reduce((B,se)=>B.pricePerNight<se.pricePerNight?B:se),F=new URLSearchParams({hotelId:d.id,roomTypeId:A.id,checkIn:l,checkOut:i,guests:o.toString()});s(`/booking?${F.toString()}`)}else alert(`No rooms available for ${o} guests on the selected dates. Please try different dates or guest count.`)},className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold mb-4",children:"Book Now"}),e.jsx(ce,{to:"/hotels",className:"w-full block text-center border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors",children:"View other hotels"})]})})]})]})]})},pr=({status:t,size:s="md",showIcon:n=!0})=>{const r=u=>{const m={PENDING:{label:"Pending",className:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Pe},CONFIRMED:{label:"Confirmed",className:"bg-green-100 text-green-800 border-green-200",icon:yt},CANCELLED:{label:"Cancelled",className:"bg-red-100 text-red-800 border-red-200",icon:ve},CANCELLED_BY_GUEST:{label:"Cancelled by Guest",className:"bg-orange-100 text-orange-800 border-orange-200",icon:ve},CANCELLED_BY_HOST:{label:"Cancelled by Host",className:"bg-red-100 text-red-800 border-red-200",icon:ve},COMPLETED:{label:"Completed",className:"bg-blue-100 text-blue-800 border-blue-200",icon:yt},NO_SHOW:{label:"No Show",className:"bg-gray-100 text-gray-800 border-gray-200",icon:vs}};return m[u]||m.PENDING},a=u=>{const m={sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"};return m[u]||m.md},l=u=>{const m={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return m[u]||m.md},i=r(t),o=i.icon,c=a(s),d=l(s);return e.jsxs("span",{className:`inline-flex items-center ${c} rounded-full font-medium border ${i.className}`,children:[n&&e.jsx(o,{className:`${d} mr-1`}),i.label]})},fr=({status:t,size:s="md",showIcon:n=!0})=>{const r=u=>{const m={PENDING:{label:"Pending Payment",className:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Pe},PAID:{label:"Paid",className:"bg-green-100 text-green-800 border-green-200",icon:yt},FAILED:{label:"Failed",className:"bg-red-100 text-red-800 border-red-200",icon:ve},REFUNDED:{label:"Refunded",className:"bg-gray-100 text-gray-800 border-gray-200",icon:pe},PARTIALLY_REFUNDED:{label:"Partially Refunded",className:"bg-orange-100 text-orange-800 border-orange-200",icon:pe},REFUND_PENDING:{label:"Refund Pending",className:"bg-purple-100 text-purple-800 border-purple-200",icon:Pe},NO_PAYMENT:{label:"No Payment",className:"bg-gray-100 text-gray-600 border-gray-200",icon:ve},CANCELLED:{label:"No Refund",className:"bg-red-100 text-red-800 border-red-200",icon:ve}};return m[u]||m.PENDING},a=u=>{const m={sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"};return m[u]||m.md},l=u=>{const m={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return m[u]||m.md},i=r(t),o=i.icon,c=a(s),d=l(s);return e.jsxs("span",{className:`inline-flex items-center ${c} rounded-full font-medium border ${i.className}`,children:[n&&e.jsx(o,{className:`${d} mr-1`}),i.label]})},Ob=()=>{const t=le(),[s,n]=h.useState([]),[r,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState({}),[d,u]=h.useState(!1);h.useEffect(()=>{m()},[o]),h.useEffect(()=>{const f=()=>{m(!0)};return window.addEventListener("focus",f),()=>{window.removeEventListener("focus",f)}},[]),h.useEffect(()=>{m(!0)},[]);const m=async(f=!1)=>{var j;f?i(!0):a(!0);try{console.log("Fetching bookings with filters:",o);const N=await Ne.getMyBookings(o);console.log("API Response:",N.data),console.log("Bookings data:",(j=N.data.result)==null?void 0:j.content),n(N.data.result.content||[])}catch(N){console.error("Error fetching bookings:",N)}finally{a(!1),i(!1)}},g=()=>{m(!0)},x=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),y=(f,j)=>{c(N=>({...N,[f]:j||void 0}))};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading bookings..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Bookings"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:g,disabled:l,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[e.jsx(qe,{className:`h-4 w-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:()=>{console.log("Force refresh clicked"),m(!0)},disabled:l,className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[e.jsx(qe,{className:`h-3 w-3 mr-1 ${l?"animate-spin":""}`}),"Force"]}),e.jsxs("button",{onClick:()=>u(!d),className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Filters"]})]})]}),d&&e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:o.status||"",onChange:f=>y("status",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"CANCELLED_BY_GUEST",children:"Cancelled by Guest"}),e.jsx("option",{value:"CANCELLED_BY_HOST",children:"Cancelled by Host"}),e.jsx("option",{value:"NO_SHOW",children:"No Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsxs("select",{value:o.paymentStatus||"",onChange:f=>y("paymentStatus",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Payment Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"PAID",children:"Paid"}),e.jsx("option",{value:"FAILED",children:"Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"}),e.jsx("option",{value:"PARTIALLY_REFUNDED",children:"Partially Refunded"}),e.jsx("option",{value:"REFUND_PENDING",children:"Refund Pending"}),e.jsx("option",{value:"NO_PAYMENT",children:"No Payment"}),e.jsx("option",{value:"CANCELLED",children:"No Refund"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),e.jsx("input",{type:"date",value:o.checkInDate||"",onChange:f=>y("checkInDate",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),e.jsx("input",{type:"date",value:o.checkOutDate||"",onChange:f=>y("checkOutDate",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-500 text-lg mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"You haven't made any bookings yet."}),e.jsx("button",{onClick:()=>t("/hotels"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Hotels"})]}):e.jsx("div",{className:"space-y-6",children:s.map(f=>e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(`/bookings/${f.id}`),children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/4",children:e.jsx("img",{src:"https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg",alt:f.hotelName,className:"h-48 w-full object-cover"})}),e.jsxs("div",{className:"p-6 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:f.hotelName}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[e.jsx(Be,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:f.hotelAddress})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Booking Reference: ",f.bookingReference]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(pr,{status:f.status,size:"sm"}),e.jsx("div",{className:"mt-2",children:e.jsx(fr,{status:f.paymentStatus,size:"sm"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Check-in"}),e.jsx("div",{className:"font-medium",children:x(f.checkInDate)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Check-out"}),e.jsx("div",{className:"font-medium",children:x(f.checkOutDate)})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsxs("div",{className:"font-medium",children:["$",f.totalAmount]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"space-x-4",children:[e.jsx("span",{children:f.roomTypeName}),e.jsxs("span",{children:[f.guests," Guests"]}),e.jsxs("span",{children:[f.numberOfNights," Nights"]})]}),f.paymentMethod&&e.jsx("span",{className:"text-blue-600",children:f.paymentMethod})]})]})]})},f.id))})]})})},zb=()=>{const{id:t}=ot(),s=le(),[n,r]=h.useState(null),[a,l]=h.useState(!0),[i,o]=h.useState(null),[c,d]=h.useState(!1);h.useEffect(()=>{t&&u()},[t]);const u=async()=>{var y,f;if(t){l(!0);try{const j=await Ne.getMyBookingById(t);r(j.data.result)}catch(j){console.error("Error fetching booking:",j),o(((f=(y=j.response)==null?void 0:y.data)==null?void 0:f.message)||"Failed to fetch booking details")}finally{l(!1)}}},m=async()=>{var f,j;if(!n||!t)return;const y=prompt("Please provide a reason for cancellation (optional):");if(y!==null){d(!0);try{await Ne.cancelMyBooking(t,y),await u(),alert("Booking cancelled successfully")}catch(N){console.error("Error cancelling booking:",N),alert(((j=(f=N.response)==null?void 0:f.data)==null?void 0:j.message)||"Failed to cancel booking")}finally{d(!1)}}},g=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});if(a)return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading booking details..."})]})})});if(i||!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s("/bookings"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Back to Bookings"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 text-lg font-semibold mb-2",children:i||"Booking not found"}),e.jsx("button",{onClick:()=>s("/bookings"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go to Bookings"})]})]})});const x=n.status==="PENDING"||n.status==="CONFIRMED";return e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s("/bookings"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Back to Bookings"]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Details"}),e.jsxs("p",{className:"text-gray-600",children:["Booking #",n.bookingReference]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(pr,{status:n.status}),e.jsx("div",{className:"mt-2",children:e.jsx(fr,{status:n.paymentStatus})})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:"https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg",alt:n.hotelName,className:"w-full h-64 object-cover rounded-lg"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:n.hotelName}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:n.hotelAddress})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[n.guests," Guests"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[g(n.checkInDate)," - ",g(n.checkOutDate)]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[n.numberOfNights," Night",n.numberOfNights>1?"s":""]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Hotel Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:n.hotelPhone||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:n.hotelEmail||"N/A"})]})]}),e.jsx("h3",{className:"font-semibold mb-3 mt-6",children:"Guest Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:n.guestName})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:n.guestEmail})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:n.guestPhone})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Room Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Room Type"}),e.jsx("p",{className:"font-medium",children:n.roomTypeName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Room Description"}),e.jsx("p",{className:"text-sm text-gray-600",children:n.roomDescription})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Max Occupancy"}),e.jsxs("p",{className:"font-medium",children:[n.maxOccupancy," guests"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Bed Type"}),e.jsx("p",{className:"font-medium",children:n.bedType})]})]}),n.specialRequests&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:"Special Requests"}),e.jsx("p",{className:"text-sm bg-gray-100 p-3 rounded-lg",children:n.specialRequests})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Payment Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Payment Method"}),e.jsx("p",{className:"font-medium",children:n.paymentMethod||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Payment Status"}),e.jsx("p",{className:"font-medium",children:n.paymentStatus})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Price per Night"}),e.jsxs("p",{className:"font-medium",children:["$",n.pricePerNight]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"font-medium text-xl text-blue-600",children:["$",n.totalAmount]})]})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Created: ",g(n.createdAt)]}),e.jsxs("p",{children:["Last Updated: ",g(n.updatedAt)]})]}),e.jsxs("div",{className:"flex space-x-4",children:[x&&e.jsx("button",{onClick:m,disabled:c,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(Pn,{className:"h-5 w-5 mr-2"}),"Download Invoice"]})]})]})})]})})]})})},Hb=()=>{const{bookingId:t}=ot();le();const[s,n]=h.useState(null),[r,a]=h.useState(!0),[l,i]=h.useState(null);h.useEffect(()=>{(async()=>{if(!t){i("Booking ID not found"),a(!1);return}try{a(!0);const g=await Ne.getMyBookingById(t);g.data.success?n(g.data.result):i("Unable to load booking details")}catch(g){console.error("Error fetching booking:",g),i("Failed to load booking information")}finally{a(!1)}})()},[t]);const o=m=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m),c=m=>new Date(m).toLocaleDateString("vi-VN",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=m=>{switch(m){case"CONFIRMED":return"text-green-600 bg-green-100";case"PENDING":return"text-yellow-600 bg-yellow-100";case"CANCELLED":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},u=m=>{switch(m){case"VNPAY":return"VNPay";case"CASH_ON_CHECKIN":return"Thanh ton khi t phng";default:return"Thanh ton khi t phng"}};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):l||!s?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-xl font-semibold mb-4",children:l||"Booking not found"}),e.jsxs(ce,{to:"/hotels",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Back to Hotels"]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(yt,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"t phng thnh cng!"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Cm n bn  t phng. Chi tit booking ca bn nh sau:"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:[e.jsx("div",{className:"bg-blue-50 px-6 py-4 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Booking Reference: ",s.bookingReference]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Booked on ",new Date(s.createdAt).toLocaleDateString("vi-VN")]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(s.status)}`,children:s.status})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Be,{className:"h-5 w-5 mr-2 text-blue-600"}),"Hotel Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.hotelName}),e.jsx("div",{className:"text-gray-600",children:s.hotelAddress})]}),s.hotelPhone&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),s.hotelPhone]}),s.hotelEmail&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),s.hotelEmail]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.roomTypeName}),s.roomDescription&&e.jsx("div",{className:"text-gray-600",children:s.roomDescription})]}),e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Bed Type:"})," ",s.bedType]}),e.jsxs("div",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Max Occupancy:"})," ",s.maxOccupancy," guests"]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Booking Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Check-in:"}),e.jsx("div",{className:"text-gray-900",children:c(s.checkInDate)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Check-out:"}),e.jsx("div",{className:"text-gray-900",children:c(s.checkOutDate)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2 text-gray-500"}),e.jsxs("span",{className:"text-gray-600",children:[s.guests," guests"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Duration:"}),e.jsxs("span",{className:"text-gray-900 ml-2",children:[s.numberOfNights," nights"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Guest Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),e.jsx("div",{className:"text-gray-900",children:s.guestName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Email:"}),e.jsx("div",{className:"text-gray-900",children:s.guestEmail})]}),s.guestPhone&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Phone:"}),e.jsx("div",{className:"text-gray-900",children:s.guestPhone})]})]})]})]}),s.specialRequests&&e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Dn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Special Requests"]}),e.jsx("p",{className:"text-gray-700",children:s.specialRequests})]}),e.jsxs("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Dt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Payment Summary"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Room rate per night:"}),e.jsx("span",{className:"font-medium",children:o(s.pricePerNight)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Number of nights:"}),e.jsx("span",{className:"font-medium",children:s.numberOfNights})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total Amount:"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:o(s.totalAmount)})]})}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Payment Method:"}),e.jsx("span",{className:"text-gray-900",children:u(s.paymentMethod)})]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Payment Status:"}),e.jsx("span",{className:`px-2 py-1 rounded text-sm ${s.paymentStatus==="PAID"?"bg-green-100 text-green-800":s.paymentStatus==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.paymentStatus})]})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Important Information:"}),e.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1",children:[e.jsx("li",{children:" Please bring a valid ID for check-in"}),e.jsx("li",{children:" Check-in time is typically 3:00 PM, check-out at 11:00 AM"}),s.paymentMethod==="CASH_ON_CHECKIN"&&e.jsx("li",{children:" Please prepare exact cash amount for payment at the hotel"}),e.jsx("li",{children:" Contact the hotel directly for any special arrangements"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(ce,{to:"/bookings/my",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View My Bookings"}),e.jsxs(ce,{to:"/hotels",className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Back to Hotels"]}),e.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Print Confirmation"]})]})]})})};var ts=(t=>(t.ACTIVE="ACTIVE",t.INACTIVE="INACTIVE",t.EXPIRED="EXPIRED",t.USED_UP="USED_UP",t))(ts||{}),ns=(t=>(t.PERCENTAGE="PERCENTAGE",t.HOTEL_SPECIFIC="HOTEL_SPECIFIC",t))(ns||{}),In=(t=>(t.ALL_HOTELS="ALL_HOTELS",t.SPECIFIC_HOTELS="SPECIFIC_HOTELS",t))(In||{});const Fb=t=>{const[s,n]=h.useState([]),[r,a]=h.useState(!1),[l,i]=h.useState(null);return h.useEffect(()=>{if(!t){n([]);return}(async()=>{var c,d;a(!0),i(null);try{const u=await Cs.getAvailableVouchersForHotel(t);u.data.success&&n(u.data.result)}catch(u){i(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Failed to load vouchers"),n([])}finally{a(!1)}})()},[t]),{vouchers:s,loading:r,error:l,refetch:()=>n([])}},Vb=({hotelId:t,onVoucherSelect:s,className:n=""})=>{const{vouchers:r,loading:a,error:l}=Fb(t),i=u=>u.toLocaleString("vi-VN")+"",o=u=>new Date(u).toLocaleDateString("vi-VN"),c=u=>{if(u.discountType===ns.PERCENTAGE){const m=u.maxDiscount?` (ti a ${i(u.maxDiscount)})`:"";return`${u.discountValue}%${m}`}return i(u.discountValue)},d=u=>u.usageLimit?`${u.usageLimit-u.usageCount} lt cn li`:"Khng gii hn";return a?e.jsx("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${n}`,children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-16 bg-gray-200 rounded"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded"})]})]})}):l?e.jsx("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${n}`,children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Khng th ti voucher"})]})}):r.length===0?e.jsx("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${n}`,children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Qt,{size:24,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Khng c voucher no kh dng cho khch sn ny"})]})}):e.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg p-4 ${n}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Qt,{size:20,className:"text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Voucher kh dng"})]}),e.jsx("div",{className:"space-y-3",children:r.map(u=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s==null?void 0:s(u.code),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:u.code}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:u.name})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:u.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(gr,{size:12,className:"mr-1 text-green-600"}),e.jsxs("span",{children:["Gim ",c(u)]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{size:12,className:"mr-1 text-blue-600"}),e.jsx("span",{children:d(u)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{size:12,className:"mr-1 text-orange-600"}),e.jsxs("span",{children:["n ",o(u.endDate)]})]})]}),u.minBookingValue&&e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:["p dng cho n t ",i(u.minBookingValue)]})]}),e.jsx("div",{className:"ml-3 flex-shrink-0",children:e.jsx("button",{onClick:m=>{m.stopPropagation(),s==null||s(u.code)},className:"text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",children:"p dng"})})]})},u.id))}),e.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:"Nhp vo voucher  p dng"})]})},$b=({hotelId:t,bookingAmount:s,onVoucherApplied:n,onVoucherRemoved:r,appliedVoucherCode:a,disabled:l=!1})=>{var w,k;const[i,o]=h.useState(a||""),[c,d]=h.useState(!1),[u,m]=h.useState(null),[g,x]=h.useState(""),[y,f]=h.useState(!1),j=async()=>{var C,S;if(!i.trim()){x("Vui lng nhp m voucher");return}d(!0),x(""),m(null);try{const P=await Cs.validateVoucher({code:i.toUpperCase(),hotelId:t,bookingAmount:s});if(P.data.success){const T=P.data.result;m(T),T.valid&&T.discountAmount&&n?n(T.discountAmount,i.toUpperCase()):T.valid||x(T.message||"Voucher khng hp l")}}catch(P){x(((S=(C=P.response)==null?void 0:C.data)==null?void 0:S.message)||"Khng th kim tra voucher")}finally{d(!1)}},N=()=>{o(""),m(null),x(""),r&&r()},p=C=>C.toLocaleString("vi-VN")+"",b=C=>{C.key==="Enter"&&j()},v=async C=>{var S,P;o(C),f(!1),d(!0),x(""),m(null);try{const T=await Cs.validateVoucher({code:C,hotelId:t,bookingAmount:s});if(T.data.success){const E=T.data.result;m(E),E.valid&&E.discountAmount&&n?n(E.discountAmount,C):E.valid||x(E.message||"Voucher khng hp l")}}catch(T){x(((P=(S=T.response)==null?void 0:S.data)==null?void 0:P.message)||"Khng th kim tra voucher")}finally{d(!1)}};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Qt,{size:20,className:"text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"M gim gi"})]}),a?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-green-800",children:[e.jsx(Qe,{size:16,className:"mr-2"}),e.jsxs("span",{className:"font-medium",children:[" p dng: ",a]})]}),e.jsx("button",{onClick:N,disabled:l,className:"text-red-600 hover:text-red-800 disabled:opacity-50",children:e.jsx(ve,{size:16})})]}),u&&e.jsx("div",{className:"text-sm text-green-700 mt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gim gi:"}),e.jsxs("span",{className:"font-semibold",children:["-",p(u.discountAmount||0)]})]})})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",value:i,onChange:C=>o(C.target.value.toUpperCase()),onKeyPress:b,placeholder:"Nhp m voucher (VD: SUMMER2024)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l||c})}),e.jsx("button",{onClick:j,disabled:l||c||!i.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:c?e.jsx(ib,{size:16,className:"animate-spin"}):"p dng"})]}),g&&e.jsxs("div",{className:"flex items-center text-red-600 text-sm",children:[e.jsx(ue,{size:16,className:"mr-2"}),g]}),u&&u.valid&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center text-green-800 mb-2",children:[e.jsx(Qe,{size:16,className:"mr-2"}),e.jsx("span",{className:"font-medium",children:"Voucher hp l!"})]}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsxs("div",{children:["M: ",e.jsx("span",{className:"font-medium",children:(w=u.voucher)==null?void 0:w.code})]}),e.jsxs("div",{children:["Tn: ",(k=u.voucher)==null?void 0:k.name]}),e.jsxs("div",{className:"flex justify-between mt-2 pt-2 border-t border-green-200",children:[e.jsx("span",{children:"Gim gi:"}),e.jsxs("span",{className:"font-semibold",children:["-",p(u.discountAmount||0)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Thnh tin:"}),e.jsx("span",{className:"font-semibold",children:p(u.finalAmount||0)})]})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("button",{onClick:()=>f(!y),className:"flex items-center text-sm text-blue-600 hover:text-blue-800 transition-colors",disabled:l,children:[e.jsx("span",{children:"Xem voucher kh dng"}),y?e.jsx(_t,{size:16,className:"ml-1"}):e.jsx(Tt,{size:16,className:"ml-1"})]}),y&&e.jsx("div",{className:"mt-3",children:e.jsx(Vb,{hotelId:t,onVoucherSelect:v})})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Nhp m voucher hoc chn t danh sch voucher kh dng"})]})},cn={SUCCESS:"00",TRANSACTION_FAILED:"07",INVALID_SIGNATURE:"97",TRANSACTION_CANCELLED:"24",INSUFFICIENT_FUNDS:"51",CARD_EXPIRED:"54",INCORRECT_PAYMENT_INFO:"75",DAILY_LIMIT_EXCEEDED:"61"},Ub=()=>{const[t,s]=h.useState(!1),[n,r]=h.useState(null),[a,l]=h.useState(null),[i,o]=h.useState(null),c=h.useCallback(async g=>{var x,y;try{s(!0),r(null);const f=await Sl.createPayment(g);if(f.data.success){const j=f.data.result;return l(j.paymentUrl),j}else return r(f.data.message||"To thanh ton tht bi"),null}catch(f){const j=((y=(x=f.response)==null?void 0:x.data)==null?void 0:y.message)||"C li xy ra khi to thanh ton";return r(j),null}finally{s(!1)}},[]),d=h.useCallback(async g=>{var x,y;try{s(!0),r(null);const f=await Sl.getPaymentStatus(g);if(f.data.success){const j=f.data.result;return o(j),j}else return r(f.data.message||"Khng th ly trng thi thanh ton"),null}catch(f){const j=((y=(x=f.response)==null?void 0:x.data)==null?void 0:y.message)||"C li xy ra khi kim tra trng thi thanh ton";return r(j),null}finally{s(!1)}},[]),u=h.useCallback(g=>{try{const x=g.get("vnp_TxnRef"),y=g.get("vnp_ResponseCode"),f=g.get("vnp_Amount"),j=g.get("vnp_OrderInfo");if(!x||!y)return r("Thng tin tr v t VNPay khng hp l"),null;const N=y===cn.SUCCESS;let p="";switch(y){case cn.SUCCESS:p="Thanh ton thnh cng";break;case cn.TRANSACTION_CANCELLED:p="Giao dch  b hy";break;case cn.INSUFFICIENT_FUNDS:p="S d ti khon khng ";break;case cn.CARD_EXPIRED:p="Th  ht hn";break;case cn.INCORRECT_PAYMENT_INFO:p="Thng tin thanh ton khng chnh xc";break;case cn.DAILY_LIMIT_EXCEEDED:p="Vt qu hn mc giao dch hng ngy";break;default:p="Thanh ton tht bi"}const b={txnRef:x,responseCode:y,success:N,message:p,amount:f?parseInt(f)/100:void 0,orderInfo:j||void 0};return N||r(p),b}catch{return r("C li xy ra khi x l kt qu thanh ton"),null}},[]),m=h.useCallback(()=>{s(!1),r(null),l(null),o(null)},[]);return{isLoading:t,error:n,paymentUrl:a,paymentStatus:i,createPayment:c,checkPaymentStatus:d,processReturnUrl:u,reset:m}},_b=({amount:t,orderInfo:s,bookingId:n,onPaymentInitiated:r,onError:a,disabled:l=!1})=>{const[i,o]=h.useState(""),[c,d]=h.useState("vn"),{createPayment:u,isLoading:m,error:g}=Ub(),x=[{code:"",name:"Chn ngn hng (ty chn)",logo:""},{code:"VIETCOMBANK",name:"Vietcombank",logo:""},{code:"TECHCOMBANK",name:"Techcombank",logo:""},{code:"BIDV",name:"BIDV",logo:""},{code:"VIETINBANK",name:"VietinBank",logo:""},{code:"VPBANK",name:"VPBank",logo:""},{code:"MBBANK",name:"MBBank",logo:""},{code:"ACB",name:"ACB",logo:""},{code:"OCB",name:"OCB",logo:""},{code:"SACOMBANK",name:"Sacombank",logo:""},{code:"AGRIBANK",name:"Agribank",logo:""},{code:"VISA",name:"Th VISA/Mastercard",logo:""}],y=async()=>{const j={amount:t,orderInfo:s,bankCode:i||void 0,language:c,bookingId:n};console.log("Creating VNPay payment with data:",j);const N=await u(j);console.log("VNPay payment result:",N),N?(console.log("Redirecting to VNPay URL:",N.paymentUrl),r==null||r(N.paymentUrl,N.txnRef),window.location.href=N.paymentUrl):g&&(console.error("VNPay payment error:",g),a==null||a(g))},f=j=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j);return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(Dt,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Thanh ton VNPay"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Thanh ton an ton qua cng VNPay"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"S tin thanh ton:"}),e.jsx("span",{className:"text-xl font-bold text-blue-600",children:f(t)})]}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:s})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chn ngn hng (ty chn)"}),e.jsx("select",{value:i,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l||m,children:x.map(j=>e.jsxs("option",{value:j.code,children:[j.logo," ",j.name]},j.code))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nu khng chn, bn c th chn ngn hng trn trang VNPay"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngn ng"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"vn",checked:c==="vn",onChange:j=>d(j.target.value),className:"mr-2",disabled:l||m}),"Ting Vit"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"en",checked:c==="en",onChange:j=>d(j.target.value),className:"mr-2",disabled:l||m}),"English"]})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(We,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Thanh ton an ton & bo mt"}),e.jsxs("ul",{className:"text-green-700 space-y-1",children:[e.jsx("li",{children:" c bo v bi SSL 256-bit"}),e.jsx("li",{children:" Tun th chun bo mt PCI DSS"}),e.jsx("li",{children:" Khng lu tr thng tin th"})]})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Pe,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("div",{className:"font-medium mb-1",children:"Lu  quan trng:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:" Phin thanh ton c hiu lc trong 15 pht"}),e.jsx("li",{children:" Sau khi thanh ton thnh cng, booking s c xc nhn t ng"}),e.jsx("li",{children:" Vui lng khng ng trnh duyt trong qu trnh thanh ton"})]})]})]})}),g&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ue,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("div",{className:"font-medium",children:"C li xy ra:"}),e.jsx("div",{children:g})]})]})}),e.jsx("button",{onClick:y,disabled:l||m||t<=0,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${l||m||t<=0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:m?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"ang x l..."})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Dt,{className:"h-5 w-5"}),e.jsxs("span",{children:["Thanh ton ",f(t)]})]})}),e.jsxs("div",{className:"text-center text-sm text-gray-500 mt-4",children:["H tr 24/7: ",e.jsx("span",{className:"text-blue-600",children:"1900 6666"})]})]})},qb=({amount:t,orderInfo:s,bookingId:n,selectedMethod:r,onMethodChange:a,onVNPayInitiated:l,disabled:i=!1})=>{const[o,c]=h.useState(!1),d=[{id:"CASH_ON_CHECKIN",name:"Thanh ton khi nhn phng",description:"Thanh ton bng tin mt khi check-in ti khch sn",icon:Oo,color:"green",available:!0,pros:["Khng cn thanh ton trc","Linh hot vi thi gian thanh ton","Khng ph giao dch"],cons:["Cn chun b tin mt","C th hy phng nu khng thanh ton"]},{id:"VNPAY",name:"VNPay",description:"Thanh ton online qua v in t VNPay",icon:Dt,color:"blue",available:!0,pros:["Thanh ton nhanh chng, tin li","Xc nhn booking ngay lp tc","Bo mt cao vi cng ngh m ha","H tr nhiu ngn hng"],cons:["Cn c ti khon ngn hng/th","Ph giao dch (nu c)"]}],u=x=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(x),m=x=>{a(x),c(x==="VNPAY")},g=(x,y)=>{l==null||l(x,y)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Chn phng thc thanh ton"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(x=>{const y=x.icon,f=r===x.id,N={green:{border:f?"border-green-500":"border-gray-200",bg:f?"bg-green-50":"bg-white",icon:f?"text-green-600":"text-gray-400",check:"text-green-600"},blue:{border:f?"border-blue-500":"border-gray-200",bg:f?"bg-blue-50":"bg-white",icon:f?"text-blue-600":"text-gray-400",check:"text-blue-600"}}[x.color];return e.jsxs("div",{className:`relative border-2 rounded-lg transition-all ${i?"cursor-not-allowed opacity-60":`cursor-pointer hover:border-gray-300 ${N.border}`} ${N.bg}`,onClick:()=>!i&&x.available&&m(x.id),children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(y,{className:`h-6 w-6 mt-1 ${N.icon}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:x.name}),f&&e.jsx(Qe,{className:`h-5 w-5 ${N.check}`})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-700 mb-1",children:"u im:"}),e.jsx("ul",{className:"space-y-1",children:x.pros.map((p,b)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-1",children:""}),e.jsx("span",{className:"text-gray-600",children:p})]},b))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-orange-700 mb-1",children:"Lu :"}),e.jsx("ul",{className:"space-y-1",children:x.cons.map((p,b)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-orange-500 mr-1",children:""}),e.jsx("span",{className:"text-gray-600",children:p})]},b))})]})]})]})]})}),f&&e.jsx("div",{className:`absolute top-0 right-0 w-0 h-0 border-l-[20px] border-l-transparent border-t-[20px] ${x.color==="green"?"border-t-green-500":"border-t-blue-500"}`,children:e.jsx(Qe,{className:"absolute -top-[18px] -right-[15px] h-3 w-3 text-white"})})]},x.id)})})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Tng s tin thanh ton"}),e.jsx("div",{className:"text-sm text-gray-600",children:s})]}),e.jsx("div",{className:"text-xl font-bold text-gray-900",children:u(t)})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(We,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Thanh ton an ton & bo mt"}),e.jsx("div",{className:"text-blue-700",children:r==="VNPAY"?e.jsx("p",{children:"VNPay s dng cng ngh m ha SSL 256-bit v tun th chun bo mt PCI DSS  m bo thng tin thanh ton ca bn c bo v tuyt i."}):e.jsx("p",{children:"Thanh ton trc tip ti khch sn gip bn linh hot v khng cn lo lng v bo mt thng tin trc tuyn."})})]})]})}),r==="VNPAY"&&o&&e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"border-t pt-6",children:e.jsx(_b,{amount:t,orderInfo:s,bookingId:n,onPaymentInitiated:g,onError:x=>{console.error("VNPay payment error:",x)},disabled:i})})}),r==="CASH_ON_CHECKIN"&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ue,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Lu  v thanh ton tin mt"}),e.jsxs("div",{className:"text-green-700 space-y-1",children:[e.jsxs("p",{children:[" Vui lng chun b ng s tin ",u(t)," khi check-in"]}),e.jsx("p",{children:" Khch sn c quyn hy booking nu khng thanh ton ng hn"}),e.jsx("p",{children:" Bn c th thanh ton bng tin mt hoc th ti khch sn"}),e.jsx("p",{children:" Booking s c xc nhn sau khi thanh ton thnh cng"})]})]})]})})]})},Kb=({hotel:t,roomType:s,checkInDate:n,checkOutDate:r,guests:a,onSuccess:l})=>{const i=le(),{user:o}=on(),[c,d]=h.useState(1),[u,m]=h.useState(!1),[g,x]=h.useState(!1),[y,f]=h.useState(null),[j,N]=h.useState({hotelId:t.id,roomTypeId:s.id,checkInDate:n,checkOutDate:r,guests:a,totalAmount:0,paymentMethod:"CASH_ON_CHECKIN",specialRequests:""}),[p,b]=h.useState({}),[v,w]=h.useState({}),[k,C]=h.useState(""),[S,P]=h.useState(0),[T,E]=h.useState(0),R=Math.ceil((new Date(r).getTime()-new Date(n).getTime())/(1e3*60*60*24));h.useEffect(()=>{const F=R*s.pricePerNight;E(F);const B=F-S;N(se=>({...se,totalAmount:B}))},[R,s.pricePerNight,S]);const I=[{step:1,title:"Review Booking",description:"Confirm your selection",isCompleted:c>1,isActive:c===1},{step:2,title:"Guest Information",description:"Verify your details",isCompleted:c>2,isActive:c===2},{step:3,title:"Payment Method",description:"Choose payment option",isCompleted:c>3,isActive:c===3},{step:4,title:"Confirmation",description:"Review and confirm",isCompleted:!1,isActive:c===4}];h.useEffect(()=>{(async()=>{x(!0);try{const B=await Ne.checkRoomAvailability(s.id,n,r);f(B.data.result)}catch(B){console.error("Error checking availability:",B),f(!1)}finally{x(!1)}})()},[s.id,n,r]);const U=()=>{var B,se;const F={};if(c===2){if(!o)return F.user="Please login to continue with booking",b(F),!1;(B=o.name)!=null&&B.trim()||(F.user="Please complete your profile with your name"),(se=o.email)!=null&&se.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(F.user="Please update your email to a valid format"):F.user="Please complete your profile with your email"}return c===3&&!j.paymentMethod&&(F.paymentMethod="Payment method is required"),b(F),Object.keys(F).length===0},K=()=>{U()&&d(F=>Math.min(F+1,4))},q=()=>{d(F=>Math.max(F-1,1))},_=(F,B)=>{N(se=>({...se,[F]:B})),w(se=>({...se,[F]:!0})),p[F]&&b(se=>({...se,[F]:""}))},O=(F,B)=>{P(F),C(B)},Y=()=>{P(0),C("")},W=async()=>{var F,B,se,oe,Ee,Q;if(!(!U()||!y)){m(!0);try{const D={...j,...k&&{voucherCode:k}},V=(await Ne.createBooking(D)).data.result.id;if(j.paymentMethod==="VNPAY"){const ne=localStorage.getItem("pendingPayment");if(ne)try{const G=JSON.parse(ne);G.txnRef&&(await Sl.linkPaymentToBooking(G.txnRef,V),localStorage.removeItem("pendingPayment"))}catch(G){console.error("Error linking payment to booking:",G)}}l?l(V):i(`/bookings/confirmation/${V}`)}catch(D){console.error("Error creating booking:",D),console.log("Full error response:",(F=D.response)==null?void 0:F.data);const J=(se=(B=D.response)==null?void 0:B.data)==null?void 0:se.code,V=(oe=D.response)==null?void 0:oe.status,ne=((Q=(Ee=D.response)==null?void 0:Ee.data)==null?void 0:Q.message)||"";J===5016||V===409||ne.includes("Booking conflict detected")||ne.includes("overlapping bookings")||ne.includes("conflict detected with existing reservations")?alert("Booking existed"):alert(ne||"Booking failed")}finally{m(!1)}}},z=F=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(F),A=F=>new Date(F).toLocaleDateString("vi-VN",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return o?e.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:I.map((F,B)=>e.jsxs(jn.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${F.isCompleted?"bg-green-500 text-white":F.isActive?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:F.isCompleted?e.jsx(Qe,{className:"h-4 w-4"}):F.step}),e.jsxs("div",{className:"ml-3 hidden sm:block",children:[e.jsx("div",{className:`text-sm font-medium ${F.isActive?"text-blue-600":F.isCompleted?"text-green-600":"text-gray-500"}`,children:F.title}),e.jsx("div",{className:"text-xs text-gray-500",children:F.description})]})]}),B<I.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-4 ${F.isCompleted?"bg-green-500":"bg-gray-200"}`})]},F.step))})}),e.jsxs("div",{className:"p-6",children:[g&&e.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3"}),e.jsx("span",{className:"text-blue-800",children:"Checking room availability..."})]})}),y===!1&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsx("span",{className:"text-red-800",children:"Room is not available for the selected dates"})]})}),p.user&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsx("span",{className:"text-red-800",children:p.user})]})}),e.jsxs("div",{className:"min-h-[400px]",children:[c===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Your Booking"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:t.name}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),t.address]}),t.starRating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2 text-yellow-500"}),t.starRating," Star Hotel"]})]}),t.imageUrl&&e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-32 object-cover rounded-lg mt-3"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:s.name}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Max ",s.maxOccupancy," guests"]}),s.bedType&&e.jsxs("div",{children:["Bed: ",s.bedType]}),s.roomSize&&e.jsxs("div",{children:["Size: ",s.roomSize," m"]})]}),s.imageUrl&&e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-32 object-cover rounded-lg mt-3"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Booking Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Check-in"]}),e.jsx("div",{className:"font-medium",children:A(n)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Check-out"]}),e.jsx("div",{className:"font-medium",children:A(r)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Guests"]}),e.jsxs("div",{className:"font-medium",children:[a," guest",a>1?"s":""]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Price Breakdown"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Room rate per night"}),e.jsx("span",{children:z(s.pricePerNight)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Number of nights"}),e.jsx("span",{children:R})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:"Total Amount"}),e.jsx("span",{className:"text-blue-600",children:z(j.totalAmount)})]})]})]})]}),c===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Guest Information"}),e.jsx("p",{className:"text-gray-600",children:"Your information from your account will be used for this booking."}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Booking Guest"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(He,{className:"h-4 w-4 inline mr-1"}),"Full Name"]}),e.jsx("div",{className:"px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900",children:o.name||"Name not provided"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(De,{className:"h-4 w-4 inline mr-1"}),"Email Address"]}),e.jsx("div",{className:"px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900",children:o.email||"Email not provided"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Le,{className:"h-4 w-4 inline mr-1"}),"Phone Number"]}),e.jsx("div",{className:"px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-900",children:o.tel||"Phone not provided"})]})]}),(!o.name||!o.email)&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"h-5 w-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium",children:"Incomplete Profile"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Please update your profile to continue with the booking."}),e.jsx("button",{onClick:()=>i("/profile"),className:"mt-2 text-blue-600 hover:text-blue-800 underline text-sm",children:"Update Profile"})]})]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Dn,{className:"h-4 w-4 inline mr-1"}),"Special Requests (Optional)"]}),e.jsx("textarea",{value:j.specialRequests,onChange:F=>_("specialRequests",F.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",placeholder:"Any special requests? (e.g., early check-in, room preferences, dietary requirements)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Special requests cannot be guaranteed but we'll do our best to accommodate them"})]})]}),c===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Method"}),e.jsx("p",{className:"text-gray-600",children:"Choose how you'd like to pay for your booking."}),e.jsx($b,{hotelId:t.id,bookingAmount:T,onVoucherApplied:O,onVoucherRemoved:Y,appliedVoucherCode:k,disabled:u}),e.jsx(qb,{amount:j.totalAmount,orderInfo:`Booking ${t.name} - ${s.name} (${R} nights)`,selectedMethod:j.paymentMethod,onMethodChange:F=>_("paymentMethod",F),onVNPayInitiated:(F,B)=>{localStorage.setItem("pendingPayment",JSON.stringify({bookingData:j,paymentUrl:F,txnRef:B,timestamp:Date.now()})),window.location.href=F},disabled:u})]}),c===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Confirm Your Booking"}),e.jsx("p",{className:"text-gray-600",children:"Please review all details before confirming your booking."}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Guest Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Name:"})," ",o.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Email:"})," ",o.email]}),o.tel&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Phone:"})," ",o.tel]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Booking Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Hotel:"})," ",t.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Room:"})," ",s.name]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Check-in:"})," ",A(n)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Check-out:"})," ",A(r)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Guests:"})," ",a]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Nights:"})," ",R]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Payment Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),j.paymentMethod==="VNPAY"?" VNPay":" Cash on Check-in"]}),e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:["Room Price (",R," nights):"]}),e.jsx("span",{children:z(T)})]}),S>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Discount (",k,"):"]}),e.jsxs("span",{children:["-",z(S)]})]}),e.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between font-semibold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsx("span",{children:z(j.totalAmount)})]})]})]})]}),j.specialRequests&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Special Requests"}),e.jsx("p",{className:"text-sm text-gray-600",children:j.specialRequests})]})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Qe,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800",children:"Ready to Book"}),e.jsx("p",{className:"text-green-700 text-sm mt-1",children:"By confirming this booking, you agree to the hotel's terms and conditions. You will receive a confirmation email once the booking is processed."})]})]})})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:q,disabled:c===1,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${c===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:[e.jsx(ca,{className:"h-4 w-4 mr-1"}),"Back"]}),c<4?e.jsxs("button",{onClick:K,disabled:y===!1||c===2&&(!o.name||!o.email),className:`flex items-center px-6 py-2 rounded-lg transition-colors ${y===!1||c===2&&(!o.name||!o.email)?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:["Next",e.jsx(Xl,{className:"h-4 w-4 ml-1"})]}):e.jsx("button",{onClick:W,disabled:u||y===!1,className:`flex items-center px-6 py-2 rounded-lg transition-colors ${u||y===!1?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Confirming..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-4 w-4 mr-1"}),"Confirm Booking"]})})]})]})]}):e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[e.jsx(He,{className:"h-12 w-12 text-yellow-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Login Required"}),e.jsx("p",{className:"text-yellow-700 mb-4",children:"You need to login to make a booking"}),e.jsx("button",{onClick:()=>i("/login"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Login to Continue"})]})},Gb=()=>{const t=Ot(),s=le(),[n,r]=h.useState(null),[a,l]=h.useState(null),[i,o]=h.useState(!0),[c,d]=h.useState(null),u=new URLSearchParams(t.search),m=u.get("hotelId"),g=u.get("roomTypeId"),x=u.get("checkIn")||"",y=u.get("checkOut")||"",f=parseInt(u.get("guests")||"1");h.useEffect(()=>{m&&g&&j()},[m,g]);const j=async()=>{if(!(!m||!g)){o(!0);try{const[p,b]=await Promise.all([me.getHotelDetails(m),Nt.getRoomTypeById(g)]);r(p.data.result),l(b.data.result)}catch(p){console.error("Error fetching data:",p),d("Failed to load booking information")}finally{o(!1)}}},N=p=>{s(`/bookings/confirmation/${p}`)};return i?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading booking form..."})]})})}):c||!n||!a?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Go Back"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-500 text-lg font-semibold mb-2",children:c||"Hotel or room type not found"}),e.jsx("button",{onClick:()=>s("/hotels"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Hotels"})]})]})}):!m||!g?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Go Back"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-orange-500 text-lg font-semibold mb-2",children:"Missing Booking Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Hotel and room information are required to proceed with booking."}),e.jsx("button",{onClick:()=>s("/hotels"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Browse Hotels"})]})]})}):!x||!y?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Go Back"]}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-orange-500 text-lg font-semibold mb-2",children:"Missing Booking Information"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please select check-in and check-out dates to proceed with booking."}),e.jsx("button",{onClick:()=>s(`/hotels/${m}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Hotel Details"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Back to Hotel"]}),e.jsx(Kb,{hotel:n,roomType:a,checkInDate:x,checkOutDate:y,guests:f,onSuccess:N})]})})},Wb=()=>{const t=le(),[s,n]=h.useState({reviews:[],loading:!0,error:null,totalReviews:0,currentPage:0,totalPages:0}),[r,a]=h.useState(null),[l,i]=h.useState({rating:0,comment:""}),o=10,c=async(p=0)=>{var b;try{n(k=>({...k,loading:!0,error:null}));const w=(await Wt.getMyReviews(p,o,"createdAt")).data.result;n(k=>({...k,reviews:w.content,totalReviews:w.totalElements,currentPage:w.pageNumber,totalPages:w.totalPages,loading:!1}))}catch(v){console.error("Error fetching my reviews:",v);let w="An error occurred while loading reviews.";if(((b=v.response)==null?void 0:b.status)===401){w="You need to log in to view your reviews.",t("/login");return}n(k=>({...k,loading:!1,error:w}))}};h.useEffect(()=>{c()},[]);const d=p=>{a(p.id),i({rating:p.rating,comment:p.comment||""})},u=()=>{a(null),i({rating:0,comment:""})},m=async p=>{try{if(l.rating===0){alert("Please select a star rating");return}if(l.comment.length>2e3){alert("Review content must not exceed 2000 characters");return}await Wt.updateMyReview(p,{rating:l.rating,comment:l.comment.trim()}),await c(s.currentPage),a(null),alert("Review updated successfully!")}catch(b){console.error("Error updating review:",b),alert("An error occurred while updating the review. Please try again.")}},g=async(p,b)=>{var v,w,k;if(window.confirm(`Are you sure you want to delete the review for "${b}"? This action cannot be undone.`))try{await Wt.deleteMyReview(p),n(C=>({...C,reviews:C.reviews.filter(S=>S.id!==p),totalReviews:C.totalReviews-1})),alert("Review has been deleted successfully!")}catch(C){console.error("Error deleting review:",C),((v=C.response)==null?void 0:v.status)===401?alert("You need to log in to delete reviews."):((w=C.response)==null?void 0:w.status)===403?alert("You do not have permission to delete this review."):((k=C.response)==null?void 0:k.status)===404?alert("Review not found."):alert("An error occurred while deleting the review. Please try again.")}},x=p=>{t(`/hotels/${p}`)},y=p=>{c(p)},f=(p,b=!1,v)=>Array(5).fill(0).map((w,k)=>{const C=k+1,S=C<=p;return e.jsx("button",{type:"button",onClick:()=>b&&v&&v(C),className:`${b?"cursor-pointer hover:scale-110":"cursor-default"} transition-transform ${S?"text-yellow-400":"text-gray-300"}`,disabled:!b,children:e.jsx(fe,{size:b?24:16,className:`${S?"fill-current":""}`})},k)}),j=p=>new Date(p).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}),N=p=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Published"]});return s.loading&&s.reviews.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):s.error?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(ue,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"An error occurred"}),e.jsx("p",{className:"text-red-600 mb-4",children:s.error}),e.jsx("button",{onClick:()=>c(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Try again"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Reviews"}),e.jsxs("p",{className:"text-gray-600",children:["Manage and edit your written reviews (",s.totalReviews," reviews)"]})]}),s.reviews.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx(Dn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No reviews yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't written any reviews. Book a stay and share your experience!"}),e.jsx("button",{onClick:()=>t("/hotels"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"Explore hotels"})]}):e.jsx("div",{className:"space-y-6",children:s.reviews.map(p=>e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.hotelName}),N()]}),e.jsx("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),j(p.createdAt)]})})]}),e.jsxs("div",{className:"flex space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>x(p.hotelId),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",title:"View hotel",children:e.jsx(ze,{size:18})}),e.jsx("button",{onClick:()=>d(p),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg",title:"Edit",children:e.jsx(Fe,{size:18})}),e.jsx("button",{onClick:()=>g(p.id,p.hotelName||"this hotel"),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:e.jsx(tt,{size:18})})]})]}),r===p.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsx("div",{className:"flex",children:f(l.rating,!0,b=>i(v=>({...v,rating:b})))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review content"}),e.jsx("textarea",{value:l.comment,onChange:b=>i(v=>({...v,comment:b.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Share your experience...",maxLength:2e3}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[l.comment.length,"/2000"]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200",children:"Cancel"}),e.jsx("button",{onClick:()=>m(p.id),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700",children:"Save changes"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[f(p.rating),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[p.rating,"/5 stars"]})]}),p.comment&&e.jsx("p",{className:"text-gray-700 leading-relaxed",children:p.comment})]})]})},p.id))}),s.totalPages>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>y(s.currentPage-1),disabled:s.currentPage===0,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${s.currentPage===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Previous"}),Array.from({length:Math.min(5,s.totalPages)},(p,b)=>{const v=Math.max(0,Math.min(s.currentPage-2,s.totalPages-5))+b,w=v===s.currentPage;return e.jsx("button",{onClick:()=>y(v),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${w?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:v+1},v)}),e.jsx("button",{onClick:()=>y(s.currentPage+1),disabled:s.currentPage>=s.totalPages-1,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${s.currentPage>=s.totalPages-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Next"})]})})]})})},Ax=({isOpen:t,onClose:s,onConfirm:n,bookingReference:r,loading:a=!1})=>{const[l,i]=h.useState(""),[o,c]=h.useState(!1),d=async()=>{await n(l||void 0),i(""),c(!1)},u=()=>{a||(i(""),c(!1),s())};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-6 w-6 text-red-500 mr-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cancel Booking"})]}),e.jsx("button",{onClick:u,disabled:a,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:e.jsx(ve,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-600 mb-4",children:["Are you sure you want to cancel this booking?",r&&e.jsxs("span",{className:"block font-medium text-gray-900 mt-1",children:["Booking: ",r]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:m=>c(m.target.checked),disabled:a,className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Provide cancellation reason (optional)"})]})}),o&&e.jsx("div",{className:"mb-4",children:e.jsx("textarea",{value:l,onChange:m=>i(m.target.value),placeholder:"Please explain why you're cancelling this booking...",disabled:a,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 disabled:opacity-50",rows:3})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(vs,{className:"h-5 w-5 text-yellow-500 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-700",children:[e.jsx("p",{className:"font-medium mb-1",children:"Cancellation Policy"}),e.jsx("p",{children:"Please review the cancellation terms for your booking. Depending on the timing and hotel policy, cancellation fees may apply."})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[e.jsx("button",{onClick:u,disabled:a,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Keep Booking"}),e.jsx("button",{onClick:d,disabled:a,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 flex items-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Cancelling..."]}):"Cancel Booking"})]})]})}):null},Yb=()=>{var E,R;const{user:t}=on(),{showToast:s}=we(),[n,r]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(null),[c,d]=h.useState(""),[u,m]=h.useState("ALL"),[g,x]=h.useState("ALL"),[y,f]=h.useState(null),[j,N]=h.useState({isOpen:!1});h.useEffect(()=>{p()},[u,g]);const p=async()=>{if(t)try{l(!0);const I={};u!=="ALL"&&(I.status=u),g!=="ALL"&&(I.paymentStatus=g);const U=await Ne.getMyBookings(I);U.data.success?r(U.data.result.content||[]):o("Unable to load bookings")}catch(I){console.error("Error fetching bookings:",I),o("Failed to load bookings")}finally{l(!1)}},b=n.filter(I=>{const U=c.toLowerCase();return I.hotelName.toLowerCase().includes(U)||I.bookingReference.toLowerCase().includes(U)||I.guestName.toLowerCase().includes(U)}),v=I=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(I),w=I=>new Date(I).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric"}),k=I=>{const U={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:Pe,label:"Pending"},CONFIRMED:{color:"bg-green-100 text-green-800",icon:yt,label:"Confirmed"},CANCELLED:{color:"bg-red-100 text-red-800",icon:ue,label:"Cancelled"},CANCELLED_BY_GUEST:{color:"bg-red-100 text-red-800",icon:ue,label:"Cancelled by Guest"},CANCELLED_BY_HOST:{color:"bg-red-100 text-red-800",icon:ue,label:"Cancelled by Host"},COMPLETED:{color:"bg-blue-100 text-blue-800",icon:yt,label:"Completed"},NO_SHOW:{color:"bg-gray-100 text-gray-800",icon:ue,label:"No Show"}},K=U[I]||U.PENDING,q=K.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.color}`,children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),K.label]})},C=I=>{const U={PENDING:{color:"bg-yellow-100 text-yellow-800",label:"Pending"},PAID:{color:"bg-green-100 text-green-800",label:"Paid"},FAILED:{color:"bg-red-100 text-red-800",label:"Failed"},REFUNDED:{color:"bg-blue-100 text-blue-800",label:"Refunded"},PARTIALLY_REFUNDED:{color:"bg-orange-100 text-orange-800",label:"Partial Refund"},REFUND_PENDING:{color:"bg-orange-100 text-orange-800",label:"Refund Pending"},NO_PAYMENT:{color:"bg-gray-100 text-gray-800",label:"No Payment"},CANCELLED:{color:"bg-gray-100 text-gray-800",label:"Payment Cancelled"}},K=U[I]||U.PENDING;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.color}`,children:K.label})},S=I=>{switch(I){case"VNPAY":return"VNPay";case"CASH_ON_CHECKIN":return"Cash on Check-in";default:return"Cash on Check-in"}},P=I=>{N({isOpen:!0,booking:I})},T=async I=>{var U,K;if(j.booking){f(j.booking.id);try{const q=await Ne.cancelMyBooking(j.booking.id,I);if(q.data.success)await p(),N({isOpen:!1}),s("success","Booking Cancelled","Your booking has been cancelled successfully");else throw new Error(q.data.message||"Failed to cancel booking")}catch(q){console.error("Error cancelling booking:",q),s("error","Cancellation Failed",((K=(U=q.response)==null?void 0:U.data)==null?void 0:K.message)||q.message||"Failed to cancel booking")}finally{f(null)}}};return a?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your bookings..."})]})})}):i?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ue,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("div",{className:"text-red-500 text-xl font-semibold mb-2",children:i}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Bookings"}),e.jsx("p",{className:"text-gray-600",children:"Manage and track all your hotel reservations"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search bookings...",value:c,onChange:I=>d(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{children:e.jsxs("select",{value:u,onChange:I=>m(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ALL",children:"All Statuses"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"CANCELLED_BY_GUEST",children:"Cancelled by Guest"}),e.jsx("option",{value:"CANCELLED_BY_HOST",children:"Cancelled by Host"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"NO_SHOW",children:"No Show"})]})}),e.jsx("div",{children:e.jsxs("select",{value:g,onChange:I=>x(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ALL",children:"All Payments"}),e.jsx("option",{value:"PENDING",children:"Payment Pending"}),e.jsx("option",{value:"PAID",children:"Payment Completed"}),e.jsx("option",{value:"FAILED",children:"Payment Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"}),e.jsx("option",{value:"PARTIALLY_REFUNDED",children:"Partial Refund"}),e.jsx("option",{value:"REFUND_PENDING",children:"Refund Pending"}),e.jsx("option",{value:"NO_PAYMENT",children:"No Payment"}),e.jsx("option",{value:"CANCELLED",children:"Payment Cancelled"})]})}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),b.length," booking",b.length!==1?"s":""," found"]})]})}),b.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx(pe,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c||u!=="ALL"||g!=="ALL"?"Try adjusting your search or filters":"You haven't made any bookings yet"}),e.jsx(ce,{to:"/hotels",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Explore Hotels"})]}):e.jsx("div",{className:"space-y-6",children:b.map(I=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:I.hotelName}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[e.jsx(Be,{className:"h-4 w-4 mr-1"}),I.hotelAddress]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:v(I.totalAmount)}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Reference: ",I.bookingReference]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Room"}),e.jsx("div",{className:"font-medium",children:I.roomTypeName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Check-in"}),e.jsx("div",{className:"font-medium",children:w(I.checkInDate)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Check-out"}),e.jsx("div",{className:"font-medium",children:w(I.checkOutDate)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Guests"}),e.jsxs("div",{className:"font-medium flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),I.guests]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[k(I.status),C(I.paymentStatus),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Dt,{className:"h-4 w-4 mr-1"}),S(I.paymentMethod)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(ce,{to:`/bookings/confirmation/${I.id}`,className:"inline-flex items-center px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:["View Details",e.jsx(kx,{className:"h-3 w-3 ml-1"})]}),I.status==="PENDING"&&e.jsx("button",{onClick:()=>P(I),disabled:y===I.id,className:"inline-flex items-center px-3 py-1 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y===I.id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"}),"Cancelling..."]}):"Cancel"})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-6 py-3 border-t",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Booked on ",w(I.createdAt)]}),e.jsxs("span",{className:"text-gray-600",children:[I.numberOfNights," night",I.numberOfNights!==1?"s":""]})]})})]},I.id))}),e.jsx(Ax,{isOpen:j.isOpen,onClose:()=>N({isOpen:!1}),onConfirm:T,bookingReference:(E=j.booking)==null?void 0:E.bookingReference,loading:y===((R=j.booking)==null?void 0:R.id)})]})})},Qb=()=>{const t=Ot(),s=le(),{showToast:n}=we(),[r,a]=h.useState(!0),[l,i]=h.useState(null),[o,c]=h.useState(0);h.useEffect(()=>{d()},[t.search]);const d=async()=>{var j,N,p,b;a(!0);try{const v=new URLSearchParams(t.search),w=v.get("vnp_ResponseCode"),k=v.get("vnp_TxnRef"),C=v.get("vnp_TransactionNo"),S=v.get("vnp_Amount"),P=localStorage.getItem("pendingPayment");let T=null;if(P)try{T=JSON.parse(P)}catch(R){console.error("Error parsing pending payment:",R)}if(!w||!k){i({success:!1,message:"Thng tin thanh ton khng hp l. Vui lng th li.",errorCode:"INVALID_PARAMS"});return}if((await Sl.getReturnResult(new URLSearchParams(t.search))).data.success){const R={success:!0,bookingId:((j=T==null?void 0:T.bookingData)==null?void 0:j.id)||"unknown",transactionNo:C||void 0,amount:S?parseInt(S)/100:(N=T==null?void 0:T.bookingData)==null?void 0:N.totalAmount,message:"Thanh ton thnh cng! t phng ca bn  c xc nhn.",txnRef:k||void 0};if(i(R),localStorage.removeItem("pendingPayment"),n("success","Thnh cng","Thanh ton  c x l thnh cng!"),T!=null&&T.bookingData)try{console.log("Creating booking with data:",T.bookingData)}catch(I){console.error("Error creating booking:",I)}}else{const R=u(w);i({success:!1,message:R,errorCode:w,txnRef:k||void 0}),n("error","Thanh ton tht bi",R)}}catch(v){console.error("Payment return error:",v),i({success:!1,message:((b=(p=v.response)==null?void 0:p.data)==null?void 0:b.message)||"C li xy ra khi x l thanh ton. Vui lng th li.",errorCode:"PROCESSING_ERROR"}),n("error","Li","Khng th x l kt qu thanh ton")}finally{a(!1)}},u=j=>{switch(j){case"00":return"Giao dch thnh cng";case"07":return"Tr tin thnh cng. Giao dch b nghi ng (lin quan ti la o, giao dch bt thng).";case"09":return"Th/Ti khon ca khch hng cha ng k dch v InternetBanking ti ngn hng.";case"10":return"Khch hng xc thc thng tin th/ti khon khng ng qu 3 ln";case"11":return" ht hn ch thanh ton. Xin qu khch vui lng thc hin li giao dch.";case"12":return"Th/Ti khon ca khch hng b kha.";case"13":return"Qu khch nhp sai mt khu xc thc giao dch (OTP). Xin qu khch vui lng thc hin li giao dch.";case"24":return"Khch hng hy giao dch";case"51":return"Ti khon ca qu khch khng  s d  thc hin giao dch.";case"65":return"Ti khon ca Qu khch  vt qu hn mc giao dch trong ngy.";case"75":return"Ngn hng thanh ton ang bo tr.";case"79":return"KH nhp sai mt khu thanh ton qu s ln quy nh. Xin qu khch vui lng thc hin li giao dch";case"70":return"Sai ch k (Signature khng hp l). Vui lng lin h h tr k thut.";case"99":return"Cc li khc (li cn li, khng c trong danh sch m li  lit k)";default:return"Giao dch khng thnh cng. Vui lng th li sau."}},m=j=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j),g=()=>{o<3?(c(j=>j+1),d()):n("warning","Cnh bo"," th li qu nhiu ln. Vui lng lin h h tr.")},x=()=>{s("/my-bookings")},y=()=>{s("/")},f=()=>{s("/contact",{state:{subject:"Vn  thanh ton",message:`Ti gp vn  vi giao dch: ${(l==null?void 0:l.txnRef)||"N/A"}`}})};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center pt-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ang x l thanh ton..."}),e.jsx("p",{className:"text-gray-600",children:"Vui lng i trong giy lt"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:`px-6 py-8 text-center ${l!=null&&l.success?"bg-green-50":"bg-red-50"}`,children:[e.jsx("div",{className:"mb-4",children:l!=null&&l.success?e.jsx(yt,{className:"h-16 w-16 text-green-500 mx-auto"}):e.jsx(Tx,{className:"h-16 w-16 text-red-500 mx-auto"})}),e.jsx("h1",{className:`text-2xl font-bold mb-2 ${l!=null&&l.success?"text-green-800":"text-red-800"}`,children:l!=null&&l.success?"Thanh ton thnh cng!":"Thanh ton tht bi"}),e.jsx("p",{className:`text-lg ${l!=null&&l.success?"text-green-700":"text-red-700"}`,children:l==null?void 0:l.message})]}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Chi tit giao dch"}),e.jsxs("div",{className:"space-y-3",children:[(l==null?void 0:l.txnRef)&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"M giao dch:"}),e.jsx("span",{className:"font-medium text-gray-900",children:l.txnRef})]}),(l==null?void 0:l.transactionNo)&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"M GD Ngn hng:"}),e.jsx("span",{className:"font-medium text-gray-900",children:l.transactionNo})]}),(l==null?void 0:l.amount)&&e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"S tin:"}),e.jsx("span",{className:"font-medium text-gray-900",children:m(l.amount)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"Thi gian:"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date().toLocaleString("vi-VN")})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Trng thi:"}),e.jsx("span",{className:`font-medium px-3 py-1 rounded-full text-sm ${l!=null&&l.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l!=null&&l.success?"Thnh cng":"Tht bi"})]})]})]}),!(l!=null&&l.success)&&(l==null?void 0:l.errorCode)&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(vs,{className:"h-5 w-5 text-yellow-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Thng tin li"}),e.jsxs("p",{className:"text-yellow-700 text-sm",children:["M li: ",l.errorCode]})]})]})})}),e.jsx("div",{className:"px-6 py-6 bg-gray-50 border-t border-gray-200",children:e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:l!=null&&l.success?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:x,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(cb,{className:"h-4 w-4 mr-2"}),"Xem t phng"]}),e.jsxs("button",{onClick:y,className:"flex-1 flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"V trang ch"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:g,disabled:o>=3,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Th li (",3-o,")"]}),e.jsx("button",{onClick:f,className:"flex-1 flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Lin h h tr"}),e.jsxs("button",{onClick:y,className:"flex-1 flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"V trang ch"]})]})})})]}),(l==null?void 0:l.success)&&e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Bc tip theo"}),e.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[e.jsx("li",{children:" Bn s nhn c email xc nhn t phng trong vi pht ti"}),e.jsx("li",{children:' Kim tra thng tin booking trong mc "t phng ca ti"'}),e.jsx("li",{children:" Lin h khch sn trc tip nu cn thay i thng tin"}),e.jsx("li",{children:" Xut trnh email xc nhn khi check-in"})]})]})]})})},Xb=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState({totalHotels:0,activeHotels:0,inactiveHotels:0,featuredHotels:0,totalRoomTypes:0,totalReviews:0,approvedReviews:0,pendingReviews:0,verifiedReviews:0,totalUsers:0}),[a,l]=h.useState(!0),i=async()=>{try{l(!0);const u=await Fy.getDashboard();if(u.data.success)r(u.data.result);else throw new Error("Failed to fetch dashboard stats")}catch(u){console.error("Error fetching dashboard stats:",u),s("error","Error","Unable to load dashboard statistics")}finally{l(!1)}};h.useEffect(()=>{i()},[]);const o=()=>{i()},c=[{label:"Total Users",value:n.totalUsers.toLocaleString(),icon:Ce,color:"blue",description:"Total registered users"},{label:"Total Hotels",value:n.totalHotels.toLocaleString(),icon:et,color:"green",description:"Total hotels in the system"},{label:"Active Hotels",value:n.activeHotels.toLocaleString(),icon:yt,color:"emerald",description:"Number of active hotels"},{label:"Featured Hotels",value:n.featuredHotels.toLocaleString(),icon:lr,color:"yellow",description:"Number of featured hotels"},{label:"Total Room Types",value:n.totalRoomTypes.toLocaleString(),icon:Ct,color:"indigo",description:"Total room types in the system"},{label:"Total Reviews",value:n.totalReviews.toLocaleString(),icon:fe,color:"orange",description:"Total reviews from customers"}],d=u=>{const m={blue:{bg:"bg-blue-50",text:"text-blue-600",icon:"text-blue-500"},green:{bg:"bg-green-50",text:"text-green-600",icon:"text-green-500"},emerald:{bg:"bg-emerald-50",text:"text-emerald-600",icon:"text-emerald-500"},yellow:{bg:"bg-yellow-50",text:"text-yellow-600",icon:"text-yellow-500"},purple:{bg:"bg-purple-50",text:"text-purple-600",icon:"text-purple-500"},orange:{bg:"bg-orange-50",text:"text-orange-600",icon:"text-orange-500"},indigo:{bg:"bg-indigo-50",text:"text-indigo-600",icon:"text-indigo-500"},teal:{bg:"bg-teal-50",text:"text-teal-600",icon:"text-teal-500"}};return m[u]||m.blue};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Admin Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Hotel management system overview"})]}),e.jsxs("button",{onClick:o,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(qe,{size:20,className:`mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:c.map((u,m)=>{const g=u.icon,x=d(u.color);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-full ${x.bg}`,children:e.jsx(g,{className:`h-6 w-6 ${x.icon}`})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:u.label}),e.jsx("h3",{className:`text-2xl font-bold ${x.text}`,children:a?e.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-16 rounded"}):u.value})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:u.description})]},m)})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(pn,{size:20,className:"mr-2 text-blue-500"}),"Quick Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[n.totalHotels>0?Math.round(n.activeHotels/n.totalHotels*100):0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active hotels rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[n.totalHotels>0?Math.round(n.featuredHotels/n.totalHotels*100):0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Featured hotels rate"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.totalReviews&&n.totalHotels>0?Math.round(n.totalReviews/n.totalHotels):0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average reviews/hotel"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsx(Bs,{title:"User Management",description:"Manage user accounts and permissions",icon:e.jsx(Ce,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/users"),stats:`${n.totalUsers.toLocaleString()} users`}),e.jsx(Bs,{title:"Hotel Management",description:"Manage hotel list and information",icon:e.jsx(et,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/hotels"),stats:`${n.totalHotels.toLocaleString()} hotels`}),e.jsx(Bs,{title:"Room Type Management",description:"Manage room types and configurations",icon:e.jsx(Ct,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/room-types"),stats:`${n.totalRoomTypes.toLocaleString()} room types`}),e.jsx(Bs,{title:"Booking Management",description:"View and manage booking orders",icon:e.jsx(ds,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/bookings"),stats:`${n.totalReviews.toLocaleString()} bookings`}),e.jsx(Bs,{title:"Review Management",description:"Approve and manage user reviews",icon:e.jsx(fe,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/reviews"),stats:`${n.totalReviews.toLocaleString()} reviews`}),e.jsx(Bs,{title:"Statistics & Analytics",description:"View reports and system statistics",icon:e.jsx(oa,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/analytics"),stats:"Detailed reports"}),e.jsx(Bs,{title:"Promotion Management",description:"Create and manage promotion codes",icon:e.jsx(Qt,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/promotions"),stats:"Promotion codes"}),e.jsx(Bs,{title:"System Settings",description:"Configure system settings",icon:e.jsx(sn,{className:"h-5 w-5 sm:h-6 sm:w-6"}),onClick:()=>t("/admin/settings"),stats:"Configuration"})]})]})},Bs=({title:t,description:s,icon:n,onClick:r,stats:a})=>e.jsxs("button",{onClick:r,className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 text-left transition-all hover:shadow-md hover:border-blue-200 group",children:[e.jsxs("div",{className:"flex items-center mb-3 sm:mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-2 sm:p-3 rounded-full mr-3 sm:mr-4 group-hover:bg-blue-200 transition-colors",children:n}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold group-hover:text-blue-600 transition-colors",children:t}),a&&e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:a})]})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:s})]}),Jb=()=>{var _,O,Y,W,z,A,F;const t=le(),[s,n]=h.useState("rates"),[r,a]=h.useState(""),[l,i]=h.useState("all"),[o,c]=h.useState(1),[d,u]=h.useState(!1),[m,g]=h.useState(null),x=[{id:"RATE-001",ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",rate:15,isDefault:!1,effectiveDate:"2023-01-01",status:"active",notes:"T l hoa hng c bit cho i tc ln"},{id:"RATE-002",ownerName:"Cng ty TNHH Metropole",ownerId:"OWN-002",rate:12,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-003",ownerName:"Tp on Mng Thanh",ownerId:"OWN-003",rate:10,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-004",ownerName:"Cng ty CP Fusion",ownerId:"OWN-004",propertyName:"Fusion Maia Resort",propertyId:"PROP-004",rate:18,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-005",ownerName:"Tp on Accor",ownerId:"OWN-005",rate:15,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-006",ownerName:"Nguyn Vn Hng",ownerId:"OWN-006",rate:10,isDefault:!1,effectiveDate:"2023-01-01",status:"active"},{id:"RATE-007",ownerName:"Tt c ch khch sn",ownerId:"ALL",rate:20,isDefault:!0,effectiveDate:"2023-01-01",status:"active",notes:"T l hoa hng mc nh cho tt c ch khch sn"},{id:"RATE-008",ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",rate:12,isDefault:!1,effectiveDate:"2023-11-01",expiryDate:"2023-12-31",status:"upcoming",notes:"T l khuyn mi cho ma cao im"}],y=[{id:"PAY-001",invoiceId:"INV-001",bookingId:"BK-001",ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",amount:75e5,commissionAmount:1125e3,commissionRate:15,ownerAmount:6375e3,platformAmount:1125e3,status:"paid",paymentDate:"2023-09-25",dueDate:"2023-09-27"},{id:"PAY-002",invoiceId:"INV-002",bookingId:"BK-002",ownerName:"Cng ty TNHH Metropole",ownerId:"OWN-002",propertyName:"Metropole Hanoi",propertyId:"PROP-002",amount:64e5,commissionAmount:768e3,commissionRate:12,ownerAmount:5632e3,platformAmount:768e3,status:"pending",dueDate:"2023-10-15"},{id:"PAY-003",invoiceId:"INV-003",bookingId:"BK-003",ownerName:"Tp on Mng Thanh",ownerId:"OWN-003",propertyName:"Mng Thanh Luxury",propertyId:"PROP-003",amount:84e5,commissionAmount:84e4,commissionRate:10,ownerAmount:756e4,platformAmount:84e4,status:"paid",paymentDate:"2023-08-20",dueDate:"2023-08-22"},{id:"PAY-004",invoiceId:"INV-004",bookingId:"BK-004",ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",amount:36e5,commissionAmount:54e4,commissionRate:15,ownerAmount:306e4,platformAmount:54e4,status:"processing",dueDate:"2023-10-17"},{id:"PAY-005",invoiceId:"INV-005",bookingId:"BK-005",ownerName:"Cng ty TNHH Metropole",ownerId:"OWN-002",propertyName:"Metropole Hanoi",propertyId:"PROP-002",amount:96e5,commissionAmount:1152e3,commissionRate:12,ownerAmount:8448e3,platformAmount:1152e3,status:"paid",paymentDate:"2023-10-10",dueDate:"2023-10-12"},{id:"PAY-006",invoiceId:"INV-006",bookingId:"BK-006",ownerName:"Cng ty CP Fusion",ownerId:"OWN-004",propertyName:"Fusion Maia Resort",propertyId:"PROP-004",amount:125e5,commissionAmount:225e4,commissionRate:18,ownerAmount:1025e4,platformAmount:225e4,status:"paid",paymentDate:"2023-10-15",dueDate:"2023-10-19"},{id:"PAY-007",invoiceId:"INV-007",bookingId:"BK-007",ownerName:"Tp on Accor",ownerId:"OWN-005",propertyName:"Pullman Saigon",propertyId:"PROP-005",amount:84e5,commissionAmount:126e4,commissionRate:15,ownerAmount:714e4,platformAmount:126e4,status:"pending",dueDate:"2023-10-22"},{id:"PAY-008",invoiceId:"INV-008",bookingId:"BK-008",ownerName:"Nguyn Vn Hng",ownerId:"OWN-006",propertyName:"Sapa Homestay",propertyId:"PROP-006",amount:24e5,commissionAmount:24e4,commissionRate:10,ownerAmount:216e4,platformAmount:24e4,status:"pending",dueDate:"2023-10-25"}],f=5,j=x.filter(B=>{const se=B.ownerName.toLowerCase().includes(r.toLowerCase())||B.propertyName&&B.propertyName.toLowerCase().includes(r.toLowerCase()),oe=l==="all"||B.status===l;return se&&oe}),N=y.filter(B=>{const se=B.ownerName.toLowerCase().includes(r.toLowerCase())||B.propertyName.toLowerCase().includes(r.toLowerCase())||B.invoiceId.toLowerCase().includes(r.toLowerCase())||B.bookingId.toLowerCase().includes(r.toLowerCase()),oe=l==="all"||B.status===l;return se&&oe}),p=Math.ceil((s==="rates"?j:N).length/f),b=(s==="rates"?j:N).slice((o-1)*f,o*f),v=B=>{const se={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(B).toLocaleDateString("vi-VN",se)},w=B=>B.toLocaleString("vi-VN")+"",k=B=>{t(`/admin/invoices/${B}`)},C=B=>{t(`/admin/bookings/${B}`)},S=B=>{t(`/admin/users/${B}`)},P=B=>{t(`/admin/hotels/${B}`)},T=()=>{u(!0)},E=B=>{g(B)},R=B=>{window.confirm("Bn c chc chn mun xa t l hoa hng ny khng?")&&alert(` xa t l hoa hng c ID: ${B}`)},I=()=>{alert(" lu t l hoa hng"),u(!1),g(null)},U=()=>{u(!1),g(null)},K=B=>{alert(` nh du thanh ton c ID: ${B} l  thanh ton`)},q=B=>{switch(B){case"active":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"ang p dng"});case"expired":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:" ht hn"});case"upcoming":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Sp p dng"});case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" thanh ton"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Ch thanh ton"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"ang x l"});default:return null}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Qun l hoa hng"}),s==="rates"&&e.jsxs("button",{onClick:T,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Thm t l hoa hng mi"]})]}),e.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[e.jsx("button",{className:`py-2 px-4 font-medium text-sm ${s==="rates"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>{n("rates"),c(1),i("all")},children:"T l hoa hng"}),e.jsx("button",{className:`py-2 px-4 font-medium text-sm ${s==="payments"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>{n("payments"),c(1),i("all")},children:"Thanh ton hoa hng"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:s==="rates"?"Tm kim theo tn ch khch sn, khch sn...":"Tm kim theo m ha n, t phng, ch khch sn...",value:r,onChange:B=>a(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:l,onChange:B=>i(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tt c trng thi"}),s==="rates"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"active",children:"ang p dng"}),e.jsx("option",{value:"expired",children:" ht hn"}),e.jsx("option",{value:"upcoming",children:"Sp p dng"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"paid",children:" thanh ton"}),e.jsx("option",{value:"pending",children:"Ch thanh ton"}),e.jsx("option",{value:"processing",children:"ang x l"})]})]})]})]})}),(d||m)&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:d?"Thm t l hoa hng mi":"Chnh sa t l hoa hng"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ch khch sn"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m?(_=x.find(B=>B.id===m))==null?void 0:_.ownerId:"",children:[e.jsx("option",{value:"",children:"-- Chn ch khch sn --"}),e.jsx("option",{value:"ALL",children:"Tt c ch khch sn (Mc nh)"}),e.jsx("option",{value:"OWN-001",children:"Cng ty CP Vinpearl"}),e.jsx("option",{value:"OWN-002",children:"Cng ty TNHH Metropole"}),e.jsx("option",{value:"OWN-003",children:"Tp on Mng Thanh"}),e.jsx("option",{value:"OWN-004",children:"Cng ty CP Fusion"}),e.jsx("option",{value:"OWN-005",children:"Tp on Accor"}),e.jsx("option",{value:"OWN-006",children:"Nguyn Vn Hng"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Khch sn (ty chn)"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m?(O=x.find(B=>B.id===m))==null?void 0:O.propertyId:"",children:[e.jsx("option",{value:"",children:"-- Tt c khch sn --"}),e.jsx("option",{value:"PROP-001",children:"Vinpearl Resort & Spa Nha Trang"}),e.jsx("option",{value:"PROP-002",children:"Metropole Hanoi"}),e.jsx("option",{value:"PROP-003",children:"Mng Thanh Luxury  Nng"}),e.jsx("option",{value:"PROP-004",children:"Fusion Maia Resort"}),e.jsx("option",{value:"PROP-005",children:"Pullman Saigon"}),e.jsx("option",{value:"PROP-006",children:"Sapa Homestay"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T l hoa hng (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m?(Y=x.find(B=>B.id===m))==null?void 0:Y.rate:20})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy bt u p dng"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m?(W=x.find(B=>B.id===m))==null?void 0:W.effectiveDate:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy ht hn (ty chn)"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",defaultValue:m&&((z=x.find(B=>B.id===m))!=null&&z.expiryDate)?(A=x.find(B=>B.id===m))==null?void 0:A.expiryDate:""})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ghi ch (ty chn)"}),e.jsx("textarea",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,defaultValue:m?(F=x.find(B=>B.id===m))==null?void 0:F.notes:""})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-2",children:[e.jsx("button",{onClick:U,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsxs("button",{onClick:I,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(rt,{size:18,className:"mr-2"}),"Lu"]})]})]}),s==="rates"&&e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ch khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T l"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian p dng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(B=>e.jsxs("tr",{className:`hover:bg-gray-50 ${B.isDefault?"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.ownerId==="ALL"?e.jsxs("div",{className:"flex items-center",children:[e.jsx(kt,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.ownerName}),e.jsx("div",{className:"text-xs text-blue-600",children:"T l mc nh"})]})]}):e.jsxs("button",{onClick:()=>S(B.ownerId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(kt,{size:14,className:"mr-1"}),B.ownerName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.propertyName?e.jsx("button",{onClick:()=>P(B.propertyId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:B.propertyName}):e.jsx("span",{className:"text-sm text-gray-500",children:"Tt c khch sn"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(gr,{size:16,className:"text-gray-500 mr-1"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[B.rate,"%"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["T: ",v(B.effectiveDate)]}),B.expiryDate&&e.jsxs("div",{className:"text-sm text-gray-500",children:["n: ",v(B.expiryDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q(B.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>E(B.id),className:"text-blue-600 hover:text-blue-900",title:"Chnh sa",children:e.jsx(Fe,{size:18})}),!B.isDefault&&e.jsx("button",{onClick:()=>R(B.id),className:"text-red-600 hover:text-red-900",title:"Xa",children:e.jsx(tt,{size:18})})]})})]},B.id))})]})})}),s==="payments"&&e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M thanh ton"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ch khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tng tin"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.id}),e.jsxs("div",{className:"flex space-x-2 text-xs text-gray-500",children:[e.jsx("button",{onClick:()=>k(B.invoiceId),className:"text-blue-600 hover:text-blue-900",children:B.invoiceId}),e.jsx("span",{children:"|"}),e.jsx("button",{onClick:()=>C(B.bookingId),className:"text-blue-600 hover:text-blue-900",children:B.bookingId})]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>S(B.ownerId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(kt,{size:14,className:"mr-1"}),B.ownerName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>P(B.propertyId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:B.propertyName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w(B.amount)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[w(B.commissionAmount)," (",B.commissionRate,"%)"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Nn tng: ",w(B.platformAmount)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"mb-1",children:q(B.status)}),B.status==="pending"?e.jsxs("div",{className:"text-xs text-gray-500",children:["Hn: ",v(B.dueDate)]}):B.paymentDate?e.jsxs("div",{className:"text-xs text-gray-500",children:["Ngy TT: ",v(B.paymentDate)]}):null]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[B.status==="pending"&&e.jsx("button",{onClick:()=>K(B.id),className:"text-green-600 hover:text-green-900",title:"nh du  thanh ton",children:e.jsx(Qe,{size:18})}),e.jsx("button",{onClick:()=>k(B.invoiceId),className:"text-blue-600 hover:text-blue-900",title:"Xem ha n",children:e.jsx(FileText,{size:18})})]})})]},B.id))})]})})}),p>1&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Trc"}),e.jsx("button",{onClick:()=>c(Math.min(p,o+1)),disabled:o===p,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===p?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hin th ",e.jsx("span",{className:"font-medium",children:(o-1)*f+1})," n"," ",e.jsx("span",{className:"font-medium",children:Math.min(o*f,(s==="rates"?j:N).length)})," ","trong tng s ",e.jsx("span",{className:"font-medium",children:(s==="rates"?j:N).length})," ",s==="rates"?"t l hoa hng":"thanh ton hoa hng"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${o===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang trc"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:p}).map((B,se)=>e.jsx("button",{onClick:()=>c(se+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===se+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:se+1},se)),e.jsxs("button",{onClick:()=>c(Math.min(p,o+1)),disabled:o===p,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${o===p?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]}),b.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:s==="rates"?"Khng tm thy t l hoa hng no":"Khng tm thy thanh ton hoa hng no"}),e.jsx("p",{className:"text-gray-600",children:s==="rates"?"Khng c t l hoa hng no ph hp vi tiu ch tm kim ca bn.":"Khng c thanh ton hoa hng no ph hp vi tiu ch tm kim ca bn."}),s==="rates"&&e.jsxs("button",{onClick:T,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center mx-auto",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Thm t l hoa hng mi"]})]})]})},Zb=()=>{const t=le(),[s,n]=h.useState(""),[r,a]=h.useState("all"),[l,i]=h.useState("all"),[o,c]=h.useState(1),d=[{id:"INV-001",bookingId:"BK-001",guestName:"Nguyn Vn An",guestId:"USER-001",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",amount:75e5,commission:{rate:15,amount:1125e3,ownerAmount:6375e3,platformAmount:1125e3,status:"paid"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-09-20",issueDate:"2023-09-20",dueDate:"2023-09-27"},{id:"INV-002",bookingId:"BK-002",guestName:"Trn Th Bnh",guestId:"USER-002",propertyName:"Metropole Hanoi",propertyId:"PROP-002",ownerName:"Cng ty TNHH Metropole",ownerId:"OWN-002",amount:64e5,commission:{rate:12,amount:768e3,ownerAmount:5632e3,platformAmount:768e3,status:"pending"},status:"pending",paymentMethod:"Bank Transfer",issueDate:"2023-10-01",dueDate:"2023-10-08"},{id:"INV-003",bookingId:"BK-003",guestName:"L Vn Cng",guestId:"USER-003",propertyName:"Mng Thanh Luxury",propertyId:"PROP-003",ownerName:"Tp on Mng Thanh",ownerId:"OWN-003",amount:84e5,commission:{rate:10,amount:84e4,ownerAmount:756e4,platformAmount:84e4,status:"paid"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-08-15",issueDate:"2023-08-15",dueDate:"2023-08-22"},{id:"INV-004",bookingId:"BK-004",guestName:"Phm Th Dung",guestId:"USER-004",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",amount:36e5,commission:{rate:15,amount:54e4,ownerAmount:306e4,platformAmount:54e4,status:"processing"},status:"refunded",paymentMethod:"Credit Card",paymentDate:"2023-10-12",issueDate:"2023-10-10",dueDate:"2023-10-17"},{id:"INV-005",bookingId:"BK-005",guestName:"Hong Vn Em",guestId:"USER-005",propertyName:"Metropole Hanoi",propertyId:"PROP-002",ownerName:"Cng ty TNHH Metropole",ownerId:"OWN-002",amount:96e5,commission:{rate:12,amount:1152e3,ownerAmount:8448e3,platformAmount:1152e3,status:"paid"},status:"paid",paymentMethod:"Bank Transfer",paymentDate:"2023-10-06",issueDate:"2023-10-05",dueDate:"2023-10-12"},{id:"INV-006",bookingId:"BK-006",guestName:"Ng Th Phng",guestId:"USER-006",propertyName:"Fusion Maia Resort",propertyId:"PROP-004",ownerName:"Cng ty CP Fusion",ownerId:"OWN-004",amount:125e5,commission:{rate:18,amount:225e4,ownerAmount:1025e4,platformAmount:225e4,status:"paid"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-10-13",issueDate:"2023-10-12",dueDate:"2023-10-19"},{id:"INV-007",bookingId:"BK-007",guestName:" Vn Giang",guestId:"USER-007",propertyName:"Pullman Saigon",propertyId:"PROP-005",ownerName:"Tp on Accor",ownerId:"OWN-005",amount:84e5,commission:{rate:15,amount:126e4,ownerAmount:714e4,platformAmount:126e4,status:"pending"},status:"pending",paymentMethod:"Bank Transfer",issueDate:"2023-10-15",dueDate:"2023-10-22"},{id:"INV-008",bookingId:"BK-008",guestName:"V Th Hng",guestId:"USER-008",propertyName:"Sapa Homestay",propertyId:"PROP-006",ownerName:"Nguyn Vn Hng",ownerId:"OWN-006",amount:24e5,commission:{rate:10,amount:24e4,ownerAmount:216e4,platformAmount:24e4,status:"pending"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-10-19",issueDate:"2023-10-18",dueDate:"2023-10-25"}],u=5,m=d.filter(P=>{const T=P.id.toLowerCase().includes(s.toLowerCase())||P.bookingId.toLowerCase().includes(s.toLowerCase())||P.guestName.toLowerCase().includes(s.toLowerCase())||P.propertyName.toLowerCase().includes(s.toLowerCase())||P.ownerName.toLowerCase().includes(s.toLowerCase()),E=r==="all"||P.status===r;let R=!0;const I=new Date,U=new Date(P.issueDate),K=new Date(P.dueDate);if(l==="thisMonth"){const q=I.getMonth(),_=I.getFullYear();R=U.getMonth()===q&&U.getFullYear()===_}else if(l==="lastMonth"){const q=I.getMonth()===0?11:I.getMonth()-1,_=I.getMonth()===0?I.getFullYear()-1:I.getFullYear();R=U.getMonth()===q&&U.getFullYear()===_}else l==="overdue"&&(R=K<I&&P.status==="pending");return T&&E&&R}),g=Math.ceil(m.length/u),x=m.slice((o-1)*u,o*u),y=P=>{const T={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(P).toLocaleDateString("vi-VN",T)},f=P=>P.toLocaleString("vi-VN")+"",j=P=>{t(`/admin/invoices/${P}`)},N=P=>{t(`/admin/bookings/${P}`)},p=P=>{t(`/admin/users/${P}`)},b=P=>{t(`/admin/hotels/${P}`)},v=P=>{t(`/admin/users/${P}`)},w=P=>{alert(` ti xung ha n c ID: ${P}`)},k=()=>{alert(" xut danh sch ha n")},C=P=>{switch(P){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" thanh ton"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Ch thanh ton"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:" hy"});case"refunded":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:" hon tin"});default:return null}},S=P=>{switch(P){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" thanh ton"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Ch thanh ton"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"ang x l"});default:return null}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Qun l ha n"}),e.jsxs("button",{onClick:k,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Pn,{size:20,className:"mr-2"}),"Xut d liu"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Tm kim theo m ha n, t phng, tn khch, khch sn...",value:s,onChange:P=>n(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:r,onChange:P=>a(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tt c trng thi"}),e.jsx("option",{value:"paid",children:" thanh ton"}),e.jsx("option",{value:"pending",children:"Ch thanh ton"}),e.jsx("option",{value:"cancelled",children:" hy"}),e.jsx("option",{value:"refunded",children:" hon tin"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("select",{value:l,onChange:P=>i(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tt c thi gian"}),e.jsx("option",{value:"thisMonth",children:"Thng ny"}),e.jsx("option",{value:"lastMonth",children:"Thng trc"}),e.jsx("option",{value:"overdue",children:"Qu hn"})]})})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ha n"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch hng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ch khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S tin"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(P=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.id}),e.jsx("button",{onClick:()=>N(P.bookingId),className:"text-xs text-blue-600 hover:text-blue-900",children:P.bookingId})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),"Ngy: ",y(P.issueDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>p(P.guestId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(He,{size:14,className:"mr-1"}),P.guestName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>b(P.propertyId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:P.propertyName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>v(P.ownerId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(kt,{size:14,className:"mr-1"}),P.ownerName]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:f(P.amount)}),e.jsx("div",{className:"text-xs text-gray-500",children:P.paymentMethod})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[f(P.commission.amount)," (",P.commission.rate,"%)"]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Pe,{size:14,className:"mr-1 text-gray-500"}),S(P.commission.status)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"mb-1",children:C(P.status)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Hn: ",y(P.dueDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>j(P.id),className:"text-blue-600 hover:text-blue-900",title:"Xem chi tit",children:e.jsx(ze,{size:18})}),e.jsx("button",{onClick:()=>w(P.id),className:"text-green-600 hover:text-green-900",title:"Ti xung",children:e.jsx(Pn,{size:18})})]})})]},P.id))})]})}),g>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Trc"}),e.jsx("button",{onClick:()=>c(Math.min(g,o+1)),disabled:o===g,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===g?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hin th ",e.jsx("span",{className:"font-medium",children:(o-1)*u+1})," n"," ",e.jsx("span",{className:"font-medium",children:Math.min(o*u,m.length)})," ","trong tng s ",e.jsx("span",{className:"font-medium",children:m.length})," ha n"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${o===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang trc"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:g}).map((P,T)=>e.jsx("button",{onClick:()=>c(T+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===T+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:T+1},T)),e.jsxs("button",{onClick:()=>c(Math.min(g,o+1)),disabled:o===g,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${o===g?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),x.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Khng tm thy ha n no"}),e.jsx("p",{className:"text-gray-600",children:"Khng c ha n no ph hp vi tiu ch tm kim ca bn."})]})]})},ej=()=>{const{id:t}=ot(),s=le(),[n,r]=h.useState(!1),[a,l]=h.useState(""),i={id:"INV-001",bookingId:"BK-001",guestName:"Nguyn Vn An",guestId:"USER-001",guestEmail:"nguyenvanan@example.com",guestPhone:"0901234567",guestAddress:"123 Nguyn Hu, Qun 1, TP. H Ch Minh",propertyName:"Vinpearl Resort & Spa",propertyId:"PROP-001",propertyAddress:"Vinpearl Resort, Nha Trang, Khnh Ha",ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"contact@vinpearl.com",ownerPhone:"1900 2345",ownerAddress:"7 ng Trng Sa, Vnh Ha, Nha Trang, Khnh Ha",ownerTaxId:"0123456789",roomName:"Deluxe Ocean View",checkIn:"2023-10-15",checkOut:"2023-10-18",nights:3,guests:{adults:2,children:0},items:[{description:"Deluxe Ocean View - 3 m",quantity:3,unitPrice:23e5,amount:69e5},{description:"Ph dch v",quantity:1,unitPrice:3e5,amount:3e5},{description:"Thu VAT (10%)",quantity:1,unitPrice:3e5,amount:3e5}],subtotal:72e5,taxRate:10,taxAmount:3e5,totalAmount:75e5,commission:{rate:15,amount:1125e3,ownerAmount:6375e3,platformAmount:1125e3,status:"paid",paidDate:"2023-09-25"},status:"paid",paymentMethod:"Credit Card",paymentDate:"2023-09-20",issueDate:"2023-09-20",dueDate:"2023-09-27",notes:"Khch hng VIP,   nhiu ln ti khch sn."},o=v=>{const w={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(v).toLocaleDateString("vi-VN",w)},c=v=>v.toLocaleString("vi-VN")+"",d=()=>{s("/admin/invoices")},u=()=>{window.print()},m=()=>{alert(` ti xung ha n c ID: ${t}`)},g=()=>{alert(` gi ha n n khch hng: ${i.guestEmail}`)},x=()=>{s(`/admin/bookings/${i.bookingId}`)},y=()=>{s(`/admin/users/${i.guestId}`)},f=()=>{s(`/admin/hotels/${i.propertyId}`)},j=()=>{s(`/admin/users/${i.ownerId}`)},N=()=>{alert(" lu ghi ch"),r(!1)},p=v=>{switch(v){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" thanh ton"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Ch thanh ton"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:" hy"});case"refunded":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800",children:" hon tin"});default:return null}},b=v=>{switch(v){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" thanh ton"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Ch thanh ton"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"ang x l"});default:return null}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:d,className:"mr-4 text-gray-600 hover:text-gray-900",children:e.jsx(ge,{size:24})}),e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold",children:["Ha n #",i.id]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsxs("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[e.jsx(Uc,{size:18,className:"mr-2"}),"In ha n"]}),e.jsxs("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Pn,{size:18,className:"mr-2"}),"Ti ha n"]}),e.jsxs("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(De,{size:18,className:"mr-2"}),"Gi ha n"]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:[e.jsx(os,{size:18,className:"mr-2"}),"Xem t phng"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Trng thi ha n"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p(i.status)}),e.jsxs("p",{className:"text-gray-600",children:["Ngy pht hnh: ",o(i.issueDate)]}),e.jsxs("p",{className:"text-gray-600",children:["Hn thanh ton: ",o(i.dueDate)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-600",children:"Tng thanh ton"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c(i.totalAmount)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Thanh ton ngy ",o(i.paymentDate)]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(He,{size:20,className:"mr-2 text-blue-600"}),"Thng tin khch hng"]}),e.jsx("button",{onClick:y,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem h s"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.guestName}),e.jsx("p",{className:"text-gray-600",children:i.guestEmail}),e.jsx("p",{className:"text-gray-600",children:i.guestPhone}),e.jsx("p",{className:"text-gray-600",children:i.guestAddress})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(kt,{size:20,className:"mr-2 text-blue-600"}),"Thng tin khch sn"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:f,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem khch sn"}),e.jsx("button",{onClick:j,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem ch s hu"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.propertyName}),e.jsx("p",{className:"text-gray-600",children:i.propertyAddress}),e.jsxs("p",{className:"text-gray-600",children:["Ch s hu: ",i.ownerName]}),e.jsxs("p",{className:"text-gray-600",children:["M s thu: ",i.ownerTaxId]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(pe,{size:20,className:"mr-2 text-blue-600"}),"Chi tit t phng"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"M t phng:"}),e.jsx("p",{className:"font-medium",children:i.bookingId})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Phng:"}),e.jsx("p",{className:"font-medium",children:i.roomName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"S khch:"}),e.jsxs("p",{className:"font-medium",children:[i.guests.adults," ngi ln, ",i.guests.children," tr em"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Ngy nhn phng:"}),e.jsx("p",{className:"font-medium",children:o(i.checkIn)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Ngy tr phng:"}),e.jsx("p",{className:"font-medium",children:o(i.checkOut)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"S m:"}),e.jsxs("p",{className:"font-medium",children:[i.nights," m"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-600"}),"Chi tit ha n"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M t"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S lng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"n gi"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thnh tin"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.items.map((v,w)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:v.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:v.quantity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:c(v.unitPrice)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:c(v.amount)})]},w))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:"Tng cng:"}),e.jsx("td",{className:"px-6 py-3 text-right text-sm font-medium text-gray-900",children:c(i.totalAmount)})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(gr,{size:20,className:"mr-2 text-blue-600"}),"Chi tit hoa hng"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"T l hoa hng:"}),e.jsxs("span",{className:"font-medium",children:[i.commission.rate,"%"]})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"S tin hoa hng:"}),e.jsx("span",{className:"font-medium",children:c(i.commission.amount)})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"S tin ch khch sn nhn:"}),e.jsx("span",{className:"font-medium",children:c(i.commission.ownerAmount)})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"S tin nn tng nhn:"}),e.jsx("span",{className:"font-medium",children:c(i.commission.platformAmount)})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Trng thi thanh ton hoa hng"}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Pe,{size:16,className:"mr-2 text-gray-500"}),e.jsx("span",{className:"mr-2",children:"Trng thi:"}),b(i.commission.status)]}),e.jsxs("p",{className:"text-gray-600",children:["Ngy thanh ton: ",o(i.commission.paidDate)]}),i.commission.status==="pending"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{size:20,className:"mr-2 text-blue-600"}),"Thng tin thanh ton"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Phng thc thanh ton:"}),e.jsx("span",{className:"font-medium",children:i.paymentMethod})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Trng thi thanh ton:"}),e.jsx("span",{children:p(i.status)})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Ngy thanh ton:"}),e.jsx("span",{className:"font-medium",children:o(i.paymentDate)})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Hn thanh ton:"}),e.jsx("span",{className:"font-medium",children:o(i.dueDate)})]})]})}),e.jsxs("div",{children:[i.status==="pending",e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Ha n  thanh ton"}),e.jsxs("p",{className:"text-green-700",children:["Ha n ny  c thanh ton y  vo ngy ",o(i.paymentDate),"."]})]}),i.status==="cancelled",i.status==="refunded"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2 text-blue-600"}),"Ghi ch ni b"]}),!n&&e.jsxs("button",{onClick:()=>r(!0),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(Fe,{size:16,className:"mr-1"}),"Chnh sa"]})]}),n?e.jsxs("div",{children:[e.jsx("textarea",{value:a||i.notes||"",onChange:v=>l(v.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[100px]",placeholder:"Thm ghi ch v ha n ny..."}),e.jsxs("div",{className:"flex justify-end mt-3 space-x-2",children:[e.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(rt,{size:16,className:"mr-2"}),"Lu"]})]})]}):e.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg min-h-[60px]",children:i.notes})]})]})},tj=({selectedHotelIds:t,onHotelSelectionChange:s,error:n})=>{const{showToast:r}=we(),[a,l]=h.useState(""),[i,o]=h.useState([]),[c,d]=h.useState([]),[u,m]=h.useState(!1),[g,x]=h.useState(!1),[y,f]=h.useState(null);h.useEffect(()=>{t.length>0&&j()},[t]);const j=async()=>{try{const C=t.map(T=>me.getHotelDetails(T)),P=(await Promise.all(C)).filter(T=>T.data.success).map(T=>T.data.result);d(P)}catch(C){console.error("Error loading selected hotels:",C)}},N=h.useCallback(C=>{y&&clearTimeout(y);const S=setTimeout(()=>{C.trim().length>=2?p(C.trim()):o([])},300);f(S)},[y]),p=async C=>{try{m(!0);const S=await me.searchHotels(C,0,20,"name");if(S.data.success){const P=S.data.result.content.filter(T=>!t.includes(T.id));o(P)}}catch(S){console.error("Error searching hotels:",S),r("error","Li","Khng th tm kim khch sn")}finally{m(!1)}},b=C=>{const S=C.target.value;l(S),N(S),S.length>=2?x(!0):x(!1)},v=C=>{const S=[...t,C.id],P=[...c,C];d(P),s(S),o(i.filter(T=>T.id!==C.id)),l(""),x(!1)},w=C=>{const S=t.filter(T=>T!==C),P=c.filter(T=>T.id!==C);d(P),s(S)},k=C=>{const S=[];return C.city&&S.push(C.city),C.country&&S.push(C.country),S.join(", ")};return e.jsxs("div",{className:"space-y-4",children:[c.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Khch sn  chn (",c.length,")"]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.map(C=>e.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(kt,{size:16,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:C.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[C.starRating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{size:12,className:"text-yellow-400 fill-current mr-1"}),e.jsx("span",{children:C.starRating})]}),k(C)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{size:12,className:"mr-1"}),e.jsx("span",{children:k(C)})]})]})]})]}),e.jsx("button",{onClick:()=>w(C.id),className:"text-red-600 hover:text-red-800 p-1",title:"Xa khi danh sch",children:e.jsx(ve,{size:16})})]},C.id))})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tm kim v thm khch sn"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(at,{size:16,className:"text-gray-400"})}),e.jsx("input",{type:"text",value:a,onChange:b,onFocus:()=>a.length>=2&&x(!0),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"border-red-500":"border-gray-300"}`,placeholder:"Nhp tn khch sn  tm kim (ti thiu 2 k t)..."}),u&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),g&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:i.length>0?e.jsx("div",{className:"py-1",children:i.map(C=>e.jsx("button",{onClick:()=>v(C),className:"w-full text-left px-4 py-3 hover:bg-gray-50 focus:bg-gray-50 focus:outline-none",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(kt,{size:16,className:"text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:C.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[C.starRating&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{size:12,className:"text-yellow-400 fill-current mr-1"}),e.jsx("span",{children:C.starRating})]}),k(C)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{size:12,className:"mr-1"}),e.jsx("span",{children:k(C)})]})]})]})]})},C.id))}):a.length>=2&&!u?e.jsxs("div",{className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(kt,{size:24,className:"mx-auto text-gray-400 mb-2"}),e.jsx("p",{children:"Khng tm thy khch sn no"}),e.jsx("p",{className:"text-sm",children:"Th tm vi t kha khc"})]}):a.length<2?e.jsx("div",{className:"px-4 py-4 text-center text-gray-500 text-sm",children:"Nhp t nht 2 k t  tm kim"}):null})]}),g&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>x(!1)}),n&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center mt-1",children:[e.jsx(ve,{size:16,className:"mr-1"}),n]}),e.jsx("p",{className:"text-sm text-gray-500",children:" G tn khch sn  tm kim v chn nhiu khch sn cng lc"})]})},sj=({voucher:t,onSubmit:s,onCancel:n,isLoading:r=!1})=>{const[a,l]=h.useState({code:(t==null?void 0:t.code)||"",name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",discountType:(t==null?void 0:t.discountType)||ns.PERCENTAGE,discountValue:(t==null?void 0:t.discountValue)||0,maxDiscount:(t==null?void 0:t.maxDiscount)||void 0,minBookingValue:(t==null?void 0:t.minBookingValue)||void 0,startDate:t!=null&&t.startDate?t.startDate.substring(0,16):"",endDate:t!=null&&t.endDate?t.endDate.substring(0,16):"",usageLimit:(t==null?void 0:t.usageLimit)||void 0,applicableScope:(t==null?void 0:t.applicableScope)||In.ALL_HOTELS,hotelIds:(t==null?void 0:t.hotelIds)||[]}),[i,o]=h.useState({}),c=()=>{const m={};if(a.code?/^[A-Z0-9]+$/.test(a.code)||(m.code="M voucher ch c cha ch in hoa v s"):m.code="M voucher l bt buc",a.name||(m.name="Tn voucher l bt buc"),(!a.discountValue||a.discountValue<=0)&&(m.discountValue="Gi tr gim gi phi ln hn 0"),a.startDate||(m.startDate="Ngy bt u l bt buc"),a.endDate||(m.endDate="Ngy kt thc l bt buc"),a.startDate&&a.endDate){const g=new Date(a.startDate);new Date(a.endDate)<=g&&(m.endDate="Ngy kt thc phi sau ngy bt u")}return a.discountType===ns.PERCENTAGE&&(a.discountValue>100&&(m.discountValue="Phn trm gim gi khng c vt qu 100%"),a.maxDiscount||(m.maxDiscount="S tin gim ti a l bt buc cho voucher phn trm")),a.applicableScope===In.SPECIFIC_HOTELS&&(!a.hotelIds||a.hotelIds.length===0)&&(m.hotelIds="Phi chn t nht mt khch sn khi p dng cho khch sn c th"),o(m),Object.keys(m).length===0},d=m=>{if(m.preventDefault(),c()){const g={...a,startDate:new Date(a.startDate).toISOString(),endDate:new Date(a.endDate).toISOString()};s(g)}},u=(m,g)=>{l(x=>({...x,[m]:g})),i[m]&&o(x=>({...x,[m]:""}))};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t?"Chnh sa voucher":"To voucher mi"}),e.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:e.jsx(ve,{size:24})})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M voucher *"}),e.jsx("input",{type:"text",value:a.code,onChange:m=>u("code",m.target.value.toUpperCase()),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.code?"border-red-500":"border-gray-300"}`,placeholder:"VD: SUMMER2024"}),i.code&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{size:16,className:"mr-1"}),i.code]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn voucher *"}),e.jsx("input",{type:"text",value:a.name,onChange:m=>u("name",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.name?"border-red-500":"border-gray-300"}`,placeholder:"VD: Khuyn mi ma h"}),i.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{size:16,className:"mr-1"}),i.name]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),e.jsx("textarea",{value:a.description,onChange:m=>u("description",m.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"M t chi tit v voucher..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi gim gi *"}),e.jsxs("select",{value:a.discountType,onChange:m=>u("discountType",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:ns.PERCENTAGE,children:"Gim theo phn trm"}),e.jsx("option",{value:ns.HOTEL_SPECIFIC,children:"Khch sn c th"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Gi tr gim gi * ",a.discountType===ns.PERCENTAGE?"(%)":"(VN)"]}),e.jsx("input",{type:"number",value:a.discountValue,onChange:m=>u("discountValue",Number(m.target.value)),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.discountValue?"border-red-500":"border-gray-300"}`,placeholder:a.discountType===ns.PERCENTAGE?"20":"500000",min:"0",max:a.discountType===ns.PERCENTAGE?"100":void 0}),i.discountValue&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{size:16,className:"mr-1"}),i.discountValue]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.discountType===ns.PERCENTAGE&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S tin gim ti a * (VN)"}),e.jsx("input",{type:"number",value:a.maxDiscount||"",onChange:m=>u("maxDiscount",m.target.value?Number(m.target.value):void 0),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.maxDiscount?"border-red-500":"border-gray-300"}`,placeholder:"2000000",min:"0"}),i.maxDiscount&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{size:16,className:"mr-1"}),i.maxDiscount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi tr t phng ti thiu (VN)"}),e.jsx("input",{type:"number",value:a.minBookingValue||"",onChange:m=>u("minBookingValue",m.target.value?Number(m.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000000",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gii hn s dng"}),e.jsx("input",{type:"number",value:a.usageLimit||"",onChange:m=>u("usageLimit",m.target.value?Number(m.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1000",min:"1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngy bt u *"}),e.jsx("input",{type:"datetime-local",value:a.startDate,onChange:m=>u("startDate",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.startDate?"border-red-500":"border-gray-300"}`}),i.startDate&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{size:16,className:"mr-1"}),i.startDate]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngy kt thc *"}),e.jsx("input",{type:"datetime-local",value:a.endDate,onChange:m=>u("endDate",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${i.endDate?"border-red-500":"border-gray-300"}`}),i.endDate&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{size:16,className:"mr-1"}),i.endDate]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phm vi p dng *"}),e.jsxs("select",{value:a.applicableScope,onChange:m=>u("applicableScope",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:In.ALL_HOTELS,children:"Tt c khch sn"}),e.jsx("option",{value:In.SPECIFIC_HOTELS,children:"Khch sn c th"})]})]}),a.applicableScope===In.SPECIFIC_HOTELS&&e.jsx(tj,{selectedHotelIds:a.hotelIds||[],onHotelSelectionChange:m=>u("hotelIds",m),error:i.hotelIds}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Hy"}),e.jsx("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"ang x l..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{size:16,className:"mr-2"}),t?"Cp nht":"To voucher"]})})]})]})]})},nj=({isOpen:t,onClose:s,onConfirmDelete:n,onDisableInstead:r,voucherCode:a,hasUsageRecords:l})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:l?e.jsx(vs,{className:"h-6 w-6 text-orange-600"}):e.jsx(Ns,{className:"h-6 w-6 text-red-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l?"Khng th xa voucher":"Xc nhn xa voucher"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Voucher: ",e.jsx("span",{className:"font-semibold text-blue-600",children:a})]}),l?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-orange-800",children:e.jsx("strong",{children:"Voucher ny  c s dng trong cc booking!"})}),e.jsxs("p",{className:"text-sm text-orange-700 mt-1",children:[" bo v tnh ton vn d liu, bn nn ",e.jsx("strong",{children:"tt voucher"})," thay v xa."]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Khuyn ngh:"})," Tt voucher  ngng s dng nhng vn gi li lch s."]})})]}):e.jsx("p",{className:"text-sm text-gray-600",children:"Bn c chc chn mun xa voucher ny? Hnh ng ny khng th hon tc."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Hy"}),l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-orange-600 border border-transparent rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 flex items-center justify-center",children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Tt voucher"]}),e.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center justify-center",children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Vn xa"]})]}):e.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 flex items-center justify-center",children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Xa voucher"]})]})]})})}):null,rj=()=>{var Q;le();const[t,s]=h.useState(""),[n,r]=h.useState("all"),[a,l]=h.useState(1),[i,o]=h.useState([]),[c,d]=h.useState(!1),[u,m]=h.useState([]),[g,x]=h.useState(!1),[y,f]=h.useState(!1),[j,N]=h.useState(null),[p,b]=h.useState({show:!1,type:"success",message:""}),[v,w]=h.useState(0),[k,C]=h.useState(0),[S,P]=h.useState({isOpen:!1,voucher:null,hasUsageRecords:!1}),T=10;h.useEffect(()=>{E()},[a,n,t]);const E=async()=>{x(!0);try{const D={pageNumber:a-1,pageSize:T,sortBy:"createdAt"};n!=="all"&&(D.status=n),t&&(D.name=t);const J=await Cs.getAllVouchers(D);J.data.success&&(m(J.data.result.content),w(J.data.result.totalPages),C(J.data.result.totalElements))}catch(D){R("error","Khng th ti danh sch voucher"),console.error("Error loading vouchers:",D)}finally{x(!1)}},R=(D,J)=>{b({show:!0,type:D,message:J}),setTimeout(()=>b({show:!1,type:"success",message:""}),5e3)},I=async D=>{var J,V;x(!0);try{(await Cs.createVoucher(D)).data.success&&(R("success","To voucher thnh cng"),f(!1),E())}catch(ne){R("error",((V=(J=ne.response)==null?void 0:J.data)==null?void 0:V.message)||"Khng th to voucher")}finally{x(!1)}},U=async D=>{var J,V;if(j){x(!0);try{(await Cs.updateVoucher(j.id,D)).data.success&&(R("success","Cp nht voucher thnh cng"),f(!1),N(null),E())}catch(ne){R("error",((V=(J=ne.response)==null?void 0:J.data)==null?void 0:V.message)||"Khng th cp nht voucher")}finally{x(!1)}}},K=D=>{P({isOpen:!0,voucher:D,hasUsageRecords:D.usageCount>0})},q=async()=>{var D,J,V;if(S.voucher)try{(await Cs.deleteVoucher(S.voucher.id)).data.success&&(R("success","Xa voucher thnh cng"),E())}catch(ne){const G=((J=(D=ne.response)==null?void 0:D.data)==null?void 0:J.message)||"Khng th xa voucher";if(((V=ne.response)==null?void 0:V.status)===409){P(be=>({...be,hasUsageRecords:!0}));return}R("error",G)}finally{P({isOpen:!1,voucher:null,hasUsageRecords:!1})}},_=async()=>{var D,J;if(S.voucher)try{S.voucher.status===ts.ACTIVE?(await Cs.toggleVoucherStatus(S.voucher.id)).data.success&&(R("success"," tt voucher thnh cng"),E()):R("success","Voucher  c tt")}catch(V){R("error",((J=(D=V.response)==null?void 0:D.data)==null?void 0:J.message)||"Khng th tt voucher")}finally{P({isOpen:!1,voucher:null,hasUsageRecords:!1})}},O=async D=>{var J,V;try{(await Cs.toggleVoucherStatus(D)).data.success&&(R("success","Cp nht trng thi thnh cng"),E())}catch(ne){R("error",((V=(J=ne.response)==null?void 0:J.data)==null?void 0:V.message)||"Khng th cp nht trng thi")}},Y=D=>{const J={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(D).toLocaleDateString("vi-VN",J)},W=D=>D.toLocaleString("vi-VN")+"",z=D=>{const V={[ts.ACTIVE]:{color:"bg-green-100 text-green-800",icon:Qe,text:"Hot ng"},[ts.INACTIVE]:{color:"bg-gray-100 text-gray-800",icon:ve,text:"Tm dng"},[ts.EXPIRED]:{color:"bg-red-100 text-red-800",icon:Pe,text:"Ht hn"},[ts.USED_UP]:{color:"bg-orange-100 text-orange-800",icon:Qt,text:"Ht lt"}}[D],ne=V.icon;return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${V.color}`,children:[e.jsx(ne,{size:12,className:"mr-1"}),V.text]})},A=D=>D.discountType===ns.PERCENTAGE?`${D.discountValue}% (ti a ${W(D.maxDiscount||0)})`:W(D.discountValue),F=(D,J)=>J?Math.min(D/J*100,100):0,B=()=>{o(c?[]:u.map(D=>D.id)),d(!c)},se=D=>{i.includes(D)?o(i.filter(J=>J!==D)):o([...i,D])},oe=D=>{N(D),f(!0)},Ee=()=>{N(null),f(!0)};return y?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx(sj,{voucher:j||void 0,onSubmit:j?U:I,onCancel:()=>{f(!1),N(null)},isLoading:g})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l Voucher"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"To v qun l cc voucher gim gi"})]}),e.jsxs("button",{onClick:Ee,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"To voucher mi"]})]})})}),p.show&&e.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-center ${p.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[e.jsx(ue,{size:20,className:"mr-2"}),p.message]}),e.jsx("div",{className:"px-6 py-4",children:e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tm kim theo tn hoc m voucher...",value:t,onChange:D=>s(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:n,onChange:D=>r(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tt c trng thi"}),e.jsx("option",{value:ts.ACTIVE,children:"Hot ng"}),e.jsx("option",{value:ts.INACTIVE,children:"Tm dng"}),e.jsx("option",{value:ts.EXPIRED,children:"Ht hn"}),e.jsx("option",{value:ts.USED_UP,children:"Ht lt"})]})})]})})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:B,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("span",{className:"ml-3 text-sm text-gray-700",children:[" chn ",i.length," voucher"]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Tng: ",k," voucher"]})]})}),g?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qt,{size:48,className:"mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Cha c voucher no"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Voucher"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gim gi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S dng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(D=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.includes(D.id),onChange:()=>se(D.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-4"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qt,{size:16,className:"text-blue-600 mr-2"}),e.jsx("span",{className:"font-semibold text-blue-600",children:D.code})]}),e.jsx("div",{className:"text-sm font-medium text-gray-900 mt-1",children:D.name}),D.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:D.description})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(gr,{size:16,className:"text-green-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:A(D)})]}),D.minBookingValue&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ti thiu: ",W(D.minBookingValue)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(pe,{size:16,className:"mr-2"}),e.jsxs("div",{children:[e.jsx("div",{children:Y(D.startDate)}),e.jsxs("div",{className:"text-xs",children:["n ",Y(D.endDate)]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[D.usageCount," / ",D.usageLimit||""]}),D.usageLimit&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${F(D.usageCount,D.usageLimit)}%`}})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:z(D.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>oe(D),className:"text-blue-600 hover:text-blue-900",children:e.jsx(Fe,{size:16})}),e.jsx("button",{onClick:()=>O(D.id),className:"text-yellow-600 hover:text-yellow-900",children:D.status===ts.ACTIVE?e.jsx(ve,{size:16}):e.jsx(Qe,{size:16})}),e.jsx("button",{onClick:()=>K(D),className:"text-red-600 hover:text-red-900",children:e.jsx(tt,{size:16})})]})})]},D.id))})]})}),v>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Hin th ",(a-1)*T+1," - ",Math.min(a*T,k)," ca ",k," voucher"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(D=>Math.max(D-1,1)),disabled:a===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[a," / ",v]}),e.jsx("button",{onClick:()=>l(D=>Math.min(D+1,v)),disabled:a===v,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Tip"})]})]})})]})]})}),e.jsx(nj,{isOpen:S.isOpen,onClose:()=>P({isOpen:!1,voucher:null,hasUsageRecords:!1}),onConfirmDelete:q,onDisableInstead:_,voucherCode:((Q=S.voucher)==null?void 0:Q.code)||"",hasUsageRecords:S.hasUsageRecords})]})},aj=()=>{const[t,s]=h.useState("month"),[n,r]=h.useState(!0),a={revenue:{current:125e7,previous:98e7,percentChange:27.55},bookings:{current:1876,previous:1543,percentChange:21.58},users:{current:3254,previous:2890,percentChange:12.6},hotels:{current:245,previous:210,percentChange:16.67},avgBookingValue:{current:28e5,previous:25e5,percentChange:12},occupancyRate:{current:78,previous:72,percentChange:8.33}},l={labels:["T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12"],revenue:[82e7,75e7,9e8,95e7,88e7,105e7,115e7,12e8,11e8,125e7,13e8,14e8],bookings:[1200,1150,1300,1350,1280,1450,1550,1600,1500,1650,1700,1800],newUsers:[250,220,280,300,270,320,350,370,340,380,400,420],newHotels:[15,12,18,20,16,22,25,28,24,30,32,35]},i=[{id:"1",name:"Vinpearl Resort & Spa",location:"Nha Trang",bookings:245,revenue:6125e5},{id:"2",name:"Metropole Hanoi",location:"H Ni",bookings:210,revenue:588e6},{id:"3",name:"Fusion Maia Resort",location:" Nng",bookings:180,revenue:504e6},{id:"4",name:"Pullman Saigon",location:"H Ch Minh",bookings:165,revenue:462e6},{id:"5",name:"Amanoi Resort",location:"Ninh Thun",bookings:120,revenue:42e7}],o=[{name:"H Ch Minh",bookings:520,revenue:1456e6},{name:"H Ni",bookings:480,revenue:1344e6},{name:" Nng",bookings:350,revenue:98e7},{name:"Nha Trang",bookings:320,revenue:896e6},{name:"Ph Quc",bookings:280,revenue:784e6}],c=x=>x.toLocaleString("vi-VN")+"",d=x=>x>=0?"text-green-600 bg-green-100":"text-red-600 bg-red-100",u=x=>x>=0?e.jsx(qy,{size:14,className:"mr-1"}):e.jsx(_y,{size:14,className:"mr-1"}),m=()=>{switch(t){case"week":return"tun trc";case"month":return"thng trc";case"quarter":return"qu trc";case"year":return"nm trc";default:return"thng trc"}},g=({data:x,labels:y,color:f})=>{const j=Math.max(...x);return e.jsx("div",{className:"flex h-40 items-end space-x-2",children:x.map((N,p)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-full ${f} rounded-t`,style:{height:`${N/j*100}%`}}),e.jsx("div",{className:"text-xs mt-1 text-gray-600",children:y[p]})]},p))})};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 space-y-4 lg:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Thng k & Phn tch"}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:t,onChange:x=>s(x.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base w-full sm:w-auto",children:[e.jsx("option",{value:"week",children:"Tun ny"}),e.jsx("option",{value:"month",children:"Thng ny"}),e.jsx("option",{value:"quarter",children:"Qu ny"}),e.jsx("option",{value:"year",children:"Nm nay"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:x=>r(x.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("span",{className:"ml-2 text-gray-700 text-sm sm:text-base",children:["So snh vi ",m()]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 col-span-1 sm:col-span-2 lg:col-span-1 xl:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Doanh thu"}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(Se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:c(a.revenue.current)}),n&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.revenue.percentChange)}`,children:[u(a.revenue.percentChange),Math.abs(a.revenue.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so vi ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"t phng"}),e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(ds,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:a.bookings.current.toLocaleString()}),n&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.bookings.percentChange)}`,children:[u(a.bookings.percentChange),Math.abs(a.bookings.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so vi ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Ngi dng mi"}),e.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:e.jsx(Ce,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:a.users.current.toLocaleString()}),n&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.users.percentChange)}`,children:[u(a.users.percentChange),Math.abs(a.users.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so vi ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Khch sn mi"}),e.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:e.jsx(et,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:a.hotels.current}),n&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.hotels.percentChange)}`,children:[u(a.hotels.percentChange),Math.abs(a.hotels.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so vi ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"Gi tr t phng TB"}),e.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:e.jsx(pn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-indigo-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:c(a.avgBookingValue.current)}),n&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.avgBookingValue.percentChange)}`,children:[u(a.avgBookingValue.percentChange),Math.abs(a.avgBookingValue.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so vi ",m()]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-700",children:"T l lp y"}),e.jsx("div",{className:"p-2 bg-teal-100 rounded-full",children:e.jsx(pe,{className:"h-5 w-5 sm:h-6 sm:w-6 text-teal-600"})})]}),e.jsx("div",{className:"flex items-end justify-between",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:[a.occupancyRate.current,"%"]}),n&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-xs sm:text-sm px-2 py-0.5 rounded-full flex items-center ${d(a.occupancyRate.percentChange)}`,children:[u(a.occupancyRate.percentChange),Math.abs(a.occupancyRate.percentChange).toFixed(1),"%"]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-2",children:["so vi ",m()]})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Doanh thu theo thng"}),e.jsx(g,{data:l.revenue,labels:l.labels,color:"bg-blue-500"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"t phng theo thng"}),e.jsx(g,{data:l.bookings,labels:l.labels,color:"bg-green-500"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Ngi dng mi theo thng"}),e.jsx(g,{data:l.newUsers,labels:l.labels,color:"bg-purple-500"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Khch sn mi theo thng"}),e.jsx(g,{data:l.newHotels,labels:l.labels,color:"bg-orange-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Top khch sn"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:i.map((x,y)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:e.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:["#",y+1]})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:x.name}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:x.location})]})]}),e.jsxs("div",{className:"text-right ml-4 flex-shrink-0",children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base",children:c(x.revenue)}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[x.bookings," t phng"]})]})]},x.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Top a im"}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:o.map((x,y)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["#",y+1]})}),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:x.name})})]}),e.jsxs("div",{className:"text-right ml-4 flex-shrink-0",children:[e.jsx("p",{className:"font-semibold text-sm sm:text-base",children:c(x.revenue)}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[x.bookings," t phng"]})]})]},x.name))})]})]})]})},lj=()=>{const t=le(),[s,n]=h.useState(""),[r,a]=h.useState("all"),[l,i]=h.useState("all"),[o,c]=h.useState(1),[d,u]=h.useState(null),[m,g]=h.useState([]),[x,y]=h.useState(!1),f=[{id:"CP-001",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"finance@vinpearl.com",ownerPhone:"1900 2345",ownerBankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CNG TY C PHN VINPEARL"},totalBookings:45,totalAmount:1125e5,commissionAmount:16875e3,ownerAmount:95625e3,platformAmount:16875e3,status:"paid",paymentDate:"2023-10-05",paymentMethod:"Bank Transfer",transactionId:"TRX-12345678",createdAt:"2023-10-01",updatedAt:"2023-10-05",invoices:[{id:"INV-001",bookingId:"BK-001",propertyName:"Vinpearl Resort & Spa Nha Trang",amount:75e5,commissionAmount:1125e3,commissionRate:15,date:"2023-09-20"},{id:"INV-004",bookingId:"BK-004",propertyName:"Vinpearl Resort & Spa Nha Trang",amount:36e5,commissionAmount:54e4,commissionRate:15,date:"2023-09-12"},{id:"INV-009",bookingId:"BK-009",propertyName:"Vinpearl Resort & Spa  Nng",amount:54e5,commissionAmount:81e4,commissionRate:15,date:"2023-09-15"}]},{id:"CP-002",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Cng ty TNHH Metropole",ownerId:"OWN-002",ownerEmail:"finance@metropole.com",ownerPhone:"024 3826 6919",ownerBankInfo:{bankName:"BIDV",accountNumber:"0987654321",accountName:"CNG TY TNHH METROPOLE"},totalBookings:38,totalAmount:96e6,commissionAmount:1152e4,ownerAmount:8448e4,platformAmount:1152e4,status:"pending",createdAt:"2023-10-01",updatedAt:"2023-10-01",invoices:[{id:"INV-002",bookingId:"BK-002",propertyName:"Metropole Hanoi",amount:64e5,commissionAmount:768e3,commissionRate:12,date:"2023-09-10"},{id:"INV-005",bookingId:"BK-005",propertyName:"Metropole Hanoi",amount:96e5,commissionAmount:1152e3,commissionRate:12,date:"2023-09-18"}]},{id:"CP-003",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Tp on Mng Thanh",ownerId:"OWN-003",ownerEmail:"finance@muongthanh.com",ownerPhone:"1800 1234",ownerBankInfo:{bankName:"Techcombank",accountNumber:"9876543210",accountName:"TP ON MNG THANH"},totalBookings:52,totalAmount:126e6,commissionAmount:126e5,ownerAmount:1134e5,platformAmount:126e5,status:"processing",createdAt:"2023-10-01",updatedAt:"2023-10-03",notes:"ang ch xc nhn t ngn hng",invoices:[{id:"INV-003",bookingId:"BK-003",propertyName:"Mng Thanh Luxury  Nng",amount:84e5,commissionAmount:84e4,commissionRate:10,date:"2023-09-15"},{id:"INV-010",bookingId:"BK-010",propertyName:"Mng Thanh Grand H Ni",amount:62e5,commissionAmount:62e4,commissionRate:10,date:"2023-09-22"}]},{id:"CP-004",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Cng ty CP Fusion",ownerId:"OWN-004",ownerEmail:"finance@fusion.com",ownerPhone:"028 3822 9999",ownerBankInfo:{bankName:"VPBank",accountNumber:"1122334455",accountName:"CNG TY C PHN FUSION"},totalBookings:32,totalAmount:875e5,commissionAmount:1575e4,ownerAmount:7175e4,platformAmount:1575e4,status:"paid",paymentDate:"2023-10-04",paymentMethod:"Bank Transfer",transactionId:"TRX-87654321",createdAt:"2023-10-01",updatedAt:"2023-10-04",invoices:[{id:"INV-006",bookingId:"BK-006",propertyName:"Fusion Maia Resort",amount:125e5,commissionAmount:225e4,commissionRate:18,date:"2023-09-13"}]},{id:"CP-005",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Tp on Accor",ownerId:"OWN-005",ownerEmail:"finance@accor.com",ownerPhone:"028 3520 9999",ownerBankInfo:{bankName:"HSBC",accountNumber:"5544332211",accountName:"ACCOR VIETNAM COMPANY LIMITED"},totalBookings:41,totalAmount:1029e5,commissionAmount:15435e3,ownerAmount:87465e3,platformAmount:15435e3,status:"failed",createdAt:"2023-10-01",updatedAt:"2023-10-06",notes:"Thng tin ti khon khng chnh xc, cn lin h li",invoices:[{id:"INV-007",bookingId:"BK-007",propertyName:"Pullman Saigon",amount:84e5,commissionAmount:126e4,commissionRate:15,date:"2023-09-15"},{id:"INV-011",bookingId:"BK-011",propertyName:"Novotel Nha Trang",amount:55e5,commissionAmount:825e3,commissionRate:15,date:"2023-09-18"}]},{id:"CP-006",period:{startDate:"2023-08-01",endDate:"2023-08-31"},ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"finance@vinpearl.com",ownerPhone:"1900 2345",ownerBankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CNG TY C PHN VINPEARL"},totalBookings:38,totalAmount:95e6,commissionAmount:1425e4,ownerAmount:8075e4,platformAmount:1425e4,status:"paid",paymentDate:"2023-09-05",paymentMethod:"Bank Transfer",transactionId:"TRX-23456789",createdAt:"2023-09-01",updatedAt:"2023-09-05",invoices:[{id:"INV-012",bookingId:"BK-012",propertyName:"Vinpearl Resort & Spa Nha Trang",amount:68e5,commissionAmount:102e4,commissionRate:15,date:"2023-08-10"},{id:"INV-013",bookingId:"BK-013",propertyName:"Vinpearl Resort & Spa  Nng",amount:72e5,commissionAmount:108e4,commissionRate:15,date:"2023-08-15"}]},{id:"CP-007",period:{startDate:"2023-08-01",endDate:"2023-08-31"},ownerName:"Cng ty TNHH Metropole",ownerId:"OWN-002",ownerEmail:"finance@metropole.com",ownerPhone:"024 3826 6919",ownerBankInfo:{bankName:"BIDV",accountNumber:"0987654321",accountName:"CNG TY TNHH METROPOLE"},totalBookings:32,totalAmount:8e7,commissionAmount:96e5,ownerAmount:704e5,platformAmount:96e5,status:"paid",paymentDate:"2023-09-04",paymentMethod:"Bank Transfer",transactionId:"TRX-34567890",createdAt:"2023-09-01",updatedAt:"2023-09-04",invoices:[{id:"INV-014",bookingId:"BK-014",propertyName:"Metropole Hanoi",amount:88e5,commissionAmount:1056e3,commissionRate:12,date:"2023-08-12"}]},{id:"CP-008",period:{startDate:"2023-10-01",endDate:"2023-10-31"},ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"finance@vinpearl.com",ownerPhone:"1900 2345",ownerBankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CNG TY C PHN VINPEARL"},totalBookings:12,totalAmount:3e7,commissionAmount:45e5,ownerAmount:255e5,platformAmount:45e5,status:"pending",createdAt:"2023-10-15",updatedAt:"2023-10-15",notes:"Thanh ton tm tnh gia thng",invoices:[{id:"INV-015",bookingId:"BK-015",propertyName:"Vinpearl Resort & Spa Nha Trang",amount:85e5,commissionAmount:1275e3,commissionRate:15,date:"2023-10-05"},{id:"INV-016",bookingId:"BK-016",propertyName:"Vinpearl Resort & Spa Ph Quc",amount:92e5,commissionAmount:138e4,commissionRate:15,date:"2023-10-08"}]}],j=5,N=f.filter(A=>{const F=A.id.toLowerCase().includes(s.toLowerCase())||A.ownerName.toLowerCase().includes(s.toLowerCase())||A.ownerEmail.toLowerCase().includes(s.toLowerCase())||A.transactionId&&A.transactionId.toLowerCase().includes(s.toLowerCase()),B=r==="all"||A.status===r;let se=!0;const oe=new Date,Ee=oe.getMonth(),Q=oe.getFullYear(),D=new Date(A.period.startDate);if(new Date(A.period.endDate),l==="currentMonth")se=D.getMonth()===Ee&&D.getFullYear()===Q;else if(l==="lastMonth"){const J=Ee===0?11:Ee-1,V=Ee===0?Q-1:Q;se=D.getMonth()===J&&D.getFullYear()===V}else if(l==="last3Months"){const J=new Date;J.setMonth(J.getMonth()-3),se=D>=J}return F&&B&&se}),p=Math.ceil(N.length/j),b=N.slice((o-1)*j,o*j),v=A=>{const F={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(A).toLocaleDateString("vi-VN",F)},w=A=>A.toLocaleString("vi-VN")+"",k=()=>{g(x?[]:b.map(A=>A.id)),y(!x)},C=A=>{m.includes(A)?g(m.filter(F=>F!==A)):g([...m,A])},S=A=>{u(d===A?null:A)},P=()=>{t("/admin/commission-payments/create")},T=A=>{t(`/admin/commission-payments/${A}`)},E=A=>{t(`/admin/users/${A}`)},R=A=>{t(`/admin/invoices/${A}`)},I=A=>{t(`/admin/bookings/${A}`)},U=A=>{alert(` bt u x l thanh ton c ID: ${A}`)},K=A=>{alert(` nh du thanh ton c ID: ${A} l  thanh ton`)},q=A=>{alert(` th li thanh ton c ID: ${A}`)},_=A=>{alert(` gi nhc nh cho thanh ton c ID: ${A}`)},O=()=>{alert(" xut danh sch thanh ton hoa hng")},Y=()=>{m.length!==0&&alert(` bt u x l ${m.length} thanh ton  chn`)},W=A=>{switch(A){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" thanh ton"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Ch thanh ton"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"ang x l"});case"failed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Tht bi"});default:return null}},z=(A,F)=>`${v(A)} - ${v(F)}`;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Thanh ton hoa hng"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:O,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Pn,{size:20,className:"mr-2"}),"Xut d liu"]}),e.jsxs("button",{onClick:P,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"To thanh ton mi"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Tm kim theo m thanh ton, ch khch sn, email...",value:s,onChange:A=>n(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:r,onChange:A=>a(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tt c trng thi"}),e.jsx("option",{value:"pending",children:"Ch thanh ton"}),e.jsx("option",{value:"processing",children:"ang x l"}),e.jsx("option",{value:"paid",children:" thanh ton"}),e.jsx("option",{value:"failed",children:"Tht bi"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:l,onChange:A=>i(A.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tt c thi gian"}),e.jsx("option",{value:"currentMonth",children:"Thng hin ti"}),e.jsx("option",{value:"lastMonth",children:"Thng trc"}),e.jsx("option",{value:"last3Months",children:"3 thng gn y"})]})]})]})]})}),m.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex justify-between items-center",children:[e.jsxs("span",{className:"text-blue-700",children:[" chn ",m.length," thanh ton"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:Y,className:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Se,{size:16,className:"mr-1"}),"X l hng lot"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:k,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),"M thanh ton"]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"K thanh ton"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ch khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S lng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tng tin"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(A=>e.jsxs(jn.Fragment,{children:[e.jsxs("tr",{className:`hover:bg-gray-50 ${d===A.id?"bg-blue-50":""}`,children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.includes(A.id),onChange:()=>C(A.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-3"}),e.jsxs("button",{onClick:()=>S(A.id),className:"flex items-center text-blue-600 hover:text-blue-900",children:[d===A.id?e.jsx(_t,{size:16,className:"mr-1"}):e.jsx(Tt,{size:16,className:"mr-1"}),A.id]})]}),e.jsxs("div",{className:"ml-7 text-xs text-gray-500 mt-1",children:["To: ",v(A.createdAt)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:z(A.period.startDate,A.period.endDate)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("button",{onClick:()=>E(A.ownerId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(kt,{size:14,className:"mr-1"}),A.ownerName]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:A.ownerEmail})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[A.totalBookings," t phng"]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[A.invoices.length," ha n"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w(A.totalAmount)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:w(A.commissionAmount)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ch KS: ",w(A.ownerAmount)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"mb-1",children:W(A.status)}),A.status==="paid"&&A.paymentDate&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Ngy TT: ",v(A.paymentDate)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[A.status==="pending"&&e.jsx("button",{onClick:()=>U(A.id),className:"text-blue-600 hover:text-blue-900",title:"X l thanh ton",children:e.jsx(Se,{size:18})}),A.status==="processing"&&e.jsx("button",{onClick:()=>K(A.id),className:"text-green-600 hover:text-green-900",title:"nh du  thanh ton",children:e.jsx(Qe,{size:18})}),A.status==="failed"&&e.jsx("button",{onClick:()=>q(A.id),className:"text-orange-600 hover:text-orange-900",title:"Th li",children:e.jsx(Pe,{size:18})}),e.jsx("button",{onClick:()=>T(A.id),className:"text-indigo-600 hover:text-indigo-900",title:"Xem chi tit",children:e.jsx(os,{size:18})}),A.status==="pending"&&e.jsx("button",{onClick:()=>_(A.id),className:"text-purple-600 hover:text-purple-900",title:"Gi nhc nh",children:e.jsx(Zl,{size:18})})]})})]}),d===A.id&&e.jsx("tr",{className:"bg-blue-50",children:e.jsxs("td",{colSpan:8,className:"px-6 py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Thng tin thanh ton"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Thng tin ngn hng:"}),e.jsx("p",{className:"text-sm font-medium",children:A.ownerBankInfo.bankName}),e.jsx("p",{className:"text-sm font-medium",children:A.ownerBankInfo.accountNumber}),e.jsx("p",{className:"text-sm font-medium",children:A.ownerBankInfo.accountName})]}),A.status==="paid"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phng thc thanh ton:"}),e.jsx("p",{className:"text-sm font-medium",children:A.paymentMethod}),A.transactionId&&e.jsxs("p",{className:"text-sm font-medium",children:["M giao dch: ",A.transactionId]})]}),A.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ghi ch:"}),e.jsx("p",{className:"text-sm",children:A.notes})]})]})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Danh sch ha n"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M ha n"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M t phng"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch sn"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S tin"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hng"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.invoices.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:e.jsx("button",{onClick:()=>R(F.id),className:"text-blue-600 hover:text-blue-900",children:F.id})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:e.jsx("button",{onClick:()=>I(F.bookingId),className:"text-blue-600 hover:text-blue-900",children:F.bookingId})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:F.propertyName}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:v(F.date)}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:w(F.amount)}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[w(F.commissionAmount)," (",F.commissionRate,"%)"]})]},F.id))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"px-4 py-2 text-sm font-medium text-right",children:"Tng cng:"}),e.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:w(A.totalAmount)}),e.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:w(A.commissionAmount)})]})})]})})]})})]},A.id))})]})}),p>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Trc"}),e.jsx("button",{onClick:()=>c(Math.min(p,o+1)),disabled:o===p,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${o===p?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hin th ",e.jsx("span",{className:"font-medium",children:(o-1)*j+1})," n"," ",e.jsx("span",{className:"font-medium",children:Math.min(o*j,N.length)})," ","trong tng s ",e.jsx("span",{className:"font-medium",children:N.length})," thanh ton"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>c(Math.max(1,o-1)),disabled:o===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${o===1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang trc"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:p}).map((A,F)=>e.jsx("button",{onClick:()=>c(F+1),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${o===F+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:F+1},F)),e.jsxs("button",{onClick:()=>c(Math.min(p,o+1)),disabled:o===p,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${o===p?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),b.length===0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Khng tm thy thanh ton hoa hng no"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Khng c thanh ton hoa hng no ph hp vi tiu ch tm kim ca bn."}),e.jsxs("button",{onClick:P,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"To thanh ton mi"]})]})]})},ij=()=>{const{id:t}=ot(),s=le(),[n,r]=h.useState(!1),[a,l]=h.useState(""),[i,o]=h.useState(!1),[c,d]=h.useState({paymentMethod:"",transactionId:"",paymentDate:new Date().toISOString().split("T")[0]}),u={id:"CP-001",period:{startDate:"2023-09-01",endDate:"2023-09-30"},ownerName:"Cng ty CP Vinpearl",ownerId:"OWN-001",ownerEmail:"finance@vinpearl.com",ownerPhone:"1900 2345",ownerAddress:"7 ng Trng Sa, Vnh Ha, Nha Trang, Khnh Ha",ownerTaxId:"0123456789",ownerBankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CNG TY C PHN VINPEARL",branch:"Chi nhnh Nha Trang",swiftCode:"BFTVVNVX"},totalBookings:45,totalAmount:1125e5,commissionAmount:16875e3,ownerAmount:95625e3,platformAmount:16875e3,status:"pending",createdAt:"2023-10-01",updatedAt:"2023-10-01",notes:"Thanh ton hoa hng thng 9/2023 cho Vinpearl",invoices:[{id:"INV-001",bookingId:"BK-001",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",checkIn:"2023-09-15",checkOut:"2023-09-18",guestName:"Nguyn Vn An",amount:75e5,commissionAmount:1125e3,commissionRate:15,date:"2023-09-20"},{id:"INV-004",bookingId:"BK-004",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",checkIn:"2023-09-10",checkOut:"2023-09-12",guestName:"Phm Th Dung",amount:36e5,commissionAmount:54e4,commissionRate:15,date:"2023-09-12"},{id:"INV-009",bookingId:"BK-009",propertyName:"Vinpearl Resort & Spa  Nng",propertyId:"PROP-002",checkIn:"2023-09-12",checkOut:"2023-09-15",guestName:"Trn Vn Bnh",amount:54e5,commissionAmount:81e4,commissionRate:15,date:"2023-09-15"}],history:[{date:"2023-10-01 08:30:00",action:"To thanh ton",user:"Admin",notes:"To thanh ton hoa hng thng 9/2023"},{date:"2023-10-01 09:15:00",action:"Gi thng bo",user:"System",notes:" gi email thng bo thanh ton n ch khch sn"}]},m=R=>{const I={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(R).toLocaleDateString("vi-VN",I)},g=R=>{const I={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(R).toLocaleString("vi-VN",I)},x=R=>R.toLocaleString("vi-VN")+"",y=()=>{s("/admin/commission-payments")},f=()=>{window.print()},j=()=>{alert(` ti xung thanh ton c ID: ${t}`)},N=()=>{alert(` gi thng bo thanh ton n: ${u.ownerEmail}`)},p=()=>{s(`/admin/users/${u.ownerId}`)},b=R=>{s(`/admin/invoices/${R}`)},v=R=>{s(`/admin/bookings/${R}`)},w=R=>{s(`/admin/hotels/${R}`)},k=()=>{alert(" lu ghi ch"),r(!1)},C=()=>{alert(" bt u x l thanh ton")},S=()=>{alert(" nh du thanh ton l  thanh ton"),o(!1)},P=()=>{window.confirm("Bn c chc chn mun hy thanh ton ny khng?")&&alert(" hy thanh ton")},T=R=>{switch(R){case"paid":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" thanh ton"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Ch thanh ton"});case"processing":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"ang x l"});case"failed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Tht bi"});default:return null}},E=(R,I)=>`${m(R)} - ${m(I)}`;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:y,className:"mr-4 text-gray-600 hover:text-gray-900",children:e.jsx(ge,{size:24})}),e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold",children:["Thanh ton hoa hng #",u.id]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center",children:[e.jsx(Uc,{size:18,className:"mr-2"}),"In thanh ton"]}),e.jsxs("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Pn,{size:18,className:"mr-2"}),"Ti xung"]}),e.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(De,{size:18,className:"mr-2"}),"Gi thng bo"]}),e.jsxs("button",{onClick:C,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center",children:[e.jsx(Se,{size:18,className:"mr-2"}),"X l thanh ton"]}),u.status==="processing",e.jsxs("button",{onClick:P,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[e.jsx(ve,{size:18,className:"mr-2"}),"Hy thanh ton"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Trng thi thanh ton"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:T(u.status)}),e.jsxs("p",{className:"text-gray-600",children:["K thanh ton: ",E(u.period.startDate,u.period.endDate)]}),e.jsxs("p",{className:"text-gray-600",children:["Ngy to: ",m(u.createdAt)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-600",children:"Tng thanh ton"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x(u.ownerAmount)}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Hoa hng: ",x(u.commissionAmount)]}),u.status==="paid"]})]})}),i&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"nh du  thanh ton"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phng thc thanh ton"}),e.jsxs("select",{value:c.paymentMethod,onChange:R=>d({...c,paymentMethod:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"-- Chn phng thc thanh ton --"}),e.jsx("option",{value:"Bank Transfer",children:"Chuyn khon ngn hng"}),e.jsx("option",{value:"Cash",children:"Tin mt"}),e.jsx("option",{value:"Credit Card",children:"Th tn dng"}),e.jsx("option",{value:"PayPal",children:"PayPal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M giao dch"}),e.jsx("input",{type:"text",value:c.transactionId,onChange:R=>d({...c,transactionId:R.target.value}),placeholder:"Nhp m giao dch",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy thanh ton"}),e.jsx("input",{type:"date",value:c.paymentDate,onChange:R=>d({...c,paymentDate:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6 space-x-2",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsxs("button",{onClick:S,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(rt,{size:18,className:"mr-2"}),"Lu"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(kt,{size:20,className:"mr-2 text-blue-600"}),"Thng tin ch khch sn"]}),e.jsx("button",{onClick:p,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Xem h s"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.ownerName}),e.jsx("p",{className:"text-gray-600",children:u.ownerEmail}),e.jsx("p",{className:"text-gray-600",children:u.ownerPhone}),e.jsx("p",{className:"text-gray-600",children:u.ownerAddress}),e.jsxs("p",{className:"text-gray-600",children:["M s thu: ",u.ownerTaxId]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{size:20,className:"mr-2 text-blue-600"}),"Thng tin ngn hng"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.ownerBankInfo.bankName}),e.jsxs("p",{className:"text-gray-600",children:["S ti khon: ",u.ownerBankInfo.accountNumber]}),e.jsxs("p",{className:"text-gray-600",children:["Tn ti khon: ",u.ownerBankInfo.accountName]}),e.jsxs("p",{className:"text-gray-600",children:["Chi nhnh: ",u.ownerBankInfo.branch]}),e.jsxs("p",{className:"text-gray-600",children:["M SWIFT: ",u.ownerBankInfo.swiftCode]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(gr,{size:20,className:"mr-2 text-blue-600"}),"Chi tit thanh ton"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Tng s t phng:"}),e.jsx("p",{className:"font-medium",children:u.totalBookings})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Tng doanh thu:"}),e.jsx("p",{className:"font-medium",children:x(u.totalAmount)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"S ha n:"}),e.jsx("p",{className:"font-medium",children:u.invoices.length})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"Hoa hng:"}),e.jsx("p",{className:"font-medium",children:x(u.commissionAmount)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"S tin nn tng:"}),e.jsx("p",{className:"font-medium",children:x(u.platformAmount)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-600",children:"S tin ch khch sn:"}),e.jsx("p",{className:"font-medium",children:x(u.ownerAmount)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-600"}),"Danh sch ha n"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M ha n"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M t phng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch hng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S tin"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tc"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.invoices.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>b(R.id),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:R.id})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>v(R.bookingId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:R.bookingId})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>w(R.propertyId),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:R.propertyName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:R.guestName})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:m(R.date)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[m(R.checkIn)," - ",m(R.checkOut)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:x(R.amount)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:x(R.commissionAmount)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[R.commissionRate,"%"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>b(R.id),className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(os,{size:18})})})]},R.id))}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:5,className:"px-6 py-4 text-sm font-medium text-right",children:"Tng cng:"}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:x(u.totalAmount)}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:x(u.commissionAmount)}),e.jsx("td",{})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Pe,{size:20,className:"mr-2 text-blue-600"}),"Lch s thanh ton"]}),e.jsx("div",{className:"space-y-4",children:u.history.map((R,I)=>e.jsxs("div",{className:"flex items-start pb-4 border-b border-gray-200 last:border-0",children:[e.jsxs("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:[R.action.includes("To")&&e.jsx(os,{size:20,className:"text-blue-600"}),R.action.includes("Gi")&&e.jsx(Zl,{size:20,className:"text-blue-600"}),R.action.includes("X l")&&e.jsx(Se,{size:20,className:"text-blue-600"}),R.action.includes("Thanh ton")&&e.jsx(Qe,{size:20,className:"text-green-600"}),R.action.includes("Hy")&&e.jsx(ve,{size:20,className:"text-red-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.action}),e.jsx("p",{className:"text-sm text-gray-500",children:g(R.date)})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Ngi thc hin: ",R.user]}),R.notes&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.notes})]})]},I))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2 text-blue-600"}),"Ghi ch ni b"]}),!n&&e.jsxs("button",{onClick:()=>r(!0),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(Fe,{size:16,className:"mr-1"}),"Chnh sa"]})]}),n?e.jsxs("div",{children:[e.jsx("textarea",{value:a||u.adminNotes||"",onChange:R=>l(R.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[100px]",placeholder:"Thm ghi ch v thanh ton ny..."}),e.jsxs("div",{className:"flex justify-end mt-3 space-x-2",children:[e.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hy"}),e.jsxs("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(rt,{size:16,className:"mr-2"}),"Lu"]})]})]}):e.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg min-h-[60px]",children:u.adminNotes||"Cha c ghi ch no."})]})]})},oj=()=>{const t=le(),[s,n]=h.useState(1),[r,a]=h.useState({startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[l,i]=h.useState(null),[o,c]=h.useState(""),[d,u]=h.useState([]),[m,g]=h.useState(""),[x,y]=h.useState(!1),f=[{id:"OWN-001",name:"Cng ty CP Vinpearl",email:"finance@vinpearl.com",phone:"1900 2345",bankInfo:{bankName:"Vietcombank",accountNumber:"1234567890",accountName:"CNG TY C PHN VINPEARL"}},{id:"OWN-002",name:"Cng ty TNHH Metropole",email:"finance@metropole.com",phone:"024 3826 6919",bankInfo:{bankName:"BIDV",accountNumber:"0987654321",accountName:"CNG TY TNHH METROPOLE"}},{id:"OWN-003",name:"Tp on Mng Thanh",email:"finance@muongthanh.com",phone:"1800 1234",bankInfo:{bankName:"Techcombank",accountNumber:"9876543210",accountName:"TP ON MNG THANH"}},{id:"OWN-004",name:"Cng ty CP Fusion",email:"finance@fusion.com",phone:"028 3822 9999",bankInfo:{bankName:"VPBank",accountNumber:"1122334455",accountName:"CNG TY C PHN FUSION"}},{id:"OWN-005",name:"Tp on Accor",email:"finance@accor.com",phone:"028 3520 9999",bankInfo:{bankName:"HSBC",accountNumber:"5544332211",accountName:"ACCOR VIETNAM COMPANY LIMITED"}}],j=[{id:"INV-001",bookingId:"BK-001",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",checkIn:"2023-09-15",checkOut:"2023-09-18",guestName:"Nguyn Vn An",amount:75e5,commissionAmount:1125e3,commissionRate:15,date:"2023-09-20"},{id:"INV-004",bookingId:"BK-004",propertyName:"Vinpearl Resort & Spa Nha Trang",propertyId:"PROP-001",checkIn:"2023-09-10",checkOut:"2023-09-12",guestName:"Phm Th Dung",amount:36e5,commissionAmount:54e4,commissionRate:15,date:"2023-09-12"},{id:"INV-009",bookingId:"BK-009",propertyName:"Vinpearl Resort & Spa  Nng",propertyId:"PROP-002",checkIn:"2023-09-12",checkOut:"2023-09-15",guestName:"Trn Vn Bnh",amount:54e5,commissionAmount:81e4,commissionRate:15,date:"2023-09-15"},{id:"INV-002",bookingId:"BK-002",propertyName:"Metropole Hanoi",propertyId:"PROP-003",checkIn:"2023-09-05",checkOut:"2023-09-08",guestName:"Trn Th Bnh",amount:64e5,commissionAmount:768e3,commissionRate:12,date:"2023-09-10"},{id:"INV-005",bookingId:"BK-005",propertyName:"Metropole Hanoi",propertyId:"PROP-003",checkIn:"2023-09-15",checkOut:"2023-09-18",guestName:"Hong Vn Em",amount:96e5,commissionAmount:1152e3,commissionRate:12,date:"2023-09-18"}],N=f.filter(U=>U.name.toLowerCase().includes(o.toLowerCase())||U.email.toLowerCase().includes(o.toLowerCase())),p=l?j.filter(U=>U.propertyName.includes("Vinpearl")&&l.id==="OWN-001"||U.propertyName.includes("Metropole")&&l.id==="OWN-002"||U.propertyName.includes("Mng Thanh")&&l.id==="OWN-003"||U.propertyName.includes("Fusion")&&l.id==="OWN-004"||U.propertyName.includes("Pullman")&&l.id==="OWN-005"):[],b=U=>{const K={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(U).toLocaleDateString("vi-VN",K)},v=U=>U.toLocaleString("vi-VN")+"",w=()=>{s>1?n(s-1):t("/admin/commission-payments")},k=U=>{i(U)},C=()=>{if(s===1&&!l){alert("Vui lng chn ch khch sn");return}if(s===2&&d.length===0){alert("Vui lng chn t nht mt ha n");return}n(s+1)},S=U=>{u(K=>{if(K.some(_=>_.id===U))return K.filter(_=>_.id!==U);{const _=p.find(O=>O.id===U);return _?[...K,_]:K}})},P=()=>{u(x?[]:[...p]),y(!x)},T=U=>{u(K=>K.filter(q=>q.id!==U))},E=()=>{let U=0,K=0;return d.forEach(q=>{U+=q.amount,K+=q.commissionAmount}),{totalAmount:U,totalCommission:K,ownerAmount:U-K}},R=()=>{const U=E();alert(` to thanh ton hoa hng cho ${l==null?void 0:l.name} vi tng s tin ${v(U.ownerAmount)}`),t("/admin/commission-payments")},I=()=>{switch(s){case 1:return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Bc 1: Chn k thanh ton v ch khch sn"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"K thanh ton"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"T ngy"}),e.jsx("input",{type:"date",value:r.startDate,onChange:K=>a({...r,startDate:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"n ngy"}),e.jsx("input",{type:"date",value:r.endDate,onChange:K=>a({...r,endDate:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chn ch khch sn"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:"text",placeholder:"Tm kim theo tn, email...",value:o,onChange:K=>c(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:[N.map(K=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(l==null?void 0:l.id)===K.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>k(K),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:K.name}),e.jsx("p",{className:"text-sm text-gray-600",children:K.email}),e.jsx("p",{className:"text-sm text-gray-600",children:K.phone})]}),e.jsx("div",{className:"flex items-center h-full",children:(l==null?void 0:l.id)===K.id&&e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})})]})},K.id)),N.length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Khng tm thy ch khch sn no ph hp"})]})]})]});case 2:return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Bc 2: Chn ha n"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Ha n kh dng"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:P,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Chn tt c"})]})]}),e.jsx("div",{className:"mt-2 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M ha n"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S tin"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hoa hng"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(K=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:d.some(q=>q.id===K.id),onChange:()=>S(K.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.id}),e.jsx("div",{className:"text-xs text-gray-500",children:K.bookingId})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:K.propertyName}),e.jsx("div",{className:"text-xs text-gray-500",children:K.guestName})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:b(K.date)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[b(K.checkIn)," - ",b(K.checkOut)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:v(K.amount)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:v(K.commissionAmount)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[K.commissionRate,"%"]})]})]},K.id))})]})}),p.length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500 border border-gray-200 rounded-lg mt-2",children:"Khng c ha n no kh dng cho ch khch sn ny trong k thanh ton  chn"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-2",children:["Ha n  chn (",d.length,")"]}),d.length>0?e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d.map(K=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium",children:[K.id," - ",K.propertyName]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[b(K.date)," - ",v(K.amount)]})]}),e.jsx("button",{onClick:()=>T(K.id),className:"text-red-600 hover:text-red-800",children:e.jsx(tt,{size:16})})]},K.id))}):e.jsx("div",{className:"p-4 text-center text-gray-500 border border-gray-200 rounded-lg",children:"Cha c ha n no c chn"})]})]});case 3:const U=E();return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Bc 3: Xc nhn thanh ton"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Thng tin ch khch sn"}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:l==null?void 0:l.name}),e.jsx("p",{className:"text-sm text-gray-600",children:l==null?void 0:l.email}),e.jsx("p",{className:"text-sm text-gray-600",children:l==null?void 0:l.phone})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Thng tin ngn hng"}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:l==null?void 0:l.bankInfo.bankName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["S ti khon: ",l==null?void 0:l.bankInfo.accountNumber]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Tn ti khon: ",l==null?void 0:l.bankInfo.accountName]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"K thanh ton"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-900",children:[b(r.startDate)," - ",b(r.endDate)]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Tng quan thanh ton"}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tng s ha n:"}),e.jsx("p",{className:"font-medium text-gray-900",children:d.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tng doanh thu:"}),e.jsx("p",{className:"font-medium text-gray-900",children:v(U.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tng hoa hng:"}),e.jsx("p",{className:"font-medium text-gray-900",children:v(U.totalCommission)})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-lg font-medium text-gray-900",children:"S tin thanh ton cho ch khch sn:"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:v(U.ownerAmount)})]})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ghi ch"}),e.jsx("textarea",{value:m,onChange:K=>g(K.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",rows:3,placeholder:"Thm ghi ch v thanh ton ny..."})]})]});default:return null}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("button",{onClick:w,className:"mr-4 text-gray-600 hover:text-gray-900",children:e.jsx(ge,{size:24})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"To thanh ton hoa hng mi"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"1"}),e.jsx("div",{className:`flex-1 h-1 mx-2 ${s>=2?"bg-blue-600":"bg-gray-200"}`}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=2?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"2"}),e.jsx("div",{className:`flex-1 h-1 mx-2 ${s>=3?"bg-blue-600":"bg-gray-200"}`}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=3?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"3"})]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("div",{className:"text-center w-10",children:e.jsx("span",{className:`text-xs ${s>=1?"text-blue-600":"text-gray-500"}`,children:"Chn ch KS"})}),e.jsx("div",{className:"text-center w-10",children:e.jsx("span",{className:`text-xs ${s>=2?"text-blue-600":"text-gray-500"}`,children:"Chn ha n"})}),e.jsx("div",{className:"text-center w-10",children:e.jsx("span",{className:`text-xs ${s>=3?"text-blue-600":"text-gray-500"}`,children:"Xc nhn"})})]})]}),I(),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs("button",{onClick:w,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center",children:[e.jsx(ge,{size:18,className:"mr-2"}),s>1?"Quay li":"Hy"]}),s<3?e.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tip theo"}):e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{onClick:()=>n(2),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Chnh sa ha n"}),e.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(rt,{size:18,className:"mr-2"}),"To thanh ton"]})]})]})]})},cj=()=>{const t=le(),[s,n]=h.useState({bookings:[],loading:!1,error:null,totalPages:0,totalElements:0,currentPage:0}),[r,a]=h.useState(""),[l,i]=h.useState("all"),[o,c]=h.useState("all"),[d,u]=h.useState("all"),[m,g]=h.useState("createdAt"),[x,y]=h.useState("desc"),[f,j]=h.useState([]),[N,p]=h.useState(!1),[b,v]=h.useState(!1),[w,k]=h.useState(null),[C,S]=h.useState(null),[P,T]=h.useState(!1),[E,R]=h.useState(null),[I]=h.useState(10),U=async($=0)=>{n(te=>({...te,loading:!0,error:null}));try{const te={pageNumber:$,pageSize:I,sortBy:m};if(l!=="all"&&(te.status=l),o!=="all"&&(te.paymentStatus=o),d!=="all"){const X=new Date,ie=X.toISOString().split("T")[0];switch(d){case"today":te.checkInDate=ie;break;case"thisWeek":const Ke=new Date(X);Ke.setDate(X.getDate()-X.getDay()),te.checkInDate=Ke.toISOString().split("T")[0];break;case"thisMonth":const je=new Date(X.getFullYear(),X.getMonth(),1);te.checkInDate=je.toISOString().split("T")[0];break}}let L;if(r.trim()?L=await Ne.searchBookings(r,te):L=await Ne.getAllBookings(te),L.data.success){const X=L.data.result,ie=[...X.content].sort((Ke,je)=>{let Ae=Ke[m],ht=je[m];return(m.includes("Date")||m==="createdAt"||m==="updatedAt")&&(Ae=new Date(Ae).getTime(),ht=new Date(ht).getTime()),(m==="totalAmount"||m==="guests")&&(Ae=Number(Ae)||0,ht=Number(ht)||0),typeof Ae=="string"&&typeof ht=="string"&&(Ae=Ae.toLowerCase(),ht=ht.toLowerCase()),x==="asc"?Ae>ht?1:Ae<ht?-1:0:Ae<ht?1:Ae>ht?-1:0});n(Ke=>({...Ke,bookings:ie,totalPages:X.totalPages,totalElements:X.totalElements,currentPage:X.number,loading:!1}))}}catch(te){n(L=>{var X,ie;return{...L,error:((ie=(X=te.response)==null?void 0:X.data)==null?void 0:ie.message)||"Error occurred while loading data",loading:!1}})}};h.useEffect(()=>{U(0)},[l,o,d,m]),h.useEffect(()=>{if(s.bookings.length>0){const $=[...s.bookings].sort((te,L)=>{let X=te[m],ie=L[m];return(m.includes("Date")||m==="createdAt"||m==="updatedAt")&&(X=new Date(X).getTime(),ie=new Date(ie).getTime()),(m==="totalAmount"||m==="guests")&&(X=Number(X)||0,ie=Number(ie)||0),typeof X=="string"&&typeof ie=="string"&&(X=X.toLowerCase(),ie=ie.toLowerCase()),x==="asc"?X>ie?1:X<ie?-1:0:X<ie?1:X>ie?-1:0});n(te=>({...te,bookings:$}))}},[x]),h.useEffect(()=>{const $=setTimeout(()=>{U(0)},500);return()=>clearTimeout($)},[r]),h.useEffect(()=>{U(s.currentPage)},[r,l,o,d,m,x]),h.useEffect(()=>{const $=te=>{const L=te.target;w&&!L.closest("[data-dropdown-container]")&&!L.closest(".fixed")&&(k(null),S(null))};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[w]);const K=$=>{U($)},q=()=>{U(s.currentPage)},_=$=>{m===$?y(x==="asc"?"desc":"asc"):(g($),y("desc"))},O=$=>{j(te=>te.includes($)?te.filter(L=>L!==$):[...te,$])},Y=()=>{f.length===s.bookings.length?j([]):j(s.bookings.map($=>$.id))},W=$=>{t(`/admin/bookings/${$}`)},z=async $=>{var te,L;if(window.confirm("Are you sure you want to confirm this booking?"))try{await Ne.confirmBooking($),await U(s.currentPage),alert("Booking confirmed successfully!")}catch(X){console.error("Error confirming booking:",X),alert(((L=(te=X.response)==null?void 0:te.data)==null?void 0:L.message)||"Error occurred while confirming booking")}},A=async $=>{var L,X;const te=prompt("Please enter cancellation reason:");if(te&&window.confirm(`Are you sure you want to cancel this booking?
Reason: ${te}`))try{await Ne.cancelBooking($,te),await U(s.currentPage),alert("Booking cancelled successfully!")}catch(ie){console.error("Error cancelling booking:",ie),alert(((X=(L=ie.response)==null?void 0:L.data)==null?void 0:X.message)||"Error occurred while cancelling booking")}},F=async $=>{var te,L;if(window.confirm("Are you sure you want to confirm this payment? This action cannot be undone."))try{await Ne.adminConfirmPayment($),await U(s.currentPage),alert("Payment confirmed successfully!")}catch(X){console.error("Error confirming payment:",X),alert(((L=(te=X.response)==null?void 0:te.data)==null?void 0:L.message)||"Error occurred while confirming payment")}},B=async $=>{var te,L;if(window.confirm("Are you sure you want to DELETE this booking? This action cannot be undone and will permanently remove all booking data.")){try{await Ne.deleteBooking($),await U(s.currentPage),alert("Booking deleted successfully!")}catch(X){console.error("Error deleting booking:",X),alert(((L=(te=X.response)==null?void 0:te.data)==null?void 0:L.message)||"Error occurred while deleting booking")}k(null),S(null)}},se=$=>{const te=s.bookings.find(L=>L.id===$);te&&(R(te),T(!0),k(null),S(null))},oe=async $=>{var te,L;if(f.length===0){alert("Please select at least one booking");return}if(window.confirm(`Are you sure you want to ${$} ${f.length} selected bookings?`)){v(!0);try{const X=f.map(ie=>{switch($){case"confirm":return Ne.confirmBooking(ie);case"cancel":return Ne.cancelBooking(ie,"Bulk cancel by admin");case"delete":return Ne.deleteBooking(ie);default:return Promise.resolve()}});await Promise.all(X),j([]),await U(s.currentPage)}catch(X){alert(((L=(te=X.response)==null?void 0:te.data)==null?void 0:L.message)||`Error occurred while ${$}ing bookings`)}finally{v(!1)}}},Ee=async()=>{try{const $=await Ne.getAllBookings({pageSize:1e3}),te=Q($.data.result.content);D(te,`bookings_${new Date().toISOString().split("T")[0]}.csv`)}catch{alert("Error occurred while exporting data")}},Q=$=>{const te=["ID","Reference","Guest Name","Guest Email","Guest Phone","Hotel Name","Room Type","Check In","Check Out","Guests","Total Amount","Status","Payment Status","Created At"],L=$.map(X=>[X.id,X.bookingReference,X.guestName,X.guestEmail,X.guestPhone,X.hotelName,X.roomTypeName,X.checkInDate,X.checkOutDate,X.guests,X.totalAmount,X.status,X.paymentStatus,X.createdAt]);return[te,...L].map(X=>X.join(",")).join(`
`)},D=($,te)=>{const L=new Blob([$],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a"),ie=URL.createObjectURL(L);X.setAttribute("href",ie),X.setAttribute("download",te),X.style.visibility="hidden",document.body.appendChild(X),X.click(),document.body.removeChild(X)},J=$=>new Date($).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),V=$=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format($),ne=$=>e.jsx(pr,{status:$,size:"sm"}),G=$=>e.jsx(fr,{status:$,size:"sm"}),be=()=>{const[$,te]=h.useState({}),[L,X]=h.useState(!1);jn.useEffect(()=>{E&&te({guestName:E.guestName,guestEmail:E.guestEmail,guestPhone:E.guestPhone,checkInDate:E.checkInDate,checkOutDate:E.checkOutDate,guests:E.guests,totalAmount:E.totalAmount,status:E.status,paymentStatus:E.paymentStatus,paymentMethod:E.paymentMethod,specialRequests:E.specialRequests||""})},[E]);const ie=(je,Ae)=>{te(ht=>({...ht,[je]:Ae}))},Ke=async je=>{var Ae,ht;if(je.preventDefault(),!!E){X(!0);try{await Ne.updateBooking(E.id,$),await U(s.currentPage),T(!1),R(null),alert("Booking updated successfully!")}catch(Gc){console.error("Error updating booking:",Gc),alert(((ht=(Ae=Gc.response)==null?void 0:Ae.data)==null?void 0:ht.message)||"Error occurred while updating booking")}finally{X(!1)}}};return!P||!E?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[1001] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Booking - ",E.bookingReference]}),e.jsx("button",{onClick:()=>{T(!1),R(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ve,{size:24})})]})}),e.jsxs("form",{onSubmit:Ke,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Guest Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Name"}),e.jsx("input",{type:"text",value:$.guestName||"",onChange:je=>ie("guestName",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:$.guestEmail||"",onChange:je=>ie("guestEmail",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:$.guestPhone||"",onChange:je=>ie("guestPhone",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guests"}),e.jsx("input",{type:"number",min:"1",max:"10",value:$.guests||1,onChange:je=>ie("guests",parseInt(je.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Booking Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),e.jsx("input",{type:"date",value:$.checkInDate||"",onChange:je=>ie("checkInDate",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),e.jsx("input",{type:"date",value:$.checkOutDate||"",onChange:je=>ie("checkOutDate",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:$.totalAmount||0,onChange:je=>ie("totalAmount",parseFloat(je.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsx("input",{type:"text",value:$.paymentMethod||"",onChange:je=>ie("paymentMethod",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"CASH_ON_CHECKIN, CREDIT_CARD, etc."})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Status"}),e.jsxs("select",{value:$.status||"PENDING",onChange:je=>ie("status",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"CANCELLED_BY_GUEST",children:"Cancelled by Guest"}),e.jsx("option",{value:"CANCELLED_BY_HOST",children:"Cancelled by Host"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"NO_SHOW",children:"No Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Status"}),e.jsxs("select",{value:$.paymentStatus||"PENDING",onChange:je=>ie("paymentStatus",je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"PAID",children:"Paid"}),e.jsx("option",{value:"FAILED",children:"Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"}),e.jsx("option",{value:"PARTIALLY_REFUNDED",children:"Partially Refunded"}),e.jsx("option",{value:"REFUND_PENDING",children:"Refund Pending"}),e.jsx("option",{value:"NO_PAYMENT",children:"No Payment"}),e.jsx("option",{value:"CANCELLED",children:"No Refund"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Requests"}),e.jsx("textarea",{value:$.specialRequests||"",onChange:je=>ie("specialRequests",je.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter any special requests..."})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>{T(!1),R(null)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Update Booking"})]})]})]})})};return s.loading&&s.bookings.length===0?e.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading data..."})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Management"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.totalElements," bookings  Page ",s.currentPage+1," / ",s.totalPages]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:q,disabled:s.loading,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(qe,{size:16,className:`mr-2 ${s.loading?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:Ee,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(tb,{size:16,className:"mr-2"}),"Export Excel"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search by booking code, guest name, email, hotel...",value:r,onChange:$=>a($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>p(!N),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Filters",N?e.jsx(_t,{className:"h-4 w-4 ml-1"}):e.jsx(Tt,{className:"h-4 w-4 ml-1"})]})})]}),N&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:l,onChange:$=>i($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"CONFIRMED",children:"Confirmed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"}),e.jsx("option",{value:"CANCELLED_BY_GUEST",children:"Cancelled by Guest"}),e.jsx("option",{value:"CANCELLED_BY_HOST",children:"Cancelled by Host"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"NO_SHOW",children:"No Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment"}),e.jsxs("select",{value:o,onChange:$=>c($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Payment"}),e.jsx("option",{value:"PENDING",children:"Pending Payment"}),e.jsx("option",{value:"PAID",children:"Paid"}),e.jsx("option",{value:"FAILED",children:"Failed"}),e.jsx("option",{value:"REFUNDED",children:"Refunded"}),e.jsx("option",{value:"PARTIALLY_REFUNDED",children:"Partially Refunded"}),e.jsx("option",{value:"REFUND_PENDING",children:"Refund Pending"}),e.jsx("option",{value:"NO_PAYMENT",children:"No Payment"}),e.jsx("option",{value:"CANCELLED",children:"No Refund"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),e.jsxs("select",{value:d,onChange:$=>u($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"thisWeek",children:"This Week"}),e.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:m,onChange:$=>g($.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"createdAt",children:"Created Date"}),e.jsx("option",{value:"checkInDate",children:"Check-in Date"}),e.jsx("option",{value:"checkOutDate",children:"Check-out Date"}),e.jsx("option",{value:"totalAmount",children:"Amount"}),e.jsx("option",{value:"guestName",children:"Guest Name"}),e.jsx("option",{value:"hotelName",children:"Hotel Name"})]}),e.jsx("button",{onClick:()=>y(x==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",title:x==="asc"?"Sort Ascending":"Sort Descending",children:x==="asc"?e.jsx(_t,{className:"h-4 w-4"}):e.jsx(Tt,{className:"h-4 w-4"})})]})]})]})})]}),f.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[f.length," bookings selected"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>oe("confirm"),disabled:b,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center",children:[e.jsx(Qe,{size:14,className:"mr-1"}),"Confirm"]}),e.jsxs("button",{onClick:()=>oe("cancel"),disabled:b,className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center",children:[e.jsx(ve,{size:14,className:"mr-1"}),"Cancel"]}),e.jsxs("button",{onClick:()=>oe("delete"),disabled:b,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors disabled:opacity-50 flex items-center",children:[e.jsx(Ns,{size:14,className:"mr-1"}),"Delete"]})]})]})}),s.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-5 w-5 text-red-400 mr-2"}),e.jsx("p",{className:"text-red-800",children:s.error})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:f.length===s.bookings.length&&s.bookings.length>0,onChange:Y,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("bookingReference"),children:e.jsxs("div",{className:"flex items-center",children:["Booking Code",m==="bookingReference"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("guestName"),children:e.jsxs("div",{className:"flex items-center",children:["Guest Info",m==="guestName"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("hotelName"),children:e.jsxs("div",{className:"flex items-center",children:["Hotel & Room",m==="hotelName"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("checkInDate"),children:e.jsxs("div",{className:"flex items-center",children:["Dates",m==="checkInDate"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>_("totalAmount"),children:e.jsxs("div",{className:"flex items-center",children:["Amount",m==="totalAmount"&&(x==="asc"?e.jsx(_t,{className:"h-3 w-3 ml-1"}):e.jsx(Tt,{className:"h-3 w-3 ml-1"}))]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.bookings.map($=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",checked:f.includes($.id),onChange:()=>O($.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",$.bookingReference]}),e.jsx("div",{className:"text-sm text-gray-500",children:J($.createdAt)})]}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(He,{className:"h-4 w-4 text-gray-500"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.guestName}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),$.guestEmail]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),$.guestPhone]})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(kt,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.hotelName}),e.jsx("div",{className:"text-sm text-gray-500",children:$.roomTypeName}),e.jsxs("div",{className:"text-sm text-gray-500",children:[$.guests," guests"]})]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 text-gray-400 mr-1"}),J($.checkInDate)]}),e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(pe,{className:"h-4 w-4 text-gray-400 mr-1"}),J($.checkOutDate)]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[$.numberOfNights," nights"]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:V($.totalAmount)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[V($.pricePerNight),"/night"]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Dt,{className:"h-3 w-3 text-gray-400 mr-1"}),e.jsx("span",{className:"text-xs text-gray-500",children:$.paymentMethod||"N/A"})]})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[ne($.status),G($.paymentStatus)]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[$.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>z($.id),className:"p-2 text-green-600 hover:text-green-900 hover:bg-green-50 rounded-full transition-colors",title:"Confirm",children:e.jsx(Qe,{size:16})}),e.jsx("button",{onClick:()=>A($.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-full transition-colors",title:"Cancel",children:e.jsx(ve,{size:16})})]}),$.paymentStatus==="PENDING"&&e.jsx("button",{onClick:()=>F($.id),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-full transition-colors",title:"Confirm Payment",children:e.jsx(Se,{size:16})}),e.jsx("button",{onClick:()=>W($.id),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-full transition-colors",title:"View Details",children:e.jsx(ze,{size:16})}),e.jsx("div",{className:"relative","data-dropdown-container":!0,children:e.jsx("button",{onClick:te=>{te.preventDefault();const L=te.currentTarget.getBoundingClientRect();S({x:L.right-160,y:L.bottom+4}),k(w===$.id?null:$.id)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-full transition-colors",title:"More actions",children:e.jsx(Px,{size:16})})})]})})]},$.id))})]})}),s.bookings.length===0&&!s.loading&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-600",children:r||l!=="all"||o!=="all"?"No bookings match your current filters.":"No bookings in the system yet."})]}),s.totalPages>1&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>K(Math.max(0,s.currentPage-1)),disabled:s.currentPage===0,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${s.currentPage===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e.jsx("button",{onClick:()=>K(Math.min(s.totalPages-1,s.currentPage+1)),disabled:s.currentPage===s.totalPages-1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${s.currentPage===s.totalPages-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:s.currentPage*I+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((s.currentPage+1)*I,s.totalElements)})," ","of ",e.jsx("span",{className:"font-medium",children:s.totalElements})," bookings"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>K(Math.max(0,s.currentPage-1)),disabled:s.currentPage===0,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${s.currentPage===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous page"}),e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,s.totalPages)}).map(($,te)=>{const L=Math.max(0,Math.min(s.totalPages-5,s.currentPage-2))+te;return e.jsx("button",{onClick:()=>K(L),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s.currentPage===L?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:L+1},L)}),e.jsxs("button",{onClick:()=>K(Math.min(s.totalPages-1,s.currentPage+1)),disabled:s.currentPage===s.totalPages-1,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${s.currentPage===s.totalPages-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Next page"}),e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})})]}),w&&C&&e.jsxs("div",{className:"fixed bg-white rounded-lg shadow-2xl z-[1000] border border-gray-200 py-1 min-w-max",style:{left:`${C.x}px`,top:`${C.y}px`},children:[e.jsxs("button",{onClick:()=>se(w),className:"w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 flex items-center transition-colors whitespace-nowrap",children:[e.jsx(Fe,{size:14,className:"mr-2"}),"Edit Booking"]}),e.jsxs("button",{onClick:()=>B(w),className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center transition-colors whitespace-nowrap",children:[e.jsx(Ns,{size:14,className:"mr-2"}),"Delete Booking"]})]}),e.jsx(be,{})]})},dj=()=>{const{id:t}=ot(),s=le(),[n,r]=h.useState({booking:null,loading:!1,error:null,updating:!1}),[a,l]=h.useState(!1),[i,o]=h.useState(!0),[c,d]=h.useState(!0),[u,m]=h.useState("");h.useState(!1);const g=async()=>{if(t){r(O=>({...O,loading:!0,error:null}));try{const O=await Ne.getBookingById(t);O.data.success&&(r(Y=>({...Y,booking:O.data.result,loading:!1})),m(O.data.result.specialRequests||""))}catch(O){r(Y=>{var W,z;return{...Y,error:((z=(W=O.response)==null?void 0:W.data)==null?void 0:z.message)||"Error occurred while loading booking details",loading:!1}})}}};h.useEffect(()=>{g()},[t]);const x=()=>{s("/admin/bookings")},y=()=>{g()},f=async()=>{var O,Y;if(n.booking){r(W=>({...W,updating:!0}));try{await Ne.confirmBooking(n.booking.id),await g(),alert("Booking confirmed successfully")}catch(W){alert(((Y=(O=W.response)==null?void 0:O.data)==null?void 0:Y.message)||"Error occurred while confirming booking")}finally{r(W=>({...W,updating:!1}))}}},j=async()=>{var Y,W;if(!n.booking)return;const O=prompt("Enter reason for canceling booking:");if(O){r(z=>({...z,updating:!0}));try{await Ne.cancelBooking(n.booking.id,O),await g(),alert("Booking cancelled successfully")}catch(z){alert(((W=(Y=z.response)==null?void 0:Y.data)==null?void 0:W.message)||"Error occurred while canceling booking")}finally{r(z=>({...z,updating:!1}))}}},N=async()=>{var O,Y;if(n.booking){r(W=>({...W,updating:!0}));try{await Ne.completeBooking(n.booking.id),await g(),alert("Booking marked as completed")}catch(W){alert(((Y=(O=W.response)==null?void 0:O.data)==null?void 0:Y.message)||"Error occurred while completing booking")}finally{r(W=>({...W,updating:!1}))}}},p=async()=>{var O,Y;if(n.booking&&window.confirm("Are you sure you want to delete this booking? This action cannot be undone.")){r(W=>({...W,updating:!0}));try{await Ne.deleteBooking(n.booking.id),alert("Booking deleted successfully"),s("/admin/bookings")}catch(W){alert(((Y=(O=W.response)==null?void 0:O.data)==null?void 0:Y.message)||"Error occurred while deleting booking"),r(z=>({...z,updating:!1}))}}},b=()=>{n.booking&&(window.location.href=`mailto:${n.booking.guestEmail}?subject=Booking information ${n.booking.bookingReference}`)},v=()=>{n.booking&&(window.location.href=`tel:${n.booking.guestPhone}`)},w=async()=>{var O,Y;if(n.booking&&window.confirm("Are you sure you want to confirm this payment? This action cannot be undone.")){r(W=>({...W,updating:!0}));try{await Ne.adminConfirmPayment(n.booking.id),await g(),alert("Payment confirmed successfully!")}catch(W){alert(((Y=(O=W.response)==null?void 0:O.data)==null?void 0:Y.message)||"Error occurred while confirming payment")}finally{r(W=>({...W,updating:!1}))}}},k=()=>{window.print()},C=()=>{n.booking&&(navigator.clipboard.writeText(n.booking.bookingReference),alert("Booking code copied"))},S=()=>{n.booking&&s(`/admin/hotels/${n.booking.hotelId}`)},P=()=>{n.booking&&s(`/admin/users?search=${n.booking.guestEmail}`)},T=O=>new Date(O).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),E=O=>new Date(O).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),R=O=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(O),I=(O,Y)=>{const W=new Date(O),A=new Date(Y).getTime()-W.getTime();return Math.ceil(A/(1e3*60*60*24))},U=O=>e.jsx(pr,{status:O,size:"md"}),K=O=>e.jsx(fr,{status:O,size:"md"});if(n.loading)return e.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading booking details..."})]});if(n.error)return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-6 w-6 text-red-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-red-800",children:"An error occurred"}),e.jsx("p",{className:"text-red-700 mt-1",children:n.error})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-3",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Go Back"}),e.jsx("button",{onClick:g,className:"px-4 py-2 border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:"Try Again"})]})]})});if(!n.booking)return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Booking not found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The booking with this ID does not exist or has been deleted."}),e.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to List"})]})});const q=n.booking,_=I(q.checkInDate,q.checkOutDate);return e.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:x,className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Details"}),e.jsxs("div",{className:"flex items-center mt-1 space-x-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["#",q.bookingReference]}),e.jsxs("button",{onClick:C,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(Xy,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:y,disabled:n.loading,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(qe,{className:`h-4 w-4 mr-2 ${n.loading?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:k,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Uc,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Booking Status"}),U(q.status)]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Payment Status"}),K(q.paymentStatus)]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:f,disabled:n.updating,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Confirm"]}),e.jsxs("button",{onClick:j,disabled:n.updating,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),q.status==="CONFIRMED"&&e.jsxs("button",{onClick:N,disabled:n.updating,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Complete"]}),e.jsxs("button",{onClick:b,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Send Email"]}),e.jsxs("button",{onClick:v,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Call Guest"]}),e.jsxs("button",{onClick:p,disabled:n.updating,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("button",{onClick:()=>o(!i),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(He,{className:"h-5 w-5 mr-2"}),"Guest Information"]}),i?e.jsx(_t,{className:"h-5 w-5"}):e.jsx(Tt,{className:"h-5 w-5"})]})}),i&&e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:q.guestName}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),e.jsx("a",{href:`mailto:${q.guestEmail}`,className:"hover:text-blue-600",children:q.guestEmail})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),e.jsx("a",{href:`tel:${q.guestPhone}`,className:"hover:text-blue-600",children:q.guestPhone})]}),q.userName&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Account: ",q.userName]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:P,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"View Profile"]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("button",{onClick:()=>d(!c),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(kt,{className:"h-5 w-5 mr-2"}),"Hotel & Room Information"]}),c?e.jsx(_t,{className:"h-5 w-5"}):e.jsx(Tt,{className:"h-5 w-5"})]})}),c&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:q.hotelName}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:q.hotelAddress})]}),q.hotelPhone&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:q.hotelPhone})]}),q.hotelEmail&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:q.hotelEmail})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-gray-900",children:q.roomTypeName}),q.roomDescription&&e.jsx("p",{className:"text-gray-600 text-sm",children:q.roomDescription}),q.bedType&&e.jsxs("p",{className:"text-gray-600 text-sm",children:["Bed Type: ",q.bedType]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Max Occupancy: ",q.maxOccupancy]})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center",children:[e.jsx(kx,{className:"h-4 w-4 mr-2"}),"View Hotel"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),"Booking Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Check-in Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:E(q.checkInDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Check-out Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:E(q.checkOutDate)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nights"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[_," nights"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Guests"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[q.guests," guests"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Booking Date"}),e.jsx("p",{className:"font-medium text-gray-900",children:T(q.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Last Updated"}),e.jsx("p",{className:"font-medium text-gray-900",children:T(q.updatedAt)})]})]}),q.specialRequests&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Special Requests"}),e.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:q.specialRequests})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("button",{onClick:()=>l(!a),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 mr-2"}),"Payment Details"]}),a?e.jsx(_t,{className:"h-5 w-5"}):e.jsx(Tt,{className:"h-5 w-5"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:["Room Rate (",_," nights)"]}),e.jsx("span",{className:"font-medium",children:R(q.pricePerNight*_)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rate per Night"}),e.jsx("span",{className:"text-gray-900",children:R(q.pricePerNight)})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:R(q.totalAmount)})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dt,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-sm text-gray-900",children:q.paymentMethod||"Not specified"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Payment Status"}),K(q.paymentStatus)]})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[e.jsx(De,{className:"h-4 w-4 mr-2"}),"Email Guest"]}),e.jsxs("button",{onClick:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Call Guest"]}),e.jsxs("button",{onClick:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"View Hotel Details"]}),q.paymentStatus==="PENDING"&&e.jsxs("button",{onClick:w,disabled:n.updating,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),n.updating?"Confirming...":"Confirm Payment"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Timeline"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Booking Created"}),e.jsx("p",{className:"text-xs text-gray-500",children:T(q.createdAt)}),q.createdBy&&e.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",q.createdBy]})]})]}),q.updatedAt!==q.createdAt&&e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Last Updated"}),e.jsx("p",{className:"text-xs text-gray-500",children:T(q.updatedAt)}),q.updatedBy&&e.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",q.updatedBy]})]})]})]})]})]})]})]})},mj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=h.useState(""),[g,x]=h.useState(),[y,f]=h.useState(),[j,N]=h.useState(),[p,b]=h.useState(),[v,w]=h.useState(),[k,C]=h.useState(0),[S,P]=h.useState(0),[T,E]=h.useState(0),[R,I]=h.useState([]),[U,K]=h.useState(!1),[q,_]=h.useState(null),[O,Y]=h.useState(!1),W=10,z=async(L=0,X=W,ie="createdAt")=>{try{l(!0);const Ke={pageNumber:L,pageSize:X,sortBy:ie};c&&(Ke.city=c),u&&(Ke.country=u),g!==void 0&&(Ke.starRating=g),y!==void 0&&(Ke.isActive=y),j!==void 0&&(Ke.isFeatured=j),p!==void 0&&(Ke.minPrice=p),v!==void 0&&(Ke.maxPrice=v),console.log(" Filter params:",Ke);let je;i?(console.log(" Using search API with term:",i),je=await me.searchHotels(i,L,X,ie)):Object.keys(Ke).length>3?(console.log(" Using admin filter API"),je=await me.getAdminHotelsWithFilters(Ke)):(console.log(" Using admin get all API"),je=await me.getAdminHotels(L,X,ie)),console.log(" API Response:",je.data);const Ae=je.data;Ae.success?(console.log(" Hotels loaded:",Ae.result.content.length),r(Ae.result.content),P(Ae.result.totalPages),E(Ae.result.totalElements),C(Ae.result.number)):(console.error(" API Error:",Ae.message),s("error","Error",Ae.message||"Unable to load hotel list"))}catch(Ke){console.error(" Error fetching hotels:",Ke),s("error","Error","Unable to connect to server")}finally{l(!1)}};h.useEffect(()=>{z()},[i,c,u,g,y,j,p,v]);const A=()=>{z(k)},F=L=>{C(L),z(L)},B=L=>L?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(L):"N/A",se=()=>{I(U?[]:n.map(L=>L.id)),K(!U)},oe=L=>{R.includes(L)?I(R.filter(X=>X!==L)):I([...R,L])},Ee=()=>{t("/admin/hotels/add")},Q=L=>{t(`/admin/hotels/edit/${L}`)},D=L=>{t(`/admin/hotels/${L}`)},J=async L=>{if(window.confirm("Are you sure you want to delete this hotel?"))try{_(L),await me.deleteHotelByAdmin(L),s("success","Success","Hotel deleted successfully"),z(k)}catch(X){console.error("Error deleting hotel:",X),s("error","Error","Unable to delete hotel")}finally{_(null)}},V=async()=>{if(R.length!==0&&window.confirm(`Are you sure you want to delete ${R.length} selected hotels?`))try{_("bulk-delete"),await Promise.all(R.map(L=>me.deleteHotelByAdmin(L))),s("success","Success",`${R.length} hotels deleted successfully`),I([]),K(!1),z(k)}catch(L){console.error("Error deleting hotels:",L),s("error","Error","Unable to delete some hotels")}finally{_(null)}},ne=async L=>{try{_(L),console.log(" Toggling status for hotel:",L);const X=await me.toggleHotelStatus(L);console.log(" Toggle status response:",X.data),s("success","Success","Hotel status updated successfully"),y!==void 0&&(console.log(" Clearing status filter to show updated hotel"),f(void 0)),z(k)}catch(X){console.error(" Error toggling hotel status:",X),s("error","Error","Unable to update hotel status")}finally{_(null)}},G=async L=>{try{_(L),console.log(" Toggling featured for hotel:",L);const X=await me.toggleHotelFeatured(L);console.log(" Toggle featured response:",X.data),s("success","Success","Featured status updated successfully"),j!==void 0&&(console.log(" Clearing featured filter to show updated hotel"),N(void 0)),z(k)}catch(X){console.error(" Error toggling featured status:",X),s("error","Error","Unable to update featured status")}finally{_(null)}},be=L=>L?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Qe,{size:12,className:"mr-1"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(ve,{size:12,className:"mr-1"}),"Inactive"]}),$=L=>L?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:e.jsx(lr,{size:12,className:"mr-1"})}):null,te=()=>{d(""),m(""),x(void 0),f(void 0),N(void 0),b(void 0),w(void 0),o("")};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hotel Management"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Total ",T," hotels"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:A,disabled:a,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(qe,{size:20,className:`mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:Ee,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add Hotel"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by hotel name, address...",value:i,onChange:L=>o(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("button",{onClick:()=>Y(!O),className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[e.jsx(Zt,{size:20,className:"mr-2"}),"Filters"]})]}),O&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thnh ph"}),e.jsx("input",{type:"text",placeholder:"Nhp thnh ph",value:c,onChange:L=>d(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quc gia"}),e.jsx("input",{type:"text",placeholder:"Nhp quc gia",value:u,onChange:L=>m(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Star Rating"}),e.jsxs("select",{value:g||"",onChange:L=>x(L.target.value?Number(L.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"1",children:"1 star"}),e.jsx("option",{value:"2",children:"2 stars"}),e.jsx("option",{value:"3",children:"3 stars"}),e.jsx("option",{value:"4",children:"4 stars"}),e.jsx("option",{value:"5",children:"5 stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:y===void 0?"":y.toString(),onChange:L=>f(L.target.value===""?void 0:L.target.value==="true"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Featured"}),e.jsxs("select",{value:j===void 0?"":j.toString(),onChange:L=>N(L.target.value===""?void 0:L.target.value==="true"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Featured"}),e.jsx("option",{value:"false",children:"Not Featured"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price"}),e.jsx("input",{type:"number",placeholder:"VND",value:p||"",onChange:L=>b(L.target.value?Number(L.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price"}),e.jsx("input",{type:"number",placeholder:"VND",value:v||"",onChange:L=>w(L.target.value?Number(L.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:te,className:"w-full bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Clear Filters"})})]})})]}),R.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-blue-800 font-medium",children:["Selected ",R.length," hotels"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:V,disabled:q==="bulk-delete",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:16,className:"mr-2"}),q==="bulk-delete"?"Deleting...":"Delete Selected"]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:U,onChange:se,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hotel"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Owner"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price/night"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx(qe,{className:"animate-spin mr-2",size:20}),"Loading..."]})})}):n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:"No hotels found"})}):n.map(L=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:R.includes(L.id),onChange:()=>oe(L.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:L.imageUrl?e.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:L.imageUrl,alt:L.name}):e.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:e.jsx(et,{size:20,className:"text-gray-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[L.starRating&&e.jsx("div",{className:"flex items-center mr-2",children:[...Array(L.starRating)].map((X,ie)=>e.jsx(fe,{size:12,className:"text-yellow-400 fill-current"},ie))}),$(L.featured)]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[e.jsx(Be,{size:14,className:"mr-1 text-gray-400"}),L.city&&L.country?`${L.city}, ${L.country}`:L.address]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:L.ownerName||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:L.ownerEmail||""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B(L.pricePerNight)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{size:14,className:"text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"text-sm text-gray-900",children:L.averageRating?L.averageRating.toFixed(1):"N/A"}),e.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",L.totalReviews||0,")"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"space-y-1",children:be(L.active)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>D(L.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"Xem chi tit",children:e.jsx(ze,{size:16})}),e.jsx("button",{onClick:()=>Q(L.id),className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Chnh sa",children:e.jsx(Fe,{size:16})}),e.jsx("button",{onClick:()=>ne(L.id),disabled:q===L.id,className:`p-1 rounded ${L.active?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:L.active?"V hiu ha":"Kch hot",children:L.active?e.jsx(qc,{size:16}):e.jsx(_c,{size:16})}),e.jsx("button",{onClick:()=>G(L.id),disabled:q===L.id,className:`p-1 rounded ${L.featured?"text-yellow-600 hover:text-yellow-900":"text-gray-600 hover:text-gray-900"}`,title:L.featured?"B ni bt":"t ni bt",children:e.jsx(lr,{size:16})}),e.jsx("button",{onClick:()=>J(L.id),disabled:q===L.id,className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Xa",children:e.jsx(tt,{size:16})})]})})]},L.id))})]})}),S>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>F(Math.max(0,k-1)),disabled:k===0,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${k===0?"text-gray-300 bg-gray-100 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50"}`,children:"Trc"}),e.jsx("button",{onClick:()=>F(Math.min(S-1,k+1)),disabled:k===S-1,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${k===S-1?"text-gray-300 bg-gray-100 cursor-not-allowed":"text-gray-700 bg-white hover:bg-gray-50"}`,children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hin th ",e.jsx("span",{className:"font-medium",children:k*W+1})," n"," ",e.jsx("span",{className:"font-medium",children:Math.min((k+1)*W,T)})," ","trong tng s ",e.jsx("span",{className:"font-medium",children:T})," khch sn"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>F(Math.max(0,k-1)),disabled:k===0,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${k===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang trc"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,S)},(L,X)=>{let ie;return S<=5||k<3?ie=X:k>S-4?ie=S-5+X:ie=k-2+X,e.jsx("button",{onClick:()=>F(ie),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${k===ie?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:ie+1},ie)}),e.jsxs("button",{onClick:()=>F(Math.min(S-1,k+1)),disabled:k===S-1,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${k===S-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},uj=()=>{const{id:t}=ot(),s=le(),{showToast:n}=we(),[r,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(null),[d,u]=h.useState("overview"),[m,g]=h.useState([]),[x,y]=h.useState(!1);h.useEffect(()=>{const R=new URLSearchParams(window.location.search).get("tab");R&&u(R)},[]);const f=async()=>{if(t)try{i(!0);const R=(await me.getHotelDetails(t)).data;R.success?a(R.result):(n("error","Error",R.message||"Unable to load hotel information"),s("/admin/hotels"))}catch(E){console.error("Error fetching hotel details:",E),n("error","Li","Khng th kt ni n server"),s("/admin/hotels")}finally{i(!1)}},j=async()=>{if(t)try{y(!0);const R=(await Nt.getRoomTypesByHotel(t,0,50,"name")).data;R.success?g(R.result.content||[]):n("error","Li","Khng th ti danh sch loi phng")}catch(E){console.error("Error fetching room types:",E),n("error","Li","Khng th kt ni n server")}finally{y(!1)}};h.useEffect(()=>{f()},[t]),h.useEffect(()=>{d==="room-types"&&j()},[d,t]);const N=async()=>{if(!(!r||!t))try{c("status"),await me.toggleHotelStatus(t),n("success","Success","Hotel status updated successfully"),f()}catch(E){console.error("Error toggling hotel status:",E),n("error","Error","Unable to update hotel status")}finally{c(null)}},p=async()=>{if(!(!r||!t))try{c("featured"),await me.toggleHotelFeatured(t),n("success","Thnh cng"," cp nht trng thi ni bt"),f()}catch(E){console.error("Error toggling featured status:",E),n("error","Li","Khng th cp nht trng thi ni bt")}finally{c(null)}},b=async()=>{if(!(!r||!t)&&window.confirm("Are you sure you want to delete this hotel? This action cannot be undone."))try{c("delete"),await me.deleteHotelByAdmin(t),n("success","Success","Hotel deleted successfully"),s("/admin/hotels")}catch(E){console.error("Error deleting hotel:",E),n("error","Error","Unable to delete hotel")}finally{c(null)}},v=async(E,R)=>{if(window.confirm(`Bn c chc chn mun xa loi phng "${R}"? Hnh ng ny khng th hon tc.`))try{c(`delete-roomtype-${E}`),await Nt.deleteRoomType(E),n("success","Thnh cng"," xa loi phng"),j()}catch(I){console.error("Error deleting room type:",I),n("error","Li","Khng th xa loi phng")}finally{c(null)}},w=E=>E?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(E):"N/A",k=E=>{const R={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(E).toLocaleDateString("vi-VN",R)},C=E=>E?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[e.jsx(Qe,{size:14,className:"mr-1"}),"Hot ng"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:[e.jsx(ve,{size:14,className:"mr-1"}),"Khng hot ng"]}),S=E=>E?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(lr,{size:14,className:"mr-1"}),"Ni bt"]}):null,P=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:r==null?void 0:r.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{size:16,className:"mr-2"}),e.jsx("span",{children:r==null?void 0:r.address})]}),(r==null?void 0:r.city)&&(r==null?void 0:r.country)&&e.jsx("div",{className:"flex items-center text-gray-600",children:e.jsxs("span",{className:"ml-6",children:[r.city,", ",r.country]})}),(r==null?void 0:r.phone)&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{size:16,className:"mr-2"}),e.jsx("span",{children:r.phone})]}),(r==null?void 0:r.email)&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{size:16,className:"mr-2"}),e.jsx("span",{children:r.email})]}),(r==null?void 0:r.website)&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Jl,{size:16,className:"mr-2"}),e.jsx("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:r.website})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[C((r==null?void 0:r.active)||!1),S((r==null?void 0:r.featured)||!1)]}),(r==null?void 0:r.starRating)&&e.jsxs("div",{className:"flex items-center",children:[[...Array(r.starRating)].map((E,R)=>e.jsx(fe,{size:16,className:"text-yellow-400 fill-current"},R)),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[r.starRating," sao"]})]}),(r==null?void 0:r.averageRating)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{size:16,className:"text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"font-medium",children:r.averageRating.toFixed(1)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",r.totalReviews||0," nh gi)"]})]})]})]}),(r==null?void 0:r.imageUrl)&&e.jsx("div",{className:"mb-6",children:e.jsx("img",{src:r.imageUrl,alt:r.name,className:"w-full h-64 object-cover rounded-lg"})}),(r==null?void 0:r.description)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"M t"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description})]}),(r==null?void 0:r.pricePerNight)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Gi c bn"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[w(r.pricePerNight),"/m"]})]}),((r==null?void 0:r.checkInTime)||(r==null?void 0:r.checkOutTime))&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thi gian nhn/tr phng"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.checkInTime&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{size:16,className:"mr-2 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Nhn phng: ",r.checkInTime]})]}),r.checkOutTime&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{size:16,className:"mr-2 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["Tr phng: ",r.checkOutTime]})]})]})]}),(r==null?void 0:r.amenities)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tin nghi"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.amenities.split(",").map((E,R)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:E.trim()},R))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(r==null?void 0:r.cancellationPolicy)&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(We,{size:16,className:"mr-2"}),"Chnh sch hy"]}),e.jsx("p",{className:"text-gray-600",children:r.cancellationPolicy})]}),(r==null?void 0:r.petPolicy)&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(rb,{size:16,className:"mr-2"}),"Chnh sch th cng"]}),e.jsx("p",{className:"text-gray-600",children:r.petPolicy})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thng tin ch s hu"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tn ch s hu"}),e.jsx("p",{className:"mt-1 text-gray-900",children:(r==null?void 0:r.ownerName)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"mt-1 text-gray-900",children:(r==null?void 0:r.ownerEmail)||"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thng k"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Thng k phng"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(r==null?void 0:r.totalRoomTypes)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Loi phng"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(r==null?void 0:r.totalRooms)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tng phng"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(r==null?void 0:r.availableRooms)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Phng trng"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:((r==null?void 0:r.totalRooms)||0)-((r==null?void 0:r.availableRooms)||0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Phng  t"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Thng tin h thng"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngy to"}),e.jsx("p",{className:"mt-1 text-gray-900",children:k((r==null?void 0:r.createdAt)||"")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cp nht ln cui"}),e.jsx("p",{className:"mt-1 text-gray-900",children:k((r==null?void 0:r.updatedAt)||"")})]}),(r==null?void 0:r.createdBy)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngi to"}),e.jsx("p",{className:"mt-1 text-gray-900",children:r.createdBy})]}),(r==null?void 0:r.updatedBy)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngi cp nht"}),e.jsx("p",{className:"mt-1 text-gray-900",children:r.updatedBy})]})]})]})]}),T=()=>e.jsx("div",{className:"space-y-4",children:x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(qe,{className:"animate-spin h-8 w-8 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"ang ti danh sch loi phng..."})]}):m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"Cha c loi phng no"}),e.jsxs("button",{onClick:()=>s(`/admin/room-types/add?hotelId=${r==null?void 0:r.id}`),className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(Ze,{size:16,className:"mr-1"}),"Thm loi phng u tin"]})]}):m.map(E=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[E.imageUrl&&e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:E.imageUrl,alt:E.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-2",children:e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:E.name})}),E.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:E.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ce,{size:16,className:"mr-2"}),e.jsxs("span",{className:"text-sm",children:[E.maxOccupancy," ngi"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ct,{size:16,className:"mr-2"}),e.jsx("span",{className:"text-sm",children:E.bedType||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(pe,{size:16,className:"mr-2"}),e.jsxs("span",{className:"text-sm",children:[E.totalRooms," phng"]})]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),e.jsxs("span",{className:"text-sm",children:[E.availableRooms," trng"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Gi mi m:"}),e.jsx("span",{className:"text-lg font-semibold text-blue-600",children:w(E.pricePerNight)})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>s(`/admin/room-types/${E.id}`),className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded text-sm hover:bg-gray-200 transition-colors flex items-center justify-center",children:[e.jsx(ze,{size:16,className:"mr-1"}),"Xem"]}),e.jsxs("button",{onClick:()=>s(`/admin/room-types/edit/${E.id}`),className:"flex-1 bg-blue-100 text-blue-700 px-3 py-2 rounded text-sm hover:bg-blue-200 transition-colors flex items-center justify-center",children:[e.jsx(Fe,{size:16,className:"mr-1"}),"Sa"]}),e.jsx("button",{onClick:()=>v(E.id,E.name),disabled:o===`delete-roomtype-${E.id}`,className:"bg-red-100 text-red-700 px-3 py-2 rounded text-sm hover:bg-red-200 transition-colors flex items-center justify-center disabled:opacity-50",children:e.jsx(tt,{size:16})})]})]})]},E.id))});return l?e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx(qe,{className:"animate-spin mr-2",size:24}),e.jsx("span",{children:"ang ti thng tin khch sn..."})]})}):r?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>s("/admin/hotels"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hotel Details"}),e.jsx("p",{className:"text-gray-600 mt-1",children:r.name})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:N,disabled:o==="status",className:`px-4 py-2 rounded-lg transition-colors flex items-center disabled:opacity-50 ${r.active?"bg-orange-600 text-white hover:bg-orange-700":"bg-green-600 text-white hover:bg-green-700"}`,children:[r.active?e.jsx(qc,{size:20,className:"mr-2"}):e.jsx(_c,{size:20,className:"mr-2"}),o==="status"?"ang cp nht...":r.active?"V hiu ha":"Kch hot"]}),e.jsxs("button",{onClick:p,disabled:o==="featured",className:`px-4 py-2 rounded-lg transition-colors flex items-center disabled:opacity-50 ${r.featured?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-gray-600 text-white hover:bg-gray-700"}`,children:[e.jsx(lr,{size:20,className:"mr-2"}),o==="featured"?"ang cp nht...":r.featured?"B ni bt":"t ni bt"]}),e.jsxs("button",{onClick:()=>s(`/admin/hotels/edit/${r.id}`),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2"}),"Edit"]}),e.jsxs("button",{onClick:b,disabled:o==="delete",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:20,className:"mr-2"}),o==="delete"?"Deleting...":"Delete"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>u("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tng quan"}),e.jsx("button",{onClick:()=>u("room-types"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="room-types"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Loi phng"})]})}),d==="overview"&&P(),d==="room-types"&&T()]}):e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Khng tm thy khch sn"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Khch sn c th  b xa hoc khng tn ti."}),e.jsx("button",{onClick:()=>s("/admin/hotels"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Quay li danh sch"})]})})},hj=({onUpload:t,onError:s,accept:n="image/*",maxSize:r=5,uploadType:a="image",currentImageUrl:l,className:i="",disabled:o=!1})=>{const{showToast:c}=we(),d=h.useRef(null),[u,m]=h.useState(!1),[g,x]=h.useState({uploading:!1,progress:0,error:null,preview:l||null}),y=h.useCallback(k=>k.type.startsWith("image/")?k.size/(1024*1024)>r?`File qu ln. Kch thc ti a: ${r}MB`:["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(k.type)?null:"Ch chp nhn nh dng: JPG, PNG, GIF, WebP":"Ch chp nhn file hnh nh",[r]),f=h.useCallback(async k=>{var S,P;const C=y(k);if(C){x(T=>({...T,error:C})),s==null||s(C),c("error","Li",C);return}x(T=>({...T,uploading:!0,progress:0,error:null,preview:URL.createObjectURL(k)}));try{const T=setInterval(()=>{x(R=>({...R,progress:Math.min(R.progress+10,90)}))},200);let E;switch(a){case"hotel-image":E=await Ri.uploadHotelImage(k);break;case"room-image":E=await Ri.uploadRoomImage(k);break;default:E=await Ri.uploadImage(k)}if(clearInterval(T),E.data.success&&E.data.result){x(I=>({...I,uploading:!1,progress:100,error:null}));const R=E.data.result;if(R.imageUrl)t(R.imageUrl,R);else throw new Error("No image URL received from server");c("success","Thnh cng","Upload hnh nh thnh cng")}else throw new Error(E.data.message||"Upload tht bi")}catch(T){x(E=>{var R,I;return{...E,uploading:!1,progress:0,error:((I=(R=T.response)==null?void 0:R.data)==null?void 0:I.message)||T.message||"Upload tht bi"}}),s==null||s(T.message),c("error","Li upload",((P=(S=T.response)==null?void 0:S.data)==null?void 0:P.message)||T.message||"Upload tht bi")}},[a,y,t,s,c]),j=h.useCallback(k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?m(!0):k.type==="dragleave"&&m(!1)},[]),N=h.useCallback(k=>{if(k.preventDefault(),k.stopPropagation(),m(!1),o||g.uploading)return;const C=Array.from(k.dataTransfer.files);C.length>0&&f(C[0])},[o,g.uploading,f]),p=h.useCallback(k=>{const C=k.target.files;C&&C.length>0&&f(C[0])},[f]),b=h.useCallback(()=>{var k;!o&&!g.uploading&&((k=d.current)==null||k.click())},[o,g.uploading]),v=h.useCallback(()=>{x(k=>({...k,preview:null,error:null,progress:0})),d.current&&(d.current.value="")},[]),w=()=>{switch(a){case"hotel-image":return"hnh nh khch sn (1200x800)";case"room-image":return"hnh nh phng (800x600)";default:return"hnh nh"}};return e.jsxs("div",{className:`w-full ${i}`,children:[e.jsx("input",{ref:d,type:"file",accept:n,onChange:p,className:"hidden",disabled:o}),e.jsxs("div",{onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:N,onClick:b,className:`
          relative border-2 border-dashed rounded-lg p-6 transition-all duration-200 cursor-pointer
          ${u?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
          ${o||g.uploading?"opacity-50 cursor-not-allowed":""}
          ${g.error?"border-red-300 bg-red-50":""}
          ${g.preview&&!g.uploading?"border-green-300 bg-green-50":""}
        `,children:[g.preview&&e.jsxs("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:[e.jsx("img",{src:g.preview,alt:"Preview",className:"w-full h-full object-cover"}),!g.uploading&&e.jsx("button",{onClick:k=>{k.stopPropagation(),v()},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",type:"button",children:e.jsx(ve,{size:16})})]}),e.jsx("div",{className:`text-center ${g.preview?"hidden":""}`,children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[g.uploading?e.jsx(lb,{size:48,className:"text-blue-500 animate-spin"}):g.error?e.jsx(ue,{size:48,className:"text-red-500"}):e.jsx(Kc,{size:48,className:"text-gray-400"}),e.jsx("div",{className:"space-y-1",children:g.uploading?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["ang upload ",w(),"..."]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.progress}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500",children:[g.progress,"%"]})]}):g.error?e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Upload tht bi"}),e.jsx("p",{className:"text-xs text-red-500",children:g.error}),e.jsx("p",{className:"text-xs text-gray-500",children:"Click  th li"})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Ko th ",w()," vo y"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["hoc ",e.jsx("span",{className:"text-blue-600 font-medium",children:"click  chn file"})]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["H tr: JPG, PNG, GIF, WebP  Ti a ",r,"MB"]})]})})]})}),g.preview&&g.progress===100&&!g.uploading&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-lg",children:e.jsx("div",{className:"bg-white rounded-full p-3",children:e.jsx(yt,{size:32,className:"text-green-500"})})})]}),g.preview&&g.progress===100&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[e.jsx(Tn,{size:12,className:"inline mr-1"}),"Upload thnh cng  Click  thay i"]})]})},yr=({title:t="Hnh nh",imageUrl:s,onImageUrlChange:n,uploadType:r="hotel-image",errors:a={},required:l=!1,className:i=""})=>{const[o,c]=h.useState("file"),[d,u]=h.useState(s);h.useEffect(()=>{u(s)},[s]);const m=(f,j)=>{n(f)},g=f=>{const j=f.target.value;u(j),n(j)},x=f=>f?/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i.test(f):!0,y=a.imageUrl||(!x(d)&&d?"URL hnh nh khng hp l":"");return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8 ${i}`,children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Tn,{className:"mr-3 text-indigo-600",size:24}),t,l&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{type:"button",onClick:()=>c("file"),className:`flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${o==="file"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Kc,{size:16,className:"mr-2"}),"Upload File"]}),e.jsxs("button",{type:"button",onClick:()=>c("url"),className:`flex-1 flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${o==="url"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Pm,{size:16,className:"mr-2"}),"Paste URL"]})]}),o==="file"?e.jsxs("div",{className:"space-y-4",children:[e.jsx(hj,{onUpload:m,uploadType:r,currentImageUrl:s,maxSize:10,className:"min-h-[200px]"}),e.jsx("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Tn,{size:16,className:"text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Upload trc tip ln Cloudinary"}),e.jsx("p",{className:"text-blue-700 mt-1",children:r==="hotel-image"?"Hnh nh s c ti u ha thnh 1200x800px cho khch sn":r==="room-image"?"Hnh nh s c ti u ha thnh 800x600px cho phng":"Hnh nh s c ti u ha cho hin th tt nht"})]})]})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["URL hnh nh ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"url",value:d,onChange:g,placeholder:"https://example.com/hotel-image.jpg",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${y?"border-red-500":"border-gray-300"}`}),y&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:y})]}),d&&!y&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),e.jsx("div",{className:"relative w-full max-w-md mx-auto",children:e.jsx("img",{src:d,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-300",onError:f=>{const j=f.target;j.style.display="none"}})})]}),e.jsx("div",{className:"text-sm text-gray-600 bg-amber-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Pm,{size:16,className:"text-amber-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-800",children:"S dng URL t ngun bn ngoi"}),e.jsx("p",{className:"text-amber-700 mt-1",children:"Ch chp nhn nh dng: JPG, PNG, GIF, WebP. m bo URL c th truy cp cng khai."})]})]})})]})]})},xj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState(!1),[a,l]=h.useState({name:"",description:"",address:"",city:"",country:"",phone:"",email:"",website:"",starRating:1,pricePerNight:0,checkInTime:"14:00",checkOutTime:"12:00",amenities:"",cancellationPolicy:"",petPolicy:"",imageUrl:""}),[i,o]=h.useState({}),c=()=>{var x,y,f,j,N,p,b;const g={};return(x=a.name)!=null&&x.trim()||(g.name="Hotel name is required"),(y=a.description)!=null&&y.trim()||(g.description="Description is required"),(f=a.address)!=null&&f.trim()||(g.address="Address is required"),(j=a.city)!=null&&j.trim()||(g.city="City is required"),(N=a.country)!=null&&N.trim()||(g.country="Country is required"),(p=a.phone)!=null&&p.trim()||(g.phone="Phone number is required"),(b=a.email)!=null&&b.trim()||(g.email="Email is required"),a.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(g.email="Invalid email address"),a.phone&&!/^[0-9+\-\s()]+$/.test(a.phone)&&(g.phone="Invalid phone number"),(!a.pricePerNight||a.pricePerNight<=0)&&(g.pricePerNight="Room price must be greater than 0"),(!a.starRating||a.starRating<1||a.starRating>5)&&(g.starRating="Star rating must be from 1 to 5"),a.website&&!/^https?:\/\/.+/.test(a.website)&&(g.website="Website must start with http:// or https://"),o(g),Object.keys(g).length===0},d=g=>{const{name:x,value:y}=g.target;l(f=>({...f,[x]:x==="starRating"||x==="pricePerNight"?Number(y):y})),i[x]&&o(f=>({...f,[x]:""}))},u=async g=>{var x;if(g.preventDefault(),!c()){s("error","Error","Please check the information entered");return}try{r(!0);const y=await me.createHotelByAdmin(a),f=((x=y.data.result)==null?void 0:x.id)||y.data.id;s("success","Success","New hotel has been created"),t(`/admin/hotels/${f}`)}catch(y){console.error("Error creating hotel:",y),s("error","Error","Unable to connect to server")}finally{r(!1)}},m=()=>{window.confirm("Are you sure you want to cancel? All entered information will be lost.")&&t("/admin/hotels")};return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/admin/hotels"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Add New Hotel"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Enter detailed hotel information"})]})]})}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Be,{size:20,className:"mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hotel Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter hotel name"}),i.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Star Rating ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{name:"starRating",value:a.starRating,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.starRating?"border-red-500":"border-gray-300"}`,children:[1,2,3,4,5].map(g=>e.jsxs("option",{value:g,children:[g," star",g>1?"s":""]},g))}),i.starRating&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.starRating})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"description",value:a.description,onChange:d,rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter detailed description about the hotel"}),i.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.description})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",value:a.address,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter full address"}),i.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.address})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"city",value:a.city,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.city?"border-red-500":"border-gray-300"}`,placeholder:"Enter city name"}),i.city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.city})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Country ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"country",value:a.country,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.country?"border-red-500":"border-gray-300"}`,placeholder:"Enter country name"}),i.country&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.country})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Base Price/Night (VND) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"pricePerNight",value:a.pricePerNight,onChange:d,min:"0",step:"1000",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.pricePerNight?"border-red-500":"border-gray-300"}`,placeholder:"Enter room price"}),i.pricePerNight&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.pricePerNight})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(yr,{title:"Hotel Image",imageUrl:a.imageUrl||"",onImageUrlChange:g=>l(x=>({...x,imageUrl:g})),uploadType:"hotel-image",errors:{imageUrl:i.imageUrl}})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Le,{size:20,className:"mr-2 text-blue-500"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number"}),i.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),i.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",name:"website",value:a.website,onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.website?"border-red-500":"border-gray-300"}`,placeholder:"https://example.com"}),i.website&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.website})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Pe,{size:20,className:"mr-2 text-blue-500"}),"Check-in/Check-out Times"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-in Time"}),e.jsx("input",{type:"time",name:"checkInTime",value:a.checkInTime,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Check-out Time"}),e.jsx("input",{type:"time",name:"checkOutTime",value:a.checkOutTime,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(fe,{size:20,className:"mr-2 text-blue-500"}),"Amenities"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities List (separated by commas)"}),e.jsx("textarea",{name:"amenities",value:a.amenities,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Wi-Fi, Swimming Pool, Spa, Restaurant, Gym, Parking"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Available Amenities (click to add)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Free Wi-Fi","Swimming Pool","Spa & Massage","Restaurant","Fitness Center","Parking","24-hour Room Service","24-hour Front Desk","Elevator","Air Conditioning","Television","Mini Fridge","Safe","Hair Dryer","Bathtub","Shower","Slippers","Bathrobe","Work Desk","Sofa","Balcony","Ocean View","City View","Mountain View","Bar","Karaoke","Tennis Court","Golf Course","Private Beach","Laundry Service","Airport Shuttle","Bicycle Rental","Kids Play Area","Meeting Rooms","Shopping Center","ATM","Gift Shop"].map(g=>{const x=(a.amenities||"").split(",").map(y=>y.trim()).includes(g);return e.jsxs("button",{type:"button",onClick:()=>{const y=(a.amenities||"").split(",").map(f=>f.trim()).filter(f=>f);if(x){const f=y.filter(j=>j!==g);l(j=>({...j,amenities:f.join(", ")}))}else{const f=[...y,g];l(j=>({...j,amenities:f.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${x?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[x&&e.jsx("span",{className:"mr-1",children:""}),g]},g)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Tip: Click on the tags to add/remove amenities. You can also type directly in the text box above."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(We,{size:20,className:"mr-2 text-blue-500"}),"Policies"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cancellation Policy"}),e.jsx("textarea",{name:"cancellationPolicy",value:a.cancellationPolicy,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Free cancellation before 24 hours"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pet Policy"}),e.jsx("textarea",{name:"petPolicy",value:a.petPolicy,onChange:d,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Pets are not allowed"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[e.jsx("button",{type:"button",onClick:m,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(rt,{size:20,className:"mr-2"}),n?"Saving...":"Save Hotel"]})]})]})]})},gj=()=>{const t=le(),{id:s}=ot(),{showToast:n}=we(),[r,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState(null),[d,u]=h.useState([]),[m,g]=h.useState(!1),[x,y]=h.useState({name:"",description:"",address:"",city:"",country:"",phone:"",email:"",website:"",starRating:1,checkInTime:"",checkOutTime:"",imageUrl:"",pricePerNight:0,amenities:"",cancellationPolicy:"",petPolicy:"",ownerId:"",active:!0,featured:!1});h.useEffect(()=>{s&&(j(),f())},[s]);const f=async()=>{try{g(!0);const w=(await vt.getHosts(0,100,"name")).data;if(w.success&&w.result){const k=w.result.content.map(C=>({id:C.id,name:C.name,email:C.email,username:C.username}));u(k)}}catch(v){console.error("Error fetching hosts:",v),n("error","Error","Unable to load owner list")}finally{g(!1)}},j=async()=>{try{a(!0);const v=await me.getHotelDetails(s),w=v.data.result||v.data;c(w),y({name:w.name||"",description:w.description||"",address:w.address||"",city:w.city||"",country:w.country||"",phone:w.phone||"",email:w.email||"",website:w.website||"",starRating:w.starRating||1,checkInTime:w.checkInTime||"",checkOutTime:w.checkOutTime||"",imageUrl:w.imageUrl||"",pricePerNight:w.pricePerNight||0,amenities:w.amenities||"",cancellationPolicy:w.cancellationPolicy||"",petPolicy:w.petPolicy||"",ownerId:w.ownerId||"",active:w.active,featured:w.featured})}catch(v){console.error("Error fetching hotel:",v),n("error","Error","Unable to load hotel information"),t("/admin/hotels")}finally{a(!1)}},N=v=>{const{name:w,value:k,type:C}=v.target;y(S=>({...S,[w]:C==="number"?parseFloat(k)||0:k}))},p=v=>{const{name:w,checked:k}=v.target;y(C=>({...C,[w]:k}))},b=async v=>{if(v.preventDefault(),!x.name||!x.address){n("error","Error","Please fill in all required information");return}try{i(!0),await me.updateHotelByAdmin(s,x),n("success","Success","Hotel information updated successfully"),t(`/admin/hotels/${s}`)}catch(w){console.error("Error updating hotel:",w),n("error","Error","Unable to update hotel")}finally{i(!1)}};return r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/admin/hotels"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Hotel"}),e.jsx("p",{className:"text-gray-600",children:o.name})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t(`/admin/hotels/${s}`),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:b,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(rt,{size:20,className:"mr-2"}),l?"Saving...":"Save Changes"]})]})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hotel Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Star Rating"}),e.jsx("select",{name:"starRating",value:x.starRating,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[1,2,3,4,5].map(v=>e.jsxs("option",{value:v,children:[v," stars"]},v))})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:x.description,onChange:N,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Be,{size:20,className:"mr-2 text-green-500"}),"Location Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"address",value:x.address,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",name:"city",value:x.city,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),e.jsx("input",{type:"text",name:"country",value:x.country,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Le,{size:20,className:"mr-2 text-purple-500"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsx("input",{type:"url",name:"website",value:x.website,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Pe,{size:20,className:"mr-2 text-orange-500"}),"Thng tin t phng"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi nhn phng"}),e.jsx("input",{type:"time",name:"checkInTime",value:x.checkInTime,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi tr phng"}),e.jsx("input",{type:"time",name:"checkOutTime",value:x.checkOutTime,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi mi m (VND)"}),e.jsx("input",{type:"number",name:"pricePerNight",value:x.pricePerNight,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Tn,{size:20,className:"mr-2 text-indigo-500"}),"Thng tin b sung"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx(yr,{title:"Hotel Image",imageUrl:x.imageUrl||"",onImageUrlChange:v=>y(w=>({...w,imageUrl:v})),uploadType:"hotel-image"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities (comma separated)"}),e.jsx("textarea",{name:"amenities",value:x.amenities,onChange:N,rows:2,placeholder:"WiFi, Pool, Spa, Restaurant...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select available amenities (click to add/remove)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Wifi min ph","H bi","Spa & Massage","Nh hng","Phng gym","Bi  xe","Dch v phng 24/7","L tn 24/7","Thang my","iu ha","Tivi","T lnh mini","Kt an ton","My sy tc","Bn tm","Vi sen","Dp i trong phng","o chong tm","Bn lm vic","Gh sofa","Ban cng","Tm nhn ra bin","Tm nhn ra thnh ph","Tm nhn ra ni","Quy bar","Karaoke","Sn tennis","Sn golf","Bi bin ring","Dch v git i","Dch v a n sn bay","Cho thu xe p","Khu vui chi tr em","Phng hp","Trung tm thng mi","ATM","Ca hng lu nim"].map(v=>{const w=(x.amenities||"").split(",").map(k=>k.trim()).includes(v);return e.jsxs("button",{type:"button",onClick:()=>{const k=(x.amenities||"").split(",").map(C=>C.trim()).filter(C=>C);if(w){const C=k.filter(S=>S!==v);y(S=>({...S,amenities:C.join(", ")}))}else{const C=[...k,v];y(S=>({...S,amenities:C.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${w?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[w&&e.jsx("span",{className:"mr-1",children:""}),v]},v)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Tip: Click on tags to add/remove amenities. You can also type directly in the text box above."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cancellation Policy"}),e.jsx("textarea",{name:"cancellationPolicy",value:x.cancellationPolicy,onChange:N,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pet Policy"}),e.jsx("textarea",{name:"petPolicy",value:x.petPolicy,onChange:N,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(He,{size:20,className:"mr-2 text-purple-500"}),"Owner Management"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Owner"}),o&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[e.jsx("p",{className:"font-medium text-gray-900",children:o.ownerName||"N/A"}),e.jsx("p",{className:"text-sm text-gray-600",children:o.ownerEmail||"No email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select New Owner"}),e.jsxs("select",{name:"ownerId",value:x.ownerId,onChange:N,disabled:m,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[e.jsx("option",{value:"",children:"-- Keep current owner --"}),m?e.jsx("option",{value:"",children:"Loading list..."}):d.map(v=>e.jsxs("option",{value:v.id,children:[v.name," (",v.email,")"]},v.id))]}),m&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[e.jsx(qe,{size:12,className:"animate-spin mr-1"}),"Loading owner list..."]}),!m&&d.length===0&&e.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:" No users found with HOST role"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" Tip: Only shows users with HOST role. To change owner, select a new person from the list."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Status Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"active",name:"active",checked:x.active,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Hotel is active"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:x.featured,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"featured",className:"ml-2 block text-sm text-gray-900",children:"Featured hotel"})]})]})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Hotel not found"})})},pj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState([]),[a,l]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(""),[u,m]=h.useState(""),[g,x]=h.useState(),[y,f]=h.useState(),[j,N]=h.useState(),[p,b]=h.useState(),[v,w]=h.useState(0),[k,C]=h.useState(0),[S,P]=h.useState(0),[T,E]=h.useState([]),[R,I]=h.useState(!1),[U,K]=h.useState(null),[q,_]=h.useState(!1),O=10,Y=async(G=0,be=O,$="createdAt")=>{try{o(!0);const te={pageNumber:G,pageSize:be,sortBy:$};u&&(te.hotelId=u),g!==void 0&&(te.minOccupancy=g),y!==void 0&&(te.maxOccupancy=y),j!==void 0&&(te.minPrice=j),p!==void 0&&(te.maxPrice=p);let L;c?L=await Nt.searchRoomTypes(c,G,be,$):Object.keys(te).length>3?L=await Nt.getAllRoomTypesWithFilters(te):L=await Nt.getAllRoomTypes(G,be,$);const X=L.data;X.success?(r(X.result.content),C(X.result.totalPages),P(X.result.totalElements),w(X.result.number)):s("error","Error",X.message||"Unable to load room type list")}catch(te){console.error("Error fetching room types:",te),s("error","Error","Unable to connect to server")}finally{o(!1)}},W=async()=>{try{const be=(await me.getAllHotels(0,100,"name")).data;be.success&&l(be.result.content)}catch(G){console.error("Error fetching hotels:",G)}};h.useEffect(()=>{Y(),W()},[c,u,g,y,j,p]);const z=()=>{Y(v)},A=G=>{w(G),Y(G)},F=G=>G?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(G):"N/A",B=()=>{E(R?[]:n.map(G=>G.id)),I(!R)},se=G=>{T.includes(G)?E(T.filter(be=>be!==G)):E([...T,G])},oe=()=>{t("/admin/room-types/add")},Ee=G=>{t(`/admin/room-types/edit/${G}`)},Q=G=>{t(`/admin/room-types/${G}`)},D=async G=>{if(window.confirm("Are you sure you want to delete this room type?"))try{K(G),await Nt.deleteRoomType(G),s("success","Success","Room type deleted successfully"),Y(v)}catch(be){console.error("Error deleting room type:",be),s("error","Error","Unable to delete room type")}finally{K(null)}},J=async()=>{if(T.length!==0&&window.confirm(`Are you sure you want to delete ${T.length} selected room types?`))try{K("bulk-delete"),await Promise.all(T.map(G=>Nt.deleteRoomType(G))),s("success","Success",`Deleted ${T.length} room types`),E([]),I(!1),Y(v)}catch(G){console.error("Error deleting room types:",G),s("error","Error","Unable to delete some room types")}finally{K(null)}},V=()=>{d(""),m(""),x(void 0),f(void 0),N(void 0),b(void 0),w(0)},ne=()=>{const G=[],$=Math.max(0,v-Math.floor(2.5)),te=Math.min(k-1,$+5-1);for(let L=$;L<=te;L++)G.push(e.jsx("button",{onClick:()=>A(L),className:`px-3 py-2 text-sm font-medium rounded-md ${L===v?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:L+1},L));return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex justify-between flex-1 sm:hidden",children:[e.jsx("button",{onClick:()=>A(Math.max(0,v-1)),disabled:v===0,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>A(Math.min(k-1,v+1)),disabled:v===k-1,className:"relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:v*O+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((v+1)*O,S)})," ","of ",e.jsx("span",{className:"font-medium",children:S})," results"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>A(Math.max(0,v-1)),disabled:v===0,className:"relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),G,e.jsx("button",{onClick:()=>A(Math.min(k-1,v+1)),disabled:v===k-1,className:"relative inline-flex items-center px-2 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Room Type Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage room types in the system"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:z,disabled:i,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[e.jsx(qe,{size:20,className:`mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:oe,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add Room Type"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search room types...",value:c,onChange:G=>d(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>_(!q),className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(Zt,{size:20,className:"mr-2"}),"Filters"]}),(u||g||y||j||p)&&e.jsx("button",{onClick:V,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Clear Filters"})]})]}),q&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hotel"}),e.jsxs("select",{value:u,onChange:G=>m(G.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Hotels"}),a.map(G=>e.jsx("option",{value:G.id,children:G.name},G.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",value:g||"",onChange:G=>x(G.target.value?parseInt(G.target.value):void 0),placeholder:"Ti thiu",className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"number",value:y||"",onChange:G=>f(G.target.value?parseInt(G.target.value):void 0),placeholder:"Ti a",className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Price"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",value:j||"",onChange:G=>N(G.target.value?parseInt(G.target.value):void 0),placeholder:"Min",className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("input",{type:"number",value:p||"",onChange:G=>b(G.target.value?parseInt(G.target.value):void 0),placeholder:"Max",className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})})]}),T.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-blue-800 font-medium",children:["Selected ",T.length," room types"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:J,disabled:U==="bulk-delete",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:16,className:"mr-2"}),U==="bulk-delete"?"Deleting...":"Delete Selected"]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:R,onChange:B,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hotel"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Occupancy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price/night"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rooms"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(qe,{className:"animate-spin mr-2",size:20}),"Loading..."]})})}):n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"No room types found"})}):n.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:T.includes(G.id),onChange:()=>se(G.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[G.imageUrl?e.jsx("img",{src:G.imageUrl,alt:G.name,className:"h-12 w-12 rounded-lg object-cover mr-4"}):e.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center mr-4",children:e.jsx(Ct,{size:20,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.name}),G.description&&e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:G.description})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(et,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:G.hotelName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{size:16,className:"text-gray-400 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[G.maxOccupancy," people"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:F(G.pricePerNight)})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{children:["Total: ",G.totalRooms]}),e.jsxs("div",{className:"text-green-600",children:["Available: ",G.availableRooms]})]})}),e.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Q(G.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"View Details",children:e.jsx(ze,{size:16})}),e.jsx("button",{onClick:()=>Ee(G.id),className:"text-yellow-600 hover:text-yellow-900 p-1 rounded",title:"Edit",children:e.jsx(Fe,{size:16})}),e.jsx("button",{onClick:()=>D(G.id),disabled:U===G.id,className:"text-red-600 hover:text-red-900 p-1 rounded disabled:opacity-50",title:"Delete",children:e.jsx(tt,{size:16})})]})})]},G.id))})]})}),k>1&&ne()]})]})},fj=()=>{const t=le(),{id:s}=ot(),{showToast:n}=we(),[r,a]=h.useState(!0),[l,i]=h.useState(null),[o,c]=h.useState(null);h.useEffect(()=>{s&&d()},[s]);const d=async()=>{try{a(!0);const j=(await Nt.getRoomTypeById(s)).data;j.success?c(j.result):(n("error","Li",j.message||"Khng th ti thng tin loi phng"),t("/admin/room-types"))}catch(f){console.error("Error fetching room type:",f),n("error","Li","Khng th ti thng tin loi phng"),t("/admin/room-types")}finally{a(!1)}},u=()=>{t(`/admin/room-types/edit/${s}`)},m=async()=>{if(o&&window.confirm(`Are you sure you want to delete room type "${o.name}"?`))try{i("delete"),await Nt.deleteRoomType(o.id),n("success","Success","Room type deleted successfully"),t("/admin/room-types")}catch(f){console.error("Error deleting room type:",f),n("error","Error","Unable to delete room type")}finally{i(null)}},g=f=>{const j={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(f).toLocaleDateString("vi-VN",j)},x=f=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(f),y=f=>({Single:"Ging n",Double:"Ging i",Queen:"Ging Queen",King:"Ging King",Twin:"Ging i ring bit","Sofa Bed":"Ging sofa"})[f]||f;return r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/admin/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:o.name}),e.jsx("p",{className:"text-gray-600",children:o.hotelName})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2"}),"Edit"]}),e.jsxs("button",{onClick:m,disabled:l==="delete",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:20,className:"mr-2"}),l==="delete"?"Deleting...":"Delete"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ct,{size:20,className:"mr-2 text-blue-500"}),"Thng tin c bn"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn loi phng"}),e.jsx("p",{className:"text-gray-900 font-medium",children:o.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi ging"}),e.jsx("p",{className:"text-gray-900",children:o.bedType?y(o.bedType):"Khng xc nh"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sc cha ti a"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{size:16,className:"text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-900",children:[o.maxOccupancy," ngi"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Din tch"}),e.jsx("p",{className:"text-gray-900",children:o.roomSize?`${o.roomSize} m`:"Khng xc nh"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi mi m"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 font-semibold",children:x(o.pricePerNight)})]})]})]}),o.description&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),e.jsx("p",{className:"text-gray-900 leading-relaxed",children:o.description})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ct,{size:20,className:"mr-2 text-green-500"}),"Tnh trng phng"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.totalRooms}),e.jsx("div",{className:"text-sm text-blue-700",children:"Tng s phng"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.availableRooms}),e.jsx("div",{className:"text-sm text-green-700",children:"Phng trng"})]}),e.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:o.totalRooms-o.availableRooms}),e.jsx("div",{className:"text-sm text-orange-700",children:"Phng  t"})]})]})]}),o.amenities&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Tn,{size:20,className:"mr-2 text-purple-500"}),"Tin nghi phng"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.amenities.split(",").map((f,j)=>e.jsx("span",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm",children:f.trim()},j))})]})]}),e.jsxs("div",{className:"space-y-6",children:[o.imageUrl&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-48 object-cover"})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(et,{size:20,className:"mr-2 text-indigo-500"}),"Thng tin khch sn"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn khch sn"}),e.jsx("p",{className:"text-gray-900",children:o.hotelName})]}),e.jsx("button",{onClick:()=>t(`/admin/hotels/${o.hotelId}`),className:"w-full bg-indigo-50 text-indigo-700 px-4 py-2 rounded-lg hover:bg-indigo-100 transition-colors text-sm",children:"Xem thng tin khch sn"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(pe,{size:20,className:"mr-2 text-gray-500"}),"Thng tin h thng"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy to"}),e.jsx("p",{className:"text-gray-900 text-sm",children:g(o.createdAt)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-gray-900 text-sm",children:g(o.updatedAt)})]}),o.createdBy&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To bi"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 text-sm",children:o.createdBy})]})]}),o.updatedBy&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Updated By"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(He,{size:16,className:"text-gray-400 mr-2"}),e.jsx("span",{className:"text-gray-900 text-sm",children:o.updatedBy})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Thao tc nhanh"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>t(`/admin/room-types/add?hotelId=${o.hotelId}`),className:"w-full bg-blue-50 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-100 transition-colors text-sm",children:"Thm loi phng mi cho khch sn ny"}),e.jsx("button",{onClick:()=>t("/admin/room-types"),className:"w-full bg-gray-50 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors text-sm",children:"Quay li danh sch loi phng"})]})]})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Khng tm thy loi phng"})})},yj=()=>{const t=le(),{id:s}=ot(),{showToast:n}=we(),[r,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState(null),[d,u]=h.useState([]),[m,g]=h.useState({name:"",description:"",maxOccupancy:1,bedType:"",roomSize:0,pricePerNight:0,totalRooms:1,imageUrl:"",amenities:"",hotelId:""});h.useEffect(()=>{s&&(x(),y())},[s]);const x=async()=>{try{a(!0);const N=await Nt.getRoomTypeById(s),p=N.data.result||N.data;c(p),g({name:p.name||"",description:p.description||"",maxOccupancy:p.maxOccupancy||1,bedType:p.bedType||"",roomSize:p.roomSize||0,pricePerNight:p.pricePerNight||0,totalRooms:p.totalRooms||1,imageUrl:p.imageUrl||"",amenities:p.amenities||"",hotelId:p.hotelId||""})}catch(N){console.error("Error fetching room type:",N),n("error","Error","Unable to load room type information"),t("/admin/room-types")}finally{a(!1)}},y=async()=>{try{const p=(await me.getAllHotels(0,100)).data;p.success&&u(p.result.content)}catch(N){console.error("Error fetching hotels:",N)}},f=N=>{const{name:p,value:b,type:v}=N.target;g(w=>({...w,[p]:v==="number"?parseFloat(b)||0:b}))},j=async N=>{N.preventDefault();try{i(!0);const b=(await Nt.updateRoomType(s,m)).data;b.success?(n("success","Success","Room type information has been updated"),t(`/admin/room-types/${s}`)):n("error","Error",b.message||"Unable to update room type information")}catch(p){console.error("Error updating room type:",p),n("error","Error","Unable to update room type information")}finally{i(!1)}};return r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/admin/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Room Type"}),e.jsxs("p",{className:"text-gray-600",children:[o.name," - ",o.hotelName]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t("/admin/room-types"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:j,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(rt,{size:20,className:"mr-2"}),l?"Saving...":"Save Changes"]})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Room Type Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:m.name,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),e.jsxs("select",{name:"bedType",value:m.bedType,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select bed type"}),e.jsx("option",{value:"Single",children:"Single Bed"}),e.jsx("option",{value:"Double",children:"Double Bed"}),e.jsx("option",{value:"Queen",children:"Queen Bed"}),e.jsx("option",{value:"King",children:"King Bed"}),e.jsx("option",{value:"Twin",children:"Twin Beds"}),e.jsx("option",{value:"Sofa Bed",children:"Sofa Bed"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:m.description,onChange:f,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ct,{size:20,className:"mr-2 text-green-500"}),"Room Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Maximum Occupancy ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"maxOccupancy",value:m.maxOccupancy,onChange:f,min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (m)"}),e.jsx("input",{type:"number",name:"roomSize",value:m.roomSize,onChange:f,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Rooms ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"totalRooms",value:m.totalRooms,onChange:f,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{size:20,className:"mr-2 text-yellow-500"}),"Pricing Information"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price per Night (VND) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"pricePerNight",value:m.pricePerNight,onChange:f,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:" Additional Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(yr,{title:"Room Type Image",imageUrl:m.imageUrl||"",onImageUrlChange:N=>g(p=>({...p,imageUrl:N})),uploadType:"room-image"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Amenities (separated by commas)"}),e.jsx("textarea",{name:"amenities",value:m.amenities,onChange:f,rows:2,placeholder:"Wi-Fi, TV, Air Conditioning, Mini Fridge, Balcony...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Available Room Amenities (click to add/remove)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Free Wi-Fi","Flat-screen TV","Air Conditioning","Mini Fridge","Safe","Hair Dryer","Bathtub","Shower","Slippers","Bathrobe","Work Desk","Sofa","Balcony","Window","Ocean View","City View","Mountain View","Garden View","Coffee Maker","Electric Kettle","Glassware","Bath Towels","Face Towels","Toilet Paper","Shampoo","Body Wash","Soap","Toothpaste","Toothbrush","Comb","Vanity Mirror","Reading Light","Curtains","Blackout Curtains","Wardrobe","Coat Hangers","Individual AC","Ceiling Fan","Wooden Floor","Carpet","Telephone","Fax Machine"].map(N=>{const p=(m.amenities||"").split(",").map(b=>b.trim()).includes(N);return e.jsxs("button",{type:"button",onClick:()=>{const b=(m.amenities||"").split(",").map(v=>v.trim()).filter(v=>v);if(p){const v=b.filter(w=>w!==N);g(w=>({...w,amenities:v.join(", ")}))}else{const v=[...b,N];g(w=>({...w,amenities:v.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${p?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[p&&e.jsx("span",{className:"mr-1",children:""}),N]},N)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Tip: Click on the tags to add/remove room amenities. You can also type directly in the text box above."})]})]})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Room type not found"})})},bj=()=>{const t=le(),[s]=zc(),{showToast:n}=we(),[r,a]=h.useState(!1),[l,i]=h.useState([]),[o,c]=h.useState(null),d=s.get("hotelId"),[u,m]=h.useState({name:"",description:"",maxOccupancy:1,bedType:"",roomSize:0,pricePerNight:0,totalRooms:1,imageUrl:"",amenities:"",hotelId:d||""});h.useEffect(()=>{g()},[]),h.useEffect(()=>{if(d&&l.length>0){const f=l.find(j=>j.id===d);f&&(c(f),m(j=>({...j,hotelId:d})))}},[d,l]);const g=async()=>{try{a(!0);const j=(await me.getAllHotels(0,100)).data;j.success&&i(j.result.content)}catch(f){console.error("Error fetching hotels:",f),n("error","Error","Unable to load hotel list")}finally{a(!1)}},x=f=>{const{name:j,value:N,type:p}=f.target;if(m(b=>({...b,[j]:p==="number"?parseFloat(N)||0:N})),j==="hotelId"){const b=l.find(v=>v.id===N);c(b||null)}},y=async f=>{f.preventDefault();try{a(!0);const N=(await Nt.createRoomType(u)).data;N.success?(n("success","Success","New room type has been added"),t(`/admin/room-types/${N.result.id}`)):n("error","Error",N.message||"Unable to add room type")}catch(j){console.error("Error creating room type:",j),n("error","Error","Unable to add room type")}finally{a(!1)}};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t(d?`/admin/hotels/${d}`:"/admin/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Add New Room Type"}),o&&e.jsxs("p",{className:"text-gray-600",children:["For hotel: ",o.name]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t(d?`/admin/hotels/${d}`:"/admin/room-types"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:y,disabled:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(rt,{size:20,className:"mr-2"}),r?"Saving...":"Create Room Type"]})]})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(et,{size:20,className:"mr-2 text-blue-500"}),"Select Hotel"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hotel ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"hotelId",value:u.hotelId,onChange:x,disabled:!!d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",required:!0,children:[e.jsx("option",{value:"",children:"Select hotel"}),l.map(f=>e.jsxs("option",{value:f.id,children:[f.name," - ",f.city]},f.id))]}),d&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Room type will be added to this hotel."})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(os,{size:20,className:"mr-2 text-blue-500"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Room Type Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"name",value:u.name,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),e.jsxs("select",{name:"bedType",value:u.bedType,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select bed type"}),e.jsx("option",{value:"Single",children:"Single Bed"}),e.jsx("option",{value:"Double",children:"Double Bed"}),e.jsx("option",{value:"Queen",children:"Queen Bed"}),e.jsx("option",{value:"King",children:"King Bed"}),e.jsx("option",{value:"Twin",children:"Twin Beds"}),e.jsx("option",{value:"Sofa Bed",children:"Sofa Bed"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:u.description,onChange:x,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ct,{size:20,className:"mr-2 text-green-500"}),"Room Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Maximum Occupancy ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"maxOccupancy",value:u.maxOccupancy,onChange:x,min:"1",max:"10",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (m)"}),e.jsx("input",{type:"number",name:"roomSize",value:u.roomSize,onChange:x,min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Rooms ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"totalRooms",value:u.totalRooms,onChange:x,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Se,{size:20,className:"mr-2 text-yellow-500"}),"Pricing Information"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Price per Night (VND) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"pricePerNight",value:u.pricePerNight,onChange:x,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:" Additional Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(yr,{title:"Room Type Image",imageUrl:u.imageUrl||"",onImageUrlChange:f=>m(j=>({...j,imageUrl:f})),uploadType:"room-image"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Amenities (separated by commas)"}),e.jsx("textarea",{name:"amenities",value:u.amenities,onChange:x,rows:2,placeholder:"Wi-Fi, TV, Air Conditioning, Mini Fridge, Balcony...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Available Room Amenities (click to add/remove)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Free Wi-Fi","Flat-screen TV","Air Conditioning","Mini Fridge","Safe","Hair Dryer","Bathtub","Shower","Slippers","Bathrobe","Work Desk","Sofa","Balcony","Window","Ocean View","City View","Mountain View","Garden View","Coffee Maker","Electric Kettle","Glassware","Bath Towels","Face Towels","Toilet Paper","Shampoo","Body Wash","Soap","Toothpaste","Toothbrush","Comb","Vanity Mirror","Reading Light","Curtains","Blackout Curtains","Wardrobe","Coat Hangers","Individual AC","Ceiling Fan","Wooden Floor","Carpet","Telephone","Fax Machine"].map(f=>{const j=(u.amenities||"").split(",").map(N=>N.trim()).includes(f);return e.jsxs("button",{type:"button",onClick:()=>{const N=(u.amenities||"").split(",").map(p=>p.trim()).filter(p=>p);if(j){const p=N.filter(b=>b!==f);m(b=>({...b,amenities:p.join(", ")}))}else{const p=[...N,f];m(b=>({...b,amenities:p.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${j?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[j&&e.jsx("span",{className:"mr-1",children:""}),f]},f)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Tip: Click on the tags to add/remove room amenities. You can also type directly in the text box above."})]})]})]})]})]})},Ix=({isOpen:t,onClose:s,user:n,onSuccess:r})=>{const{showToast:a}=we(),[l,i]=h.useState([]),[o,c]=h.useState(!1),[d,u]=h.useState([]),[m,g]=h.useState(!1),x=async()=>{try{g(!0);const b=await Hy.getAllRoles();if(b.data.success){const v=b.data.result.content;u(v),console.log("Fetched roles from API:",v)}else throw new Error(b.data.message||"Failed to fetch roles")}catch(b){console.error("Error fetching roles:",b);const v=[{id:1,name:"USER",description:"Regular users who can make bookings"},{id:2,name:"HOST",description:"Hotel owners who can manage properties"},{id:3,name:"ADMIN",description:"System administrators with full permissions"}];u(v),console.log("Using fallback roles:",v),a("warning","Warning","Unable to load role list from server. Using default list.")}finally{g(!1)}};h.useEffect(()=>{if(t&&n){console.log("=== INITIALIZING ROLE MODAL ==="),console.log("User:",n),console.log("User roles:",n.roles),x();const b=n.roles.map(v=>v.id);console.log("Current user role IDs:",b),i(b)}},[t,n]);const y=b=>{console.log("Toggling role:",b),i(v=>{const w=v.includes(b)?v.filter(k=>k!==b):[...v,b];return console.log("New selected role IDs:",w),w})},f=async()=>{var b,v,w,k,C,S,P,T;if(l.length===0){a("warning","Warning","Please select at least one role");return}try{c(!0);const E=[...new Set(l)],R={roleIds:E};console.log("=== ROLE UPDATE DEBUG ==="),console.log("User ID:",n.id),console.log("Current Role IDs:",n.roles.map(U=>U.id)),console.log("Selected Role IDs:",E),console.log("Request Data:",R);const I=await vt.updateUserRoles(n.id,R);console.log("Update response:",I.data),a("success","Success","User roles updated successfully"),r(),s()}catch(E){console.error("=== ERROR UPDATING ROLES ==="),console.error("Error:",E),console.error("Response:",(b=E.response)==null?void 0:b.data);let R="An error occurred while updating roles";((v=E.response)==null?void 0:v.status)===403?R="You do not have permission to update user roles":((w=E.response)==null?void 0:w.status)===404?R="User or role not found":((k=E.response)==null?void 0:k.status)===400?R=((S=(C=E.response)==null?void 0:C.data)==null?void 0:S.message)||"Invalid data":(T=(P=E.response)==null?void 0:P.data)!=null&&T.message&&(R=E.response.data.message),a("error","Error",R)}finally{c(!1)}},j=b=>{switch(b){case"ADMIN":return"Administrator";case"HOST":return"Hotel Owner";case"USER":return"User";default:return b}},N=b=>{switch(b){case"ADMIN":return"bg-purple-100 text-purple-800 border-purple-200";case"HOST":return"bg-blue-100 text-blue-800 border-blue-200";case"USER":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},p=()=>{const b=n.roles.map(w=>w.id).sort((w,k)=>w-k),v=[...l].sort((w,k)=>w-k);return JSON.stringify(b)!==JSON.stringify(v)};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:n.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Role Management"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[n.name," (@",n.username,")"]})]})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ve,{size:24})})]}),e.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(We,{className:"h-5 w-5 mr-2"}),"Select roles for user"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select one or more roles to assign to this user. Each role provides different permissions in the system."})]}),m&&e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),!m&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"All available roles:"}),d.map(b=>{const v=l.includes(b.id),w=n.roles.some(k=>k.id===b.id);return e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all duration-200 ${v?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>y(b.id),children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center ${v?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:v&&e.jsx(Qe,{className:"h-3 w-3 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full border ${N(b.name)}`,children:[e.jsx(We,{className:"h-3 w-3 mr-1"}),j(b.name)]}),w&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 border border-green-200",children:"Current"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:b.description})]})]})})},b.id)})]}),l.length===0&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ue,{className:"h-5 w-5 text-yellow-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"User must have at least one role to access the system."})})]})]})}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg text-xs text-gray-600",children:[e.jsx("p",{children:e.jsx("strong",{children:"Debug Info:"})}),e.jsxs("p",{children:["User ID: ",n.id]}),e.jsxs("p",{children:["Current Role IDs: [",n.roles.map(b=>b.id).join(", "),"]"]}),e.jsxs("p",{children:["Current Role Names: [",n.roles.map(b=>b.name).join(", "),"]"]}),e.jsxs("p",{children:["Selected Role IDs: [",l.join(", "),"]"]}),e.jsxs("p",{children:["Available Roles: [",d.map(b=>`${b.id}:${b.name}`).join(", "),"]"]}),e.jsxs("p",{children:["Has Changes: ",p()?"Yes":"No"]})]}),p()&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ue,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Changes Made"}),e.jsx("div",{className:"mt-2 text-sm text-blue-700",children:e.jsx("p",{children:`You have changed the user's roles. Click "Save Changes" to apply.`})})]})]})})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:s,disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:f,disabled:o||!p()||l.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})}):null},jj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState("all"),[u,m]=h.useState("all"),[g,x]=h.useState("all"),[y,f]=h.useState(0),[j,N]=h.useState(0),[p,b]=h.useState(0),[v,w]=h.useState([]),[k,C]=h.useState(!1),[S,P]=h.useState(null),[T,E]=h.useState(!1),[R,I]=h.useState(null),U=10,K=async(V=0,ne=U,G="id")=>{try{l(!0);const $=(await vt.getAllUsers(V,ne,G)).data;$.success?(r($.result.content),N($.result.totalPages),b($.result.totalElements),f($.result.number)):s("error","Error",$.message||"Unable to load user list")}catch(be){console.error("Error fetching users:",be),s("error","Error","Unable to connect to server")}finally{l(!1)}};h.useEffect(()=>{K()},[]);const q=n.filter(V=>{const ne=V.name.toLowerCase().includes(i.toLowerCase())||V.username.toLowerCase().includes(i.toLowerCase())||V.email.toLowerCase().includes(i.toLowerCase()),G=V.roles.map(L=>L.name),be=c==="all"||G.includes(c),$=u==="all"||u==="active"&&V.active||u==="inactive"&&!V.active,te=g==="all"||g==="verified"&&V.emailVerified||g==="unverified"&&!V.emailVerified;return ne&&be&&$&&te}),_=()=>{w(k?[]:q.map(V=>V.id)),C(!k)},O=V=>{v.includes(V)?w(v.filter(ne=>ne!==V)):w([...v,V])},Y=()=>{K(y),w([]),C(!1)},W=V=>{K(V),w([]),C(!1)},z=()=>{t("/admin/users/add")},A=V=>{t(`/admin/users/edit/${V}`)},F=V=>{t(`/admin/users/${V}`)},B=async V=>{var G,be;const ne=n.find($=>$.id===V);if(ne&&window.confirm(`Are you sure you want to delete user "${ne.name}"?`))try{P(V),await vt.deleteUser(V),s("success","Success","User deleted successfully"),K(y)}catch($){console.error("Error deleting user:",$);const te=((be=(G=$.response)==null?void 0:G.data)==null?void 0:be.message)||"An error occurred while deleting user";s("error","Li",te)}finally{P(null)}},se=async()=>{if(v.length!==0&&window.confirm(`Are you sure you want to delete ${v.length} selected users?`))try{P("bulk-delete");const V=v.map(ne=>vt.deleteUser(ne));await Promise.all(V),s("success","Success",`${v.length} users deleted successfully`),w([]),C(!1),K(y)}catch(V){console.error("Error deleting users:",V),s("error","Error","An error occurred while deleting users")}finally{P(null)}},oe=V=>V?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Active"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Inactive"}),Ee=V=>V.map((ne,G)=>e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ne.name==="ADMIN"?"bg-purple-100 text-purple-800":ne.name==="HOST"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:ne.name==="ADMIN"?"Administrator":ne.name==="HOST"?"Hotel Owner":"User"},G)),Q=V=>{I(V),E(!0)},D=()=>{K(y),I(null)},J=async V=>{var ne,G;try{P(V),await vt.approveHostRequest(V),s("success","Success","Host request has been approved"),K(y)}catch(be){console.error("Error approving host request:",be);const $=((G=(ne=be.response)==null?void 0:ne.data)==null?void 0:G.message)||"An error occurred while approving the request";s("error","Li",$)}finally{P(null)}};return a?e.jsx("div",{className:"w-full flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"User Management"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Total ",p," users"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:Y,disabled:a,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(qe,{size:20,className:`mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add User"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search by name, username, email...",value:i,onChange:V=>o(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:c,onChange:V=>d(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All roles"}),e.jsx("option",{value:"USER",children:"User"}),e.jsx("option",{value:"HOST",children:"Hotel Owner"}),e.jsx("option",{value:"ADMIN",children:"Qun tr vin"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("select",{value:u,onChange:V=>m(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})}),e.jsx("div",{className:"flex items-center",children:e.jsxs("select",{value:g,onChange:V=>x(V.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All emails"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"unverified",children:"Unverified"})]})})]})]})}),v.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex justify-between items-center",children:[e.jsxs("span",{className:"text-blue-700",children:["Selected ",v.length," users"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:se,disabled:S==="bulk-delete",className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[S==="bulk-delete"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-1"}):e.jsx(tt,{size:16,className:"mr-1"}),"Delete Selected"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:k,onChange:_,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Host Request"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:v.includes(V.id),onChange:()=>O(V.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:V.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",V.username]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Ee(V.roles)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:V.hostRequested?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-amber-600 font-medium",children:"Pending"}),e.jsx("input",{type:"checkbox",onChange:()=>J(V.id),disabled:S===V.id,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded disabled:opacity-50",title:"Check to approve Host request"}),S===V.id&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:oe(V.active)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>F(V.id),className:"text-blue-600 hover:text-blue-900",title:"View Details",children:e.jsx(ze,{size:18})}),e.jsx("button",{onClick:()=>Q(V),className:"text-purple-600 hover:text-purple-900",title:"Manage Roles",children:e.jsx(sn,{size:18})}),e.jsx("button",{onClick:()=>A(V.id),className:"text-yellow-600 hover:text-yellow-900",title:"Edit",children:e.jsx(Fe,{size:18})}),e.jsx("button",{onClick:()=>B(V.id),disabled:S===V.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Delete",children:S===V.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(tt,{size:18})})]})})]},V.id))})]})}),j>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>W(Math.max(0,y-1)),disabled:y===0,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${y===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e.jsx("button",{onClick:()=>W(Math.min(j-1,y+1)),disabled:y===j-1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${y===j-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:y*U+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((y+1)*U,p)})," ","of ",e.jsx("span",{className:"font-medium",children:p})," users"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>W(Math.max(0,y-1)),disabled:y===0,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${y===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Previous page"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(j,5)}).map((V,ne)=>{const G=y<3?ne:y-2+ne;return G>=j?null:e.jsx("button",{onClick:()=>W(G),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${y===G?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:G+1},G)}),e.jsxs("button",{onClick:()=>W(Math.min(j-1,y+1)),disabled:y===j-1,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${y===j-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Trang sau"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),q.length===0&&!a&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(at,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-500",children:"Try changing filters or search keywords."})]}),R&&e.jsx(Ix,{isOpen:T,onClose:()=>{E(!1),I(null)},user:R,onSuccess:D})]})},Nj=()=>{const{id:t}=ot(),s=le(),{showToast:n}=we(),[r,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,u]=h.useState(!1);h.useEffect(()=>{t&&m(t)},[t]);const m=async p=>{try{i(!0);const v=(await vt.getUser(p)).data;v.success?a(v.result):(n("error","Error",v.message||"Unable to load user information"),s("/admin/users"))}catch(b){console.error("Error fetching user:",b),n("error","Error","Unable to connect to server"),s("/admin/users")}finally{i(!1)}},g=()=>{s(`/admin/users/edit/${t}`)},x=async()=>{var p,b;if(r&&window.confirm(`Are you sure you want to delete user "${r.name}"?`))try{c(!0),await vt.deleteUser(r.id),n("success","Success","User deleted successfully"),s("/admin/users")}catch(v){console.error("Error deleting user:",v);const w=((b=(p=v.response)==null?void 0:p.data)==null?void 0:b.message)||"An error occurred while deleting user";n("error","Error",w)}finally{c(!1)}},y=p=>{const b={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(p).toLocaleDateString("vi-VN",b)},f=p=>p?new Date(p).toLocaleDateString("vi-VN"):"Not updated",j=p=>p.map((b,v)=>e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-medium rounded-full ${b.name==="ADMIN"?"bg-purple-100 text-purple-800":b.name==="HOST"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),b.name==="ADMIN"?"Administrator":b.name==="HOST"?"Hotel Owner":"User"]},v)),N=()=>{t&&m(t)};return l?e.jsx("div",{className:"w-full flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r?e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>s("/admin/users"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"User Details"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Detailed information for ",r.name]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>m(r.id),disabled:l,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(qe,{size:20,className:`mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),e.jsxs("button",{onClick:()=>u(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:[e.jsx(sn,{size:20,className:"mr-2"}),"Role Management"]}),e.jsxs("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2"}),"Edit"]}),e.jsxs("button",{onClick:x,disabled:o,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[o?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(tt,{size:20,className:"mr-2"}),"Delete"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[e.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.name}),e.jsxs("p",{className:"text-gray-600",children:["@",r.username]}),e.jsxs("div",{className:"flex items-center mt-2",children:[r.active?e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[e.jsx(yt,{className:"h-3 w-3 mr-1"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:[e.jsx(Tx,{className:"h-3 w-3 mr-1"}),"Inactive"]}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Can be changed in the edit section)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(De,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-gray-900",children:r.email}),r.emailVerified?e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:e.jsx(Cx,{className:"h-3 w-3 mr-1"})}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:e.jsx(ob,{className:"h-3 w-3 mr-1"})})]})]})]}),r.tel&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Le,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-gray-900",children:r.tel})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(pe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),e.jsx("p",{className:"text-gray-900",children:f(r.dob)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[r.address&&e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Be,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"text-gray-900",children:r.address})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Created Date"}),e.jsx("p",{className:"text-gray-900",children:y(r.createAt)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Updated"}),e.jsx("p",{className:"text-gray-900",children:y(r.updateAt)})]})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(We,{className:"h-5 w-5 mr-2"}),"Roles & Permissions"]}),e.jsxs("button",{onClick:()=>u(!0),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center",children:[e.jsx(sn,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),e.jsx("div",{className:"space-y-3",children:r.roles.map((p,b)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:j([p])}),e.jsx("p",{className:"text-sm text-gray-600",children:p.description})]},b))}),r.roles.length===0&&e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No roles assigned yet"})]})})]}),e.jsx("div",{className:"mt-6 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),e.jsx("div",{className:"text-sm text-blue-600",children:"Booking"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0"}),e.jsx("div",{className:"text-sm text-green-600",children:"Review"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"0"}),e.jsx("div",{className:"text-sm text-yellow-600",children:"Hotel"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.floor((new Date().getTime()-new Date(r.createAt).getTime())/(1e3*60*60*24))}),e.jsx("div",{className:"text-sm text-purple-600",children:"Join Date"})]})]})]})}),r&&e.jsx(Ix,{isOpen:d,onClose:()=>u(!1),user:r,onSuccess:N})]}):e.jsxs("div",{className:"w-full text-center py-12",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"User Not Found"}),e.jsx("button",{onClick:()=>s("/admin/users"),className:"text-blue-600 hover:text-blue-800",children:"Back to User List"})]})},vj=()=>{const{id:t}=ot(),s=le(),{showToast:n}=we(),[r,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,u]=h.useState(!1),[m,g]=h.useState(!1),[x,y]=h.useState({name:"",username:"",email:"",tel:"",address:"",dob:"",password:"",confirmPassword:"",changePassword:!1,active:!0,emailVerified:!1}),[f,j]=h.useState({});h.useEffect(()=>{t&&N(t)},[t]);const N=async k=>{try{i(!0);const S=(await vt.getUser(k)).data;S.success?(a(S.result),y({name:S.result.name,username:S.result.username,email:S.result.email,tel:S.result.tel||"",address:S.result.address||"",dob:S.result.dob||"",password:"",confirmPassword:"",changePassword:!1,active:S.result.active,emailVerified:S.result.emailVerified})):(n("error","Error",S.message||"Unable to load user information"),s("/admin/users"))}catch(C){console.error("Error fetching user:",C),n("error","Error","Unable to connect to server"),s("/admin/users")}finally{i(!1)}},p=k=>{const{name:C,value:S,type:P}=k.target;if(P==="checkbox"){const T=k.target.checked;y(E=>({...E,[C]:T}))}else y(T=>({...T,[C]:S}));f[C]&&j(T=>({...T,[C]:""}))},b=()=>{const k={};return x.name.trim()||(k.name="Full name is required"),x.username.trim()?x.username.length<3&&(k.username="Username must be at least 3 characters"):k.username="Username is required",x.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email)||(k.email="Invalid email format"):k.email="Email is required",x.tel&&x.tel.trim()&&(/^[0-9]{10,11}$/.test(x.tel.replace(/\s/g,""))||(k.tel="Invalid phone number (10-11 digits)")),x.changePassword&&(x.password?x.password.length<8&&(k.password="Password must be at least 8 characters"):k.password="New password is required",x.password!==x.confirmPassword&&(k.confirmPassword="Password confirmation does not match")),j(k),Object.keys(k).length===0},v=async k=>{var C,S;if(k.preventDefault(),!(!b()||!r)){c(!0);try{const P={name:x.name,username:x.username,email:x.email,tel:x.tel||void 0,address:x.address||void 0,dob:x.dob||void 0,active:x.active,emailVerified:x.emailVerified};if(await vt.updateUser(r.id,P),x.changePassword&&x.password){const E={newPassword:x.password};try{await vt.adminUpdatePassword(r.id,E)}catch(R){console.error("Password update error:",R),n("warning","Warning","Information updated but there was an error changing the password")}}let T="User information has been updated successfully!";if(P.active!==r.active){const E=P.active?"activated":"deactivated";T+=` Account status has been ${E}.`}if(P.emailVerified!==r.emailVerified){const E=P.emailVerified?"has been verified":"has been unverified";T+=` Email ${E}.`}x.changePassword&&x.password&&(T+=" Password has been changed."),n("success","Success",T),s(`/admin/users/${r.id}`)}catch(P){console.error("Update user error:",P);const T=((S=(C=P.response)==null?void 0:C.data)==null?void 0:S.message)||"An error occurred while updating user information";n("error","Error",T)}finally{c(!1)}}},w=()=>{s(`/admin/users/${t}`)};return l?e.jsx("div",{className:"w-full flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):r?e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>s(`/admin/users/${t}`),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Edit User"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Update information for ",r.name]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-6 pb-6 border-b border-gray-200",children:[e.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:x.name.charAt(0).toUpperCase()||"U"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),e.jsx("p",{className:"text-gray-600",children:"Update user's personal information"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:p,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter full name"})]}),f.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),f.name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"username",value:x.username,onChange:p,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.username?"border-red-300":"border-gray-300"}`,placeholder:"Enter username"})]}),f.username&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),f.username]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:x.email,onChange:p,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter email address"})]}),f.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),f.email]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"tel",value:x.tel,onChange:p,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.tel?"border-red-300":"border-gray-300"}`,placeholder:"Enter phone number"})]}),f.tel&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),f.tel]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"dob",value:x.dob,onChange:p,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{name:"address",value:x.address,onChange:p,rows:3,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter address"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("input",{type:"checkbox",id:"changePassword",name:"changePassword",checked:x.changePassword,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"changePassword",className:"ml-2 block text-sm font-medium text-gray-700",children:"Change Password"})]}),x.changePassword&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:d?"text":"password",name:"password",value:x.password,onChange:p,className:`block w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter new password"}),e.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:d?e.jsx(js,{size:16}):e.jsx(ze,{size:16})})]}),f.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),f.password]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:m?"text":"password",name:"confirmPassword",value:x.confirmPassword,onChange:p,className:`block w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm new password"}),e.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:m?e.jsx(js,{size:16}):e.jsx(ze,{size:16})})]}),f.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),f.confirmPassword]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(We,{className:"h-5 w-5 mr-2"}),"Current Roles"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.roles.map((k,C)=>e.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-medium rounded-full ${k.name==="ADMIN"?"bg-purple-100 text-purple-800":k.name==="HOST"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx(We,{className:"h-4 w-4 mr-1"}),k.name==="ADMIN"?"Administrator":k.name==="HOST"?"Hotel Owner":"User"]},C))}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"To change roles, please contact a higher-level administrator."})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(We,{className:"h-5 w-5 mr-2"}),"Account Status"]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Activate Account"}),e.jsx("p",{className:"text-sm text-gray-500",children:x.active?"Account is active and can login normally":"Account is disabled and cannot login"})]}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("button",{type:"button",onClick:()=>y(k=>({...k,active:!k.active})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${x.active?"bg-green-600":"bg-gray-200"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${x.active?"translate-x-5":"translate-x-0"}`})}),e.jsx("span",{className:`ml-3 text-sm font-medium ${x.active?"text-green-600":"text-gray-400"}`,children:x.active?"Active":"Inactive"})]})]}),!x.active&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"Disabling the account will prevent users from logging into the system. They will not be able to access any features until the account is reactivated."})})]})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Cx,{className:"h-5 w-5 mr-2"}),"Email Verification Status"]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Verified"}),e.jsx("p",{className:"text-sm text-gray-500",children:x.emailVerified?"User email has been verified and can receive notifications":"Email not verified, user may not receive notifications"})]}),e.jsxs("div",{className:"flex items-center ml-4",children:[e.jsx("button",{type:"button",onClick:()=>y(k=>({...k,emailVerified:!k.emailVerified})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${x.emailVerified?"bg-green-600":"bg-gray-200"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${x.emailVerified?"translate-x-5":"translate-x-0"}`})}),e.jsx("span",{className:`ml-3 text-sm font-medium ${x.emailVerified?"text-green-600":"text-gray-400"}`,children:x.emailVerified?"Verified":"Unverified"})]})]}),x.emailVerified!==(r==null?void 0:r.emailVerified)&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Change Verification Status"}),e.jsx("div",{className:"mt-2 text-sm text-blue-700",children:e.jsxs("p",{children:["You are ",x.emailVerified?"marking email as verified":"unverifying email",". This change will take effect after saving."]})})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:w,disabled:o,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center disabled:opacity-50",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})]}):e.jsxs("div",{className:"w-full text-center py-12",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"User Not Found"}),e.jsx("button",{onClick:()=>s("/admin/users"),className:"text-blue-600 hover:text-blue-800",children:"Back to user list"})]})},wj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState(!1),[a,l]=h.useState(!1),[i,o]=h.useState(!1),[c,d]=h.useState({name:"",username:"",email:"",password:"",confirmPassword:"",tel:"",address:"",dob:"",role:"USER"}),[u,m]=h.useState({}),g=N=>{const{name:p,value:b}=N.target;d(v=>({...v,[p]:b})),u[p]&&m(v=>({...v,[p]:""}))},x=()=>{const N={};return c.name.trim()||(N.name="Full name is required"),c.username.trim()?c.username.length<3&&(N.username="Username must be at least 3 characters"):N.username="Username is required",c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(N.email="Invalid email format"):N.email="Email is required",c.password?c.password.length<8&&(N.password="Password must be at least 8 characters"):N.password="Password is required",c.password!==c.confirmPassword&&(N.confirmPassword="Password confirmation does not match"),c.tel&&c.tel.trim()&&(/^[0-9]{10,11}$/.test(c.tel.replace(/\s/g,""))||(N.tel="Invalid phone number (10-11 digits)")),m(N),Object.keys(N).length===0},y=async N=>{var p,b;if(N.preventDefault(),!!x()){r(!0);try{const v={name:c.name,username:c.username,email:c.email,password:c.password},w=await tn.register(v);w.data.success?(s("success","Success","New user has been created successfully!"),t("/admin/users")):s("error","Error",w.data.message||"An error occurred while creating user")}catch(v){console.error("Create user error:",v);const w=((b=(p=v.response)==null?void 0:p.data)==null?void 0:b.message)||"An error occurred while creating new user";s("error","Error",w)}finally{r(!1)}}},f=()=>{t("/admin/users")},j=()=>{const N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let p="";for(let b=0;b<12;b++)p+=N.charAt(Math.floor(Math.random()*N.length));d(b=>({...b,password:p,confirmPassword:p})),l(!0),o(!0)};return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>t("/admin/users"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(ge,{size:20,className:"mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Add New User"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new user account in the system"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-6 pb-6 border-b border-gray-200",children:[e.jsx("div",{className:"h-20 w-20 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:e.jsx(mb,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New User Information"}),e.jsx("p",{className:"text-gray-600",children:"Enter complete information to create new account"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"name",value:c.name,onChange:g,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter full name"})]}),u.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),u.name]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"username",value:c.username,onChange:g,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.username?"border-red-300":"border-gray-300"}`,placeholder:"Enter username"})]}),u.username&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),u.username]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:c.email,onChange:g,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.email?"border-red-300":"border-gray-300"}`,placeholder:"Enter email address"})]}),u.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),u.email]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"tel",name:"tel",value:c.tel,onChange:g,className:`block w-full pl-10 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.tel?"border-red-300":"border-gray-300"}`,placeholder:"Enter phone number"})]}),u.tel&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),u.tel]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"dob",value:c.dob,onChange:g,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsxs("select",{name:"role",value:c.role,onChange:g,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"USER",children:"User"}),e.jsx("option",{value:"HOST",children:"Hotel Owner"}),e.jsx("option",{value:"ADMIN",children:"Administrator"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{name:"address",value:c.address,onChange:g,rows:3,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter address"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Password"}),e.jsx("button",{type:"button",onClick:j,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Generate password automatically"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:a?"text":"password",name:"password",value:c.password,onChange:g,className:`block w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.password?"border-red-300":"border-gray-300"}`,placeholder:"Enter password"}),e.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:a?e.jsx(js,{size:16}):e.jsx(ze,{size:16})})]}),u.password&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),u.password]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:g,className:`block w-full pl-10 pr-10 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${u.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Confirm password"}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:i?e.jsx(js,{size:16}):e.jsx(ze,{size:16})})]}),u.confirmPassword&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),u.confirmPassword]})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Password requirements:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" At least 8 characters"}),e.jsx("li",{children:" Should include uppercase, lowercase, numbers and special characters"}),e.jsx("li",{children:" Don't use easily guessable personal information"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:f,disabled:n,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center disabled:opacity-50",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Create User"]})})]})]})})]})},kj=()=>{const t=le(),[s,n]=h.useState(""),[r,a]=h.useState("all"),[l,i]=h.useState(0),[o,c]=h.useState([]),[d,u]=h.useState(!1),[m,g]=h.useState(null),[x,y]=h.useState({reviews:[],loading:!0,error:null,totalReviews:0,currentPage:0,totalPages:0}),f=10,j=async(E=0)=>{try{y(U=>({...U,loading:!0,error:null}));let R;if(s.trim())R=await Wt.searchReviews(s.trim(),E,f,"createdAt");else{const U={pageNumber:E,pageSize:f,sortBy:"createdAt"};r!=="all"&&(r==="low"?U.rating=null:U.rating=parseInt(r)),R=await Wt.getAllReviewsWithFilters(U)}const I=R.data.result;y(U=>({...U,reviews:I.content||[],totalReviews:I.totalElements||0,currentPage:I.pageNumber||0,totalPages:I.totalPages||0,loading:!1}))}catch(R){console.error("Error fetching reviews:",R),y(I=>({...I,loading:!1,error:"An error occurred while loading the review list"}))}};h.useEffect(()=>{j(0),i(0)},[s,r]),h.useEffect(()=>{j(l)},[l]);const N=E=>new Date(E).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),p=()=>{c(d?[]:x.reviews.map(E=>E.id)),u(!d)},b=E=>{o.includes(E)?c(o.filter(R=>R!==E)):c([...o,E])},v=E=>{t(`/admin/hotels/${E}`)},w=E=>{t(`/admin/users/${E}`)},k=async E=>{if(window.confirm("Are you sure you want to delete this review? This action cannot be undone."))try{g(E),await Wt.deleteReview(E),await j(l),alert("Review deleted successfully!")}catch(R){console.error("Error deleting review:",R),alert("An error occurred while deleting the review")}finally{g(null)}},C=async E=>{if(o.length===0)return;const R="delete";if(window.confirm(`Are you sure you want to ${R} ${o.length} selected reviews?`))try{g("bulk");const I=o.map(U=>Wt.deleteReview(U));await Promise.all(I),await j(l),c([]),u(!1),alert(`Successfully ${R}d ${o.length} reviews!`)}catch(I){console.error(`Error performing bulk ${E}:`,I),alert(`An error occurred while ${E}ing reviews`)}finally{g(null)}},S=E=>Array(5).fill(0).map((R,I)=>e.jsx(fe,{size:16,className:`${I<E?"text-yellow-400 fill-current":"text-gray-300"}`},I)),P=E=>{i(E)},T=()=>{j(l)};return x.loading&&x.reviews.length===0?e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Review Management"}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{onClick:T,disabled:x.loading,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:[e.jsx(qe,{className:`h-4 w-4 mr-2 ${x.loading?"animate-spin":""}`}),"Refresh"]})})]}),x.error&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-700",children:x.error})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search by review content...",value:s,onChange:E=>n(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(at,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("select",{value:r,onChange:E=>a(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Reviews"}),e.jsx("option",{value:"5",children:"5 Stars"}),e.jsx("option",{value:"4",children:"4 Stars"}),e.jsx("option",{value:"3",children:"3 Stars"}),e.jsx("option",{value:"2",children:"2 Stars"}),e.jsx("option",{value:"1",children:"1 Star"}),e.jsx("option",{value:"low",children:"Low Rating ( 3 stars)"})]})]})})]})}),o.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex justify-between items-center",children:[e.jsxs("span",{className:"text-blue-700",children:["Selected ",o.length," reviews"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>C("delete"),disabled:m!==null,className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[e.jsx(tt,{size:16,className:"mr-1"}),"Delete Selected"]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[x.reviews.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Dn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),e.jsx("p",{className:"text-gray-600",children:s||r!=="all"?"Try changing the filters to see different results":"No reviews in the system yet"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:d,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hotel"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviewer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.reviews.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:o.includes(E.id),onChange:()=>b(E.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("div",{className:"flex mr-2",children:S(E.rating)})}),e.jsx("p",{className:"text-sm text-gray-900",children:E.comment||e.jsx("em",{className:"text-gray-500",children:"No comment"})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>v(E.hotelId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(et,{size:14,className:"mr-1"}),E.hotelName||"N/A"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>w(E.userId),className:"text-sm font-medium text-blue-600 hover:text-blue-900 flex items-center",children:[e.jsx(He,{size:14,className:"mr-1"}),E.userName||"N/A"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1 text-gray-500"}),N(E.createdAt)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsx("button",{onClick:()=>k(E.id),disabled:m===E.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Delete",children:e.jsx(tt,{size:18})})})})]},E.id))})]})}),x.totalPages>1&&e.jsxs("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>P(Math.max(0,l-1)),disabled:l===0||x.loading,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${l===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e.jsx("button",{onClick:()=>P(Math.min(x.totalPages-1,l+1)),disabled:l>=x.totalPages-1||x.loading,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${l>=x.totalPages-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:l*f+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min((l+1)*f,x.totalReviews)})," ","of ",e.jsx("span",{className:"font-medium",children:x.totalReviews})," reviews"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>P(Math.max(0,l-1)),disabled:l===0||x.loading,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${l===0?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Previous"}),Array.from({length:Math.min(5,x.totalPages)},(E,R)=>{const I=Math.max(0,Math.min(l-2,x.totalPages-5))+R,U=I===l;return e.jsx("button",{onClick:()=>P(I),disabled:x.loading,className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${U?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I+1},I)}),e.jsx("button",{onClick:()=>P(Math.min(x.totalPages-1,l+1)),disabled:l>=x.totalPages-1||x.loading,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${l>=x.totalPages-1?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"}`,children:"Next"})]})})]})]})]})]})},Cj=()=>{const[t,s]=h.useState({siteName:"FBooking",siteDescription:"Leading hotel booking platform in Vietnam",contactEmail:"admin@fbooking.com",supportPhone:"1900-1234",maintenanceMode:!1,emailNotifications:!0,smsNotifications:!1,autoApproveBookings:!1,requireEmailVerification:!0,maxBookingDays:30,cancellationDeadline:24,commissionRate:10,currency:"VND",timezone:"Asia/Ho_Chi_Minh",language:"vi"}),n=(a,l)=>{s(i=>({...i,[a]:l}))},r=()=>{alert("Ci t  c lu thnh cng!")};return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Ci t h thng"}),e.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center w-full sm:w-auto",children:[e.jsx(rt,{className:"mr-2",size:20}),"Lu ci t"]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Jl,{className:"mr-3 text-blue-600",size:24}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Ci t chung"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn website"}),e.jsx("input",{type:"text",value:t.siteName,onChange:a=>n("siteName",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t website"}),e.jsx("textarea",{value:t.siteDescription,onChange:a=>n("siteDescription",a.target.value),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base resize-y"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email lin h"}),e.jsx("input",{type:"email",value:t.contactEmail,onChange:a=>n("contactEmail",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi h tr"}),e.jsx("input",{type:"text",value:t.supportPhone,onChange:a=>n("supportPhone",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Jy,{className:"mr-3 text-green-600",size:24}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Ci t h thng"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ch  bo tr"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.maintenanceMode,onChange:a=>n("maintenanceMode",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto-approve bookings"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.autoApproveBookings,onChange:a=>n("autoApproveBookings",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Yu cu xc thc email"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.requireEmailVerification,onChange:a=>n("requireEmailVerification",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum booking days"}),e.jsx("input",{type:"number",value:t.maxBookingDays,onChange:a=>n("maxBookingDays",parseInt(a.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking cancellation deadline (hours)"}),e.jsx("input",{type:"number",value:t.cancellationDeadline,onChange:a=>n("cancellationDeadline",parseInt(a.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Gy,{className:"mr-3 text-yellow-600",size:24}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Ci t thng bo"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Thng bo email"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.emailNotifications,onChange:a=>n("emailNotifications",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Thng bo SMS"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.smsNotifications,onChange:a=>n("smsNotifications",a.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(We,{className:"mr-3 text-purple-600",size:24}),e.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Ci t kinh doanh"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T l hoa hng (%)"}),e.jsx("input",{type:"number",value:t.commissionRate,onChange:a=>n("commissionRate",parseInt(a.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"n v tin t"}),e.jsxs("select",{value:t.currency,onChange:a=>n("currency",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"VND",children:"VND - Vit Nam ng"}),e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mi gi"}),e.jsxs("select",{value:t.timezone,onChange:a=>n("timezone",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"Asia/Ho_Chi_Minh",children:"Asia/Ho_Chi_Minh"}),e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"Asia/Bangkok",children:"Asia/Bangkok"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngn ng mc nh"}),e.jsxs("select",{value:t.language,onChange:a=>n("language",a.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",children:[e.jsx("option",{value:"vi",children:"Ting Vit"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"zh",children:""})]})]})]})]})]})]})},Sj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState({totalHotels:0,activeHotels:0,totalRoomTypes:0,totalBookings:0,monthlyRevenue:0,averageRating:0,occupancyRate:0,totalReviews:0,pendingBookings:0,confirmedBookings:0}),[a,l]=h.useState(!0),[i,o]=h.useState(!1),c=async()=>{try{l(!0);try{const y=await vx.getDashboard();if(y.data.success){r(y.data.result);return}}catch{console.log("Full dashboard API not available, fetching individual stats...")}const[g,x]=await Promise.all([me.getMyHotelsCount().catch(()=>({data:{result:0}})),me.getMyActiveHotelsCount().catch(()=>({data:{result:0}}))]);r(y=>({...y,totalHotels:g.data.result||0,activeHotels:x.data.result||0,totalBookings:0,monthlyRevenue:0,averageRating:0,occupancyRate:0,totalReviews:0,pendingBookings:0,confirmedBookings:0}))}catch(g){console.error("Error fetching dashboard data:",g),s("error","Li","Khng th ti d liu dashboard")}finally{l(!1),o(!1)}},d=async()=>{o(!0),await c()};h.useEffect(()=>{c()},[]);const u=g=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(g),m=[{label:"Tng khch sn",value:n.totalHotels.toString(),icon:et,color:"blue",trend:n.totalHotels>0?"+100%":"0%"},{label:"t phng thng ny",value:n.totalBookings.toString(),icon:ds,color:"green",trend:n.totalBookings>0?"+8.2%":"0%"},{label:"Doanh thu thng ny",value:u(n.monthlyRevenue),icon:Se,color:"yellow",trend:n.monthlyRevenue>0?"+12.5%":"0%"},{label:"nh gi trung bnh",value:n.averageRating>0?n.averageRating.toFixed(1):"0.0",icon:fe,color:"purple",trend:n.averageRating>0?"+0.2":"0%"}];return a?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard Qun l"}),e.jsxs("button",{onClick:d,disabled:i,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(qe,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Lm mi"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:m.map((g,x)=>{const y=g.icon;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-sm",children:g.label}),e.jsx("h3",{className:"text-2xl font-bold mt-2 text-gray-900",children:g.value})]}),e.jsx("div",{className:`p-3 rounded-full ${g.color==="blue"?"bg-blue-100":g.color==="green"?"bg-green-100":g.color==="yellow"?"bg-yellow-100":"bg-purple-100"}`,children:e.jsx(y,{className:`h-6 w-6 ${g.color==="blue"?"text-blue-600":g.color==="green"?"text-green-600":g.color==="yellow"?"text-yellow-600":"text-purple-600"}`})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(pn,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:g.trend}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so vi thng trc"})]})]},x)})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Trng thi khch sn"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"ang hot ng"}),e.jsx("span",{className:"text-green-600 font-medium",children:n.activeHotels})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tm ngng"}),e.jsx("span",{className:"text-red-600 font-medium",children:n.totalHotels-n.activeHotels})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tng loi phng"}),e.jsx("span",{className:"text-blue-600 font-medium",children:n.totalRoomTypes})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"t phng"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Ch xc nhn"}),e.jsx("span",{className:"text-yellow-600 font-medium",children:n.pendingBookings})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:" xc nhn"}),e.jsx("span",{className:"text-green-600 font-medium",children:n.confirmedBookings})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"T l lp y"}),e.jsxs("span",{className:"text-blue-600 font-medium",children:[n.occupancyRate,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"nh gi"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tng nh gi"}),e.jsx("span",{className:"text-gray-900 font-medium",children:n.totalReviews})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"im trung bnh"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 text-yellow-400 mr-1"}),e.jsx("span",{className:"text-gray-900 font-medium",children:n.averageRating>0?n.averageRating.toFixed(1):"0.0"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(Ai,{title:"Qun l khch sn",description:"Qun l danh sch v thng tin khch sn",icon:e.jsx(et,{className:"h-6 w-6"}),onClick:()=>t("/host/hotels"),stats:`${n.totalHotels} khch sn`}),e.jsx(Ai,{title:"Qun l t phng",description:"Xem v qun l n t phng t khch",icon:e.jsx(ds,{className:"h-6 w-6"}),onClick:()=>t("/host/bookings"),stats:`${n.totalBookings} t phng`}),e.jsx(Ai,{title:"Thng k doanh thu",description:"Theo di thu nhp v hiu sut kinh doanh",icon:e.jsx(Se,{className:"h-6 w-6"}),onClick:()=>t("/host/analytics"),stats:u(n.monthlyRevenue)})]})]})})},Ai=({title:t,description:s,icon:n,onClick:r,stats:a})=>e.jsxs("button",{onClick:r,className:"bg-white rounded-lg shadow-md p-6 text-left transition-all hover:shadow-lg hover:scale-105 group",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mr-4 group-hover:bg-blue-200 transition-colors",children:n}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),a&&e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:a})]})]}),e.jsx("p",{className:"text-gray-600",children:s})]}),Pj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState(0),[g,x]=h.useState(0),[y,f]=h.useState(0),j=12,[N,p]=h.useState("all"),[b,v]=h.useState(""),w=async(_=0)=>{try{l(_===0);const O={pageNumber:_,pageSize:j,sortBy:"updatedAt",...N!=="all"&&{isActive:N==="active"}},Y=await me.getMyHotelsWithFilters(O);if(Y.data.success){const W=Y.data.result;r(W.content),x(W.totalPages),f(W.totalElements),m(W.number)}}catch(O){console.error("Error fetching hotels:",O),s("error","Li","Khng th ti danh sch khch sn")}finally{l(!1),o(!1)}},k=async()=>{o(!0),await w(u)},C=()=>{t("/host/hotels/add")},S=_=>{t(`/host/hotels/edit/${_}`)},P=_=>{t(`/host/hotels/${_}`)},T=async(_,O)=>{var Y,W;if(window.confirm(`Bn c chc chn mun xa khch sn "${O}" khng?`))try{d(_),await me.deleteMyHotel(_),s("success","Thnh cng","Khch sn  c xa"),await w(u)}catch(z){console.error("Error deleting hotel:",z);const A=((W=(Y=z.response)==null?void 0:Y.data)==null?void 0:W.message)||"C li xy ra khi xa khch sn";s("error","Li",A)}finally{d(null)}},E=async(_,O,Y)=>{var W,z;try{d(_),await me.toggleMyHotelStatus(_),s("success","Thnh cng",`Khch sn "${O}"  c ${Y?"tm ngng":"kch hot"}`),await w(u)}catch(A){console.error("Error toggling hotel status:",A);const F=((z=(W=A.response)==null?void 0:W.data)==null?void 0:z.message)||"C li xy ra khi thay i trng thi";s("error","Li",F)}finally{d(null)}},R=_=>{m(_),w(_)},I=_=>{p(_),m(0)};h.useEffect(()=>{w(0)},[N]);const U=n.filter(_=>b===""||_.name.toLowerCase().includes(b.toLowerCase())||_.city&&_.city.toLowerCase().includes(b.toLowerCase())||_.address&&_.address.toLowerCase().includes(b.toLowerCase())),K=_=>_?e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"ang hot ng"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"Tm ngng"}),q=_=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_);return a?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l khch sn"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Tng ",y," khch sn"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:k,disabled:i,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(qe,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Lm mi"]}),e.jsxs("button",{onClick:C,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Thm khch sn mi"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Tm kim theo tn, a im...",value:b,onChange:_=>v(_.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Trng thi:"}),e.jsxs("select",{value:N,onChange:_=>I(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tt c"}),e.jsx("option",{value:"active",children:"ang hot ng"}),e.jsx("option",{value:"inactive",children:"Tm ngng"})]})]})]})}),U.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx(et,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cha c khch sn no"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Bt u bng cch thm khch sn u tin ca bn"}),e.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Thm khch sn mi"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:U.map(_=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:_.imageUrl||"https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg",alt:_.name,className:"w-full h-48 object-cover",onError:O=>{O.target.src="https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg"}}),e.jsx("div",{className:"absolute top-4 right-4",children:K(_.active)})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1 line-clamp-1",children:_.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[e.jsx(Be,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:_.city||_.address})]}),_.averageRating&&_.averageRating>0&&e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"flex mr-2",children:Array(5).fill(0).map((O,Y)=>e.jsx(fe,{className:`h-4 w-4 ${Y<Math.floor(_.averageRating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},Y))}),e.jsxs("span",{className:"text-gray-700",children:[_.averageRating.toFixed(1)," (",_.totalReviews," nh gi)"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-gray-600 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[_.totalRoomTypes||0," loi phng"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[_.totalRooms||0," phng"]})]})]}),_.pricePerNight&&e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:q(_.pricePerNight)}),e.jsx("span",{className:"text-gray-600",children:"/m"})]}),_.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:_.description}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>P(_.id),className:"flex-1 bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[e.jsx(ze,{className:"h-4 w-4 mr-1"}),"Xem"]}),e.jsxs("button",{onClick:()=>S(_.id),className:"flex-1 bg-blue-100 text-blue-700 px-3 py-2 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center",children:[e.jsx(Fe,{className:"h-4 w-4 mr-1"}),"Sa"]}),e.jsx("button",{onClick:()=>E(_.id,_.name,_.active),disabled:c===_.id,className:`px-3 py-2 rounded-lg transition-colors flex items-center justify-center ${_.active?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"} disabled:opacity-50`,children:c===_.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):_.active?e.jsx(_c,{className:"h-4 w-4"}):e.jsx(qc,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>T(_.id,_.name),disabled:c===_.id,className:"bg-red-100 text-red-700 px-3 py-2 rounded-lg hover:bg-red-200 transition-colors flex items-center justify-center disabled:opacity-50",children:e.jsx(tt,{className:"h-4 w-4"})})]})]})]},_.id))}),g>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2",children:[e.jsx("button",{onClick:()=>R(u-1),disabled:u===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),Array.from({length:g},(_,O)=>e.jsx("button",{onClick:()=>R(O),className:`px-4 py-2 border rounded-lg ${u===O?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:O+1},O)),e.jsx("button",{onClick:()=>R(u+1),disabled:u===g-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})},Tj=({isOpen:t,onClose:s,onConfirm:n,booking:r,loading:a=!1})=>{const l=async()=>{await n()},i=()=>{a||s()},o=d=>new Date(d).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d);return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(yt,{className:"h-6 w-6 text-green-500 mr-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Booking"})]}),e.jsx("button",{onClick:i,disabled:a,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:e.jsx(ve,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to confirm this booking?"}),r&&e.jsxs("div",{className:"space-y-4 mb-6 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Booking Reference"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:r.bookingReference})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Guest Name"}),e.jsx("span",{className:"text-sm text-gray-900",children:r.guestName})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),"Check-in"]}),e.jsx("span",{className:"text-sm text-gray-900 text-right",children:o(r.checkInDate)})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),"Check-out"]}),e.jsx("span",{className:"text-sm text-gray-900 text-right",children:o(r.checkOutDate)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),"Guests"]}),e.jsx("span",{className:"text-sm text-gray-900",children:r.guests})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[e.jsx(Se,{className:"h-4 w-4 mr-1"}),"Total Amount"]}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:c(r.totalAmount)})]}),r.specialRequests&&e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Special Requests"}),e.jsx("p",{className:"text-sm text-gray-700 italic",children:r.specialRequests})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(yt,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsx("p",{className:"font-medium mb-1",children:"Confirmation Action"}),e.jsx("p",{children:"By confirming this booking, you commit to providing the reserved accommodation and services as agreed."})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50",children:[e.jsx("button",{onClick:i,disabled:a,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:l,disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Confirming..."]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{className:"h-4 w-4 mr-2"}),"Confirm Booking"]})})]})]})}):null},Ej=()=>{var se,oe,Ee;const t=le(),{showToast:s}=we(),[n,r]=h.useState("all"),[a,l]=h.useState(""),[i,o]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState(!1),[g,x]=h.useState(null),[y,f]=h.useState(0),[j,N]=h.useState(0),[p,b]=h.useState(0),v=10,[w,k]=h.useState({isOpen:!1}),[C,S]=h.useState({isOpen:!1}),P=async(Q=0)=>{try{d(Q===0);const D={pageNumber:Q,pageSize:v,sortBy:"createdAt"};if(n!=="all"){const V={pending:"PENDING",confirmed:"CONFIRMED",cancelled:"CANCELLED",completed:"COMPLETED"};D.status=V[n]}const J=await Ne.getHostBookings(D);if(J.data.success){const{content:V,totalElements:ne,totalPages:G,number:be}=J.data.result;o(V||[]),b(ne||0),N(G||0),f(be||0)}else throw new Error(J.data.message||"Cannot load booking list")}catch(D){console.error("Error fetching bookings:",D),o([]),N(0),b(0),f(0),s("info","Notice","No bookings available or service temporarily unavailable")}finally{d(!1),m(!1)}},T=async()=>{m(!0),await P(y)};h.useEffect(()=>{P(0)},[n]);const E=Q=>new Date(Q).toLocaleDateString("vi-VN"),R=Q=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(Q),I=Q=>e.jsx(pr,{status:Q,size:"sm"}),U=Q=>e.jsx(fr,{status:Q,size:"sm"}),K=i.filter(Q=>{const D=Q.guestName.toLowerCase().includes(a.toLowerCase())||Q.hotelName.toLowerCase().includes(a.toLowerCase())||Q.id.toLowerCase().includes(a.toLowerCase())||Q.bookingReference&&Q.bookingReference.toLowerCase().includes(a.toLowerCase());if(n==="cancelled"){const J=Q.status==="CANCELLED"||Q.status==="CANCELLED_BY_GUEST"||Q.status==="CANCELLED_BY_HOST";return D&&J}return n==="refund_pending"?D&&Q.paymentStatus==="REFUND_PENDING":D}),q=Q=>{t(`/host/bookings/${Q}`)},_=Q=>{k({isOpen:!0,booking:Q})},O=async()=>{if(w.booking)try{x(w.booking.id);const Q=await Ne.confirmBooking(w.booking.id);if(Q.data.success)s("success","Booking Confirmed","The booking has been confirmed successfully"),await P(y),k({isOpen:!1});else throw new Error(Q.data.message||"Cannot confirm booking")}catch(Q){console.error("Error confirming booking:",Q),s("error","Confirmation Failed",Q.message||"Cannot confirm booking")}finally{x(null)}},Y=Q=>{S({isOpen:!0,booking:Q})},W=async Q=>{if(C.booking)try{x(C.booking.id);const D=await Ne.cancelBooking(C.booking.id,Q||"Cancelled by hotel owner");if(D.data.success)s("success","Booking Cancelled","The booking has been cancelled successfully"),await P(y),S({isOpen:!1});else throw new Error(D.data.message||"Cannot cancel booking")}catch(D){console.error("Error cancelling booking:",D),s("error","Cancellation Failed",D.message||"Cannot cancel booking")}finally{x(null)}},z=async Q=>{try{x(Q);const D=await Ne.completeBooking(Q);if(D.data.success)s("success","Booking Completed","The booking has been marked as completed"),await P(y);else throw new Error(D.data.message||"Cannot complete booking")}catch(D){console.error("Error completing booking:",D),s("error","Completion Failed",D.message||"Cannot complete booking")}finally{x(null)}},A=async Q=>{try{x(Q);const D=await Ne.confirmPayment(Q);if(D.data.success)s("success","Payment Confirmed","The payment has been confirmed successfully"),await P(y);else throw new Error(D.data.message||"Cannot confirm payment")}catch(D){console.error("Error confirming payment:",D),s("error","Payment Confirmation Failed",D.message||"Cannot confirm payment")}finally{x(null)}},F=Q=>{t(`/host/bookings/${Q}`)},B=Q=>{Q>=0&&Q<j&&P(Q)};return c?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsxs("div",{className:"min-h-screen bg-gray-100 pt-20",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Booking Management"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Total ",p," bookings"]})]}),e.jsxs("button",{onClick:T,disabled:u,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(qe,{className:`h-4 w-4 mr-2 ${u?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>r("all"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"All"}),e.jsx("button",{onClick:()=>r("pending"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="pending"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pending"}),e.jsx("button",{onClick:()=>r("confirmed"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="confirmed"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Confirmed"}),e.jsx("button",{onClick:()=>r("completed"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="completed"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Completed"}),e.jsx("button",{onClick:()=>r("cancelled"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="cancelled"?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Cancelled"}),e.jsx("button",{onClick:()=>r("refund_pending"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="refund_pending"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Refund Pending"})]})})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(at,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Search by guest name, booking code, hotel...",value:a,onChange:Q=>l(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),K.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[e.jsx(ds,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i.length===0?"No bookings yet":"No bookings found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i.length===0?"Customer bookings will appear here":"Try changing filters or search keywords"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking Info"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stay Dates"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(Q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-blue-600",children:Q.bookingReference||Q.id}),e.jsx("div",{className:"text-sm text-gray-900",children:Q.hotelName}),e.jsx("div",{className:"text-sm text-gray-500",children:Q.roomTypeName}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(He,{className:"h-3 w-3 mr-1"}),Q.guests," guests"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q.guestName}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(De,{className:"h-3 w-3 mr-1"}),Q.guestEmail]}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),Q.guestPhone]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Check-in: ",E(Q.checkInDate)]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Check-out: ",E(Q.checkOutDate)]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R(Q.totalAmount)}),e.jsx("div",{className:"mt-1",children:U(Q.paymentStatus)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I(Q.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>q(Q.id),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-full",title:"View Details",children:e.jsx(ze,{className:"h-4 w-4"})}),Q.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>_(Q),disabled:g===Q.id,className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full disabled:opacity-50",title:"Confirm",children:g===Q.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):e.jsx(Qe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Y(Q),disabled:g===Q.id,className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded-full disabled:opacity-50",title:"Cancel",children:e.jsx(ve,{className:"h-4 w-4"})})]}),Q.status==="CONFIRMED"&&e.jsx("button",{onClick:()=>z(Q.id),disabled:g===Q.id,className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded-full disabled:opacity-50",title:"Complete",children:g===Q.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):e.jsx(Pe,{className:"h-4 w-4"})}),Q.status==="CONFIRMED"&&e.jsx("button",{onClick:()=>F(Q.id),className:"text-orange-600 hover:text-orange-900 p-2 hover:bg-orange-50 rounded-full",title:"Process Cancellation Request",children:e.jsx(vs,{className:"h-4 w-4"})}),Q.paymentStatus==="REFUND_PENDING"&&e.jsx("button",{onClick:()=>F(Q.id),className:"text-purple-600 hover:text-purple-900 p-2 hover:bg-purple-50 rounded-full",title:"Process Refund",children:e.jsx(vs,{className:"h-4 w-4"})}),Q.paymentStatus==="PENDING"&&e.jsx("button",{onClick:()=>A(Q.id),disabled:g===Q.id,className:"text-green-600 hover:text-green-900 p-2 hover:bg-green-50 rounded-full disabled:opacity-50",title:"Confirm Payment",children:g===Q.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}):e.jsx(Se,{className:"h-4 w-4"})})]})})]},Q.id))})]})})}),j>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[e.jsx("button",{onClick:()=>B(y-1),disabled:y===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:j},(Q,D)=>e.jsx("button",{onClick:()=>B(D),className:`px-4 py-2 border rounded-lg ${y===D?"bg-blue-600 text-white border-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:D+1},D)),e.jsx("button",{onClick:()=>B(y+1),disabled:y===j-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx(Tj,{isOpen:w.isOpen,onClose:()=>k({isOpen:!1}),onConfirm:O,booking:w.booking,loading:g===((se=w.booking)==null?void 0:se.id)}),e.jsx(Ax,{isOpen:C.isOpen,onClose:()=>S({isOpen:!1}),onConfirm:W,bookingReference:(oe=C.booking)==null?void 0:oe.bookingReference,loading:g===((Ee=C.booking)==null?void 0:Ee.id)})]})},Rj=()=>{const{id:t}=ot(),s=le(),{showToast:n}=we(),[r,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(null),[d,u]=h.useState(!1);h.useEffect(()=>{t&&m(t)},[t]);const m=async p=>{try{i(!0);const b=await Ne.getHostBookingById(p);if(b.data.success)a(b.data.result);else throw new Error(b.data.message||"Khng th ti thng tin t phng")}catch(b){console.error("Error fetching booking detail:",b),n("error","Li",b.message||"Khng th ti thng tin t phng"),s("/host/bookings")}finally{i(!1)}},g=p=>new Date(p).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),x=p=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(p),y=async()=>{if(!(!r||!t))try{c("confirm");const p=await Ne.confirmBooking(t);if(p.data.success)n("success","Thnh cng","t phng  c xc nhn"),await m(t);else throw new Error(p.data.message||"Khng th xc nhn t phng")}catch(p){console.error("Error confirming booking:",p),n("error","Li",p.message||"Khng th xc nhn t phng")}finally{c(null)}},f=async()=>{if(!(!r||!t)&&window.confirm("Bn c chc chn mun hy t phng ny khng?"))try{c("cancel");const p=await Ne.cancelBooking(t,"Hy bi ch khch sn");if(p.data.success)n("success","Thnh cng","t phng  c hy"),await m(t);else throw new Error(p.data.message||"Khng th hy t phng")}catch(p){console.error("Error cancelling booking:",p),n("error","Li",p.message||"Khng th hy t phng")}finally{c(null)}},j=async()=>{if(!(!r||!t))try{c("complete");const p=await Ne.completeBooking(t);if(p.data.success)n("success","Thnh cng","t phng  c nh du hon thnh"),await m(t);else throw new Error(p.data.message||"Khng th hon thnh t phng")}catch(p){console.error("Error completing booking:",p),n("error","Li",p.message||"Khng th hon thnh t phng")}finally{c(null)}},N=()=>{const[p,b]=h.useState("FULL"),[v,w]=h.useState((r==null?void 0:r.totalAmount)||0),[k,C]=h.useState(""),[S,P]=h.useState(!1),T=R=>{if(b(R),!!r)switch(R){case"FULL":w(r.totalAmount);break;case"PARTIAL":w(r.totalAmount*.5);break;case"NO_REFUND":w(0);break}},E=async()=>{var R,I;if(!(!r||!t)){if(!k.trim()){n("error","Li","Vui lng nhp l do x l");return}P(!0);try{await Ne.processCancellation(t,{refundAmount:v,reason:k,refundPercentage:p==="FULL"?100:p==="PARTIAL"?50:0}),n("success","Thnh cng"," x l yu cu hy booking"),u(!1),await m(t)}catch(U){console.error("Error processing cancellation:",U),n("error","Li",((I=(R=U.response)==null?void 0:R.data)==null?void 0:I.message)||"Khng th x l yu cu hy")}finally{P(!1)}}};return!d||!r?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"X l yu cu hy booking"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ve,{size:24})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Thng tin booking"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"M booking:"}),e.jsx("span",{className:"ml-2 font-medium",children:r.bookingReference})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Khch hng:"}),e.jsx("span",{className:"ml-2 font-medium",children:r.guestName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tng tin:"}),e.jsx("span",{className:"ml-2 font-medium text-blue-600",children:x(r.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Ngy nhn phng:"}),e.jsx("span",{className:"ml-2 font-medium",children:g(r.checkInDate)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Chnh sch hon tin"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"refundType",value:"FULL",checked:p==="FULL",onChange:()=>T("FULL"),className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Hon tin y "}),e.jsx("span",{className:"text-green-600 font-medium",children:x(r.totalAmount)})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Hon li 100% s tin  thanh ton"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"refundType",value:"PARTIAL",checked:p==="PARTIAL",onChange:()=>T("PARTIAL"),className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Hon tin mt phn"}),e.jsx("span",{className:"text-orange-600 font-medium",children:x(r.totalAmount*.5)})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Hon li 50% s tin (gi li ph hy)"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"refundType",value:"NO_REFUND",checked:p==="NO_REFUND",onChange:()=>T("NO_REFUND"),className:"h-4 w-4 text-blue-600"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Khng hon tin"}),e.jsx("span",{className:"text-red-600 font-medium",children:x(0)})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Khng hon li s tin (vi phm chnh sch)"})]})]})]})]}),p==="PARTIAL"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S tin hon li ty chnh"}),e.jsx("input",{type:"number",min:"0",max:r.totalAmount,step:"1000",value:v,onChange:R=>w(parseFloat(R.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"L do x l *"}),e.jsx("textarea",{value:k,onChange:R=>C(R.target.value),rows:3,placeholder:"Nhp l do x l yu cu hy (v d: khch hy sm, vi phm chnh sch, etc.)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Tm tt x l"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Trng thi booking:"}),e.jsx("span",{className:"font-medium text-blue-900",children:" hy bi khch"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"S tin hon li:"}),e.jsx("span",{className:"font-medium text-blue-900",children:x(v)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700",children:"Trng thi thanh ton:"}),e.jsx("span",{className:"font-medium text-blue-900",children:p==="FULL"?" hon tin":p==="PARTIAL"?"Hon mt phn":"Khng hon tin"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Hy"}),e.jsx("button",{onClick:E,disabled:S||!k.trim(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"ang x l..."]}):"Xc nhn x l"})]})]})]})})};return l?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):r?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s("/host/bookings"),className:"flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Quay li danh sch t phng"]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Chi tit t phng"}),e.jsxs("p",{className:"text-gray-600",children:["M t phng: ",r.bookingReference||r.id]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["t ngy: ",g(r.createdAt)]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 mt-4 md:mt-0",children:[e.jsx(pr,{status:r.status,size:"md"}),e.jsx(fr,{status:r.paymentStatus,size:"md"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Thng tin khch hng"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Tn khch hng"}),e.jsx("p",{className:"font-medium",children:r.guestName})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(De,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r.guestEmail})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:r.guestPhone})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),e.jsxs("span",{children:[r.guests," khch"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Thng tin khch sn"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Tn khch sn"}),e.jsx("p",{className:"font-medium",children:r.hotelName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Loi phng"}),e.jsx("p",{className:"font-medium",children:r.roomTypeName})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Chi tit lu tr"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Ngy nhn phng"})]}),e.jsx("p",{className:"text-lg",children:g(r.checkInDate)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Ngy tr phng"})]}),e.jsx("p",{className:"text-lg",children:g(r.checkOutDate)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"S m"})]}),e.jsxs("p",{className:"text-lg",children:[Math.ceil((new Date(r.checkOutDate).getTime()-new Date(r.checkInDate).getTime())/(1e3*60*60*24))," m"]})]})]})]}),r.specialRequests&&e.jsxs("div",{className:"border-t pt-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Yu cu c bit"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:r.specialRequests})})]}),e.jsxs("div",{className:"border-t pt-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Thng tin thanh ton"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.paymentMethod&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Phng thc thanh ton"}),e.jsx("p",{className:"font-medium",children:r.paymentMethod})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Tng s tin"}),e.jsx("p",{className:"font-bold text-2xl text-blue-600",children:x(r.totalAmount)})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.status==="PENDING"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:y,disabled:o==="confirm",className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[o==="confirm"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Xc nhn t phng"]}),e.jsxs("button",{onClick:f,disabled:o==="cancel",className:"flex items-center px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[o==="cancel"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Hy t phng"]})]}),r.status==="CONFIRMED"&&e.jsxs("button",{onClick:j,disabled:o==="complete",className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[o==="complete"?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(Pe,{className:"h-4 w-4 mr-2"}),"Hon thnh t phng"]}),r.status==="CONFIRMED"&&e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"X l yu cu hy"]})]})})]})}),e.jsx(N,{})]})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ue,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Khng tm thy t phng"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"t phng ny c th  b xa hoc khng tn ti"}),e.jsx("button",{onClick:()=>s("/host/bookings"),className:"text-blue-600 hover:text-blue-800",children:"Quay li danh sch t phng"})]})})})},Dj=()=>{const{showToast:t}=we(),[s,n]=h.useState("month"),[r,a]=h.useState("all"),[l,i]=h.useState(!0),[o,c]=h.useState(!1),[d,u]=h.useState({totalRevenue:0,bookingsCount:0,occupancyRate:0,averageRating:0,totalHotels:0,activeHotels:0,revenueByMonth:[],bookingsBySource:[],recentBookings:[],properties:[]}),m=async()=>{var j;try{i(!0);try{const b=await vx.getDashboard();if(b.data.success){const v=b.data.result,w=((j=v.recentBookings)==null?void 0:j.map(k=>({id:k.id,guestName:k.guestName,date:k.checkInDate,amount:k.totalAmount,property:k.hotelName})))||[];u(k=>({...k,totalRevenue:v.monthlyRevenue||0,bookingsCount:v.totalBookings||0,occupancyRate:v.occupancyRate||0,averageRating:v.averageRating||0,totalHotels:v.totalHotels||0,activeHotels:v.activeHotels||0,revenueByMonth:v.monthlyRevenueData||[],recentBookings:w}));return}}catch{console.log("Full dashboard API not available, fetching individual stats...")}const[N,p]=await Promise.all([me.getMyHotelsCount().catch(()=>({data:{result:0}})),me.getMyActiveHotelsCount().catch(()=>({data:{result:0}}))]);try{const b=await me.getMyHotels(0,100,"name");if(b.data.success){const v=b.data.result.content;u(w=>({...w,properties:v.map(k=>({id:k.id,name:k.name}))}))}}catch(b){console.log("Error fetching hotels list:",b)}u(b=>({...b,totalHotels:N.data.result||0,activeHotels:p.data.result||0,revenueByMonth:[{month:"Thng 1",revenue:0},{month:"Thng 2",revenue:0},{month:"Thng 3",revenue:0},{month:"Thng 4",revenue:0},{month:"Thng 5",revenue:0},{month:"Thng 6",revenue:0},{month:"Thng 7",revenue:0},{month:"Thng 8",revenue:0},{month:"Thng 9",revenue:0},{month:"Thng 10",revenue:0},{month:"Thng 11",revenue:0},{month:"Thng 12",revenue:0}],bookingsBySource:[{source:"Website",count:0},{source:"Mobile App",count:0},{source:"Booking.com",count:0},{source:"Agoda",count:0}],recentBookings:[]}))}catch(N){console.error("Error fetching analytics data:",N),t("error","Li","Khng th ti d liu thng k")}finally{i(!1),c(!1)}},g=async()=>{c(!0),await m()};h.useEffect(()=>{m()},[]);const x=j=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(j),y=j=>new Date(j).toLocaleDateString("vi-VN"),f=Math.max(...d.revenueByMonth.map(j=>j.revenue),1);return l?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Thng k & Phn tch"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:g,disabled:o,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50",children:[e.jsx(qe,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Lm mi"]}),e.jsxs("select",{value:s,onChange:j=>n(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"week",children:"Tun ny"}),e.jsx("option",{value:"month",children:"Thng ny"}),e.jsx("option",{value:"quarter",children:"Qu ny"}),e.jsx("option",{value:"year",children:"Nm ny"})]}),e.jsxs("select",{value:r,onChange:j=>a(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"Tt c khch sn"}),d.properties.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Tng doanh thu"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:x(d.totalRevenue)})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(Se,{className:"h-6 w-6 text-blue-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(pn,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:"+12.5%"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so vi thng trc"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"S lng t phng"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:d.bookingsCount})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(pe,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(pn,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:"+8.2%"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so vi thng trc"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"T l lp y"}),e.jsxs("h3",{className:"text-2xl font-bold mt-2",children:[d.occupancyRate,"%"]})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:e.jsx(Ce,{className:"h-6 w-6 text-purple-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(pn,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:"+5.3%"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so vi thng trc"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"nh gi trung bnh"}),e.jsx("h3",{className:"text-2xl font-bold mt-2",children:d.averageRating>0?d.averageRating.toFixed(1):"0.0"})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:e.jsx(fe,{className:"h-6 w-6 text-yellow-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx(pn,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-500 font-medium",children:"+0.2"}),e.jsx("span",{className:"text-gray-500 ml-1",children:"so vi thng trc"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 lg:col-span-2",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(oa,{className:"h-5 w-5 mr-2 text-blue-600"}),"Doanh thu theo thng"]})}),d.revenueByMonth.every(j=>j.revenue===0)?e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oa,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Cha c d liu doanh thu"}),e.jsx("p",{className:"text-sm",children:"D liu s hin th khi c t phng"})]})}):e.jsx("div",{className:"h-64",children:e.jsx("div",{className:"flex h-full items-end",children:d.revenueByMonth.map((j,N)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx("div",{className:"w-full bg-blue-500 rounded-t-sm hover:bg-blue-600 transition-colors",style:{height:`${j.revenue/f*100}%`,maxWidth:"30px",margin:"0 auto",minHeight:j.revenue>0?"4px":"0px"},title:`${j.month}: ${x(j.revenue)}`}),e.jsx("div",{className:"text-xs text-gray-600 mt-2 transform -rotate-45 origin-top-left",children:j.month})]},N))})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Tm,{className:"h-5 w-5 mr-2 text-purple-600"}),"Ngun t phng"]})}),d.bookingsBySource.every(j=>j.count===0)?e.jsx("div",{className:"flex items-center justify-center text-gray-500 h-48",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Tm,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Cha c d liu t phng"})]})}):e.jsx("div",{className:"space-y-4",children:d.bookingsBySource.map((j,N)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-gray-700",children:j.source}),e.jsxs("span",{className:"text-gray-900 font-medium",children:[j.count," t phng"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"h-2.5 rounded-full",style:{width:`${d.bookingsCount>0?j.count/d.bookingsCount*100:0}%`,backgroundColor:N===0?"#3B82F6":N===1?"#8B5CF6":N===2?"#EC4899":"#F59E0B"}})})]},N))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(km,{className:"h-5 w-5 mr-2 text-green-600"}),"t phng gn y"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Xem tt c"})]}),d.recentBookings.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(km,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cha c t phng no"}),e.jsx("p",{className:"text-gray-600",children:"t phng gn y s hin th  y"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M t phng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch hng"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch sn"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngy"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S tin"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.recentBookings.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:j.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.guestName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.property}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y(j.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x(j.amount)})]},j.id))})]})})]})]})})},Aj=()=>{const t=le(),[s,n]=h.useState({name:"",type:"hotel",location:"",address:"",description:"",price:0,rooms:1,bathrooms:1,amenities:[],images:[]}),[r,a]=h.useState({}),[l,i]=h.useState(1),o=3,c=[{value:"hotel",label:"Khch sn"},{value:"resort",label:"Khu ngh dng"},{value:"apartment",label:"Cn h"},{value:"villa",label:"Bit th"},{value:"homestay",label:"Homestay"}],d=[{id:"wifi",label:"Wifi min ph"},{id:"pool",label:"H bi"},{id:"spa",label:"Spa"},{id:"gym",label:"Phng gym"},{id:"restaurant",label:"Nh hng"},{id:"parking",label:"Bi  xe"},{id:"ac",label:"iu ha"},{id:"tv",label:"TV"},{id:"kitchen",label:"Bp"},{id:"washer",label:"My git"},{id:"breakfast",label:"Ba sng min ph"},{id:"workspace",label:"Khu vc lm vic"}],u=["https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg","https://images.pexels.com/photos/1134176/pexels-photo-1134176.jpeg","https://images.pexels.com/photos/261102/pexels-photo-261102.jpeg","https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg","https://images.pexels.com/photos/164595/pexels-photo-164595.jpeg"],m=b=>{const{name:v,value:w}=b.target;n(k=>({...k,[v]:v==="price"||v==="rooms"||v==="bathrooms"?Number(w):w})),r[v]&&a(k=>({...k,[v]:""}))},g=b=>{const{value:v,checked:w}=b.target;n(k=>({...k,amenities:w?[...k.amenities,v]:k.amenities.filter(C=>C!==v)}))},x=()=>{const b=u[Math.floor(Math.random()*u.length)];s.images.includes(b)||n(v=>({...v,images:[...v.images,b]}))},y=b=>{n(v=>({...v,images:v.images.filter((w,k)=>k!==b)}))},f=b=>{const v={};return b===1?(s.name.trim()||(v.name="Vui lng nhp tn khch sn"),s.type||(v.type="Vui lng chn loi hnh lu tr"),s.location.trim()||(v.location="Vui lng nhp a im"),s.address.trim()||(v.address="Vui lng nhp a ch chi tit")):b===2?(s.description.trim()||(v.description="Vui lng nhp m t"),s.price<=0&&(v.price="Gi phi ln hn 0"),s.rooms<=0&&(v.rooms="S phng phi ln hn 0"),s.bathrooms<=0&&(v.bathrooms="S phng tm phi ln hn 0"),s.amenities.length===0&&(v.amenities="Vui lng chn t nht mt tin nghi")):b===3&&s.images.length===0&&(v.images="Vui lng thm t nht mt hnh nh"),a(v),Object.keys(v).length===0},j=()=>{f(l)&&i(b=>Math.min(b+1,o))},N=()=>{i(b=>Math.max(b-1,1))},p=b=>{b.preventDefault(),f(l)&&(alert("Khch sn  c thm thnh cng!"),t("/host/properties"))};return e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>t("/host/properties"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[e.jsx(ge,{size:20,className:"mr-1"}),"Quay li danh sch khch sn"]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Thm khch sn mi"}),e.jsx("p",{className:"text-gray-600",children:"in y  thng tin  thm khch sn ca bn"})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-between",children:Array.from({length:o}).map((b,v)=>e.jsxs(jn.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${l>v+1?"bg-green-500 text-white":l===v+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:l>v+1?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):v+1}),e.jsx("span",{className:"text-sm mt-2",children:v===0?"Thng tin c bn":v===1?"Chi tit":"Hnh nh"})]}),v<o-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 ${l>v+1?"bg-green-500":"bg-gray-200"}`})]},v))})}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"p-6",children:[l===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn khch sn ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:m,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.name?"border-red-500":"border-gray-300"}`,placeholder:"Nhp tn khch sn"}),r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Loi hnh lu tr ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{id:"type",name:"type",value:s.type,onChange:m,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.type?"border-red-500":"border-gray-300"}`,children:c.map(b=>e.jsx("option",{value:b.value,children:b.label},b.value))}),r.type&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.type})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["a im ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"location",name:"location",value:s.location,onChange:m,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.location?"border-red-500":"border-gray-300"}`,placeholder:"V d: H Ni,  Nng, Nha Trang..."}),r.location&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.location})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["a ch chi tit ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"address",name:"address",value:s.address,onChange:m,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.address?"border-red-500":"border-gray-300"}`,placeholder:"Nhp a ch chi tit"}),r.address&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.address})]})]}),l===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["M t ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:m,rows:4,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.description?"border-red-500":"border-gray-300"}`,placeholder:"M t chi tit v khch sn ca bn"}),r.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:["Gi phng c bn (VN/m) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"price",name:"price",value:s.price,onChange:m,min:"0",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.price?"border-red-500":"border-gray-300"}`,placeholder:"V d: 1000000"}),r.price&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.price})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:["S phng ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"rooms",name:"rooms",value:s.rooms,onChange:m,min:"1",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.rooms?"border-red-500":"border-gray-300"}`}),r.rooms&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.rooms})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:["S phng tm ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:s.bathrooms,onChange:m,min:"1",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.bathrooms?"border-red-500":"border-gray-300"}`}),r.bathrooms&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.bathrooms})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tin nghi ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:d.map(b=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"amenities",value:b.label,checked:s.amenities.includes(b.label),onChange:g,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:b.label})]},b.id))}),r.amenities&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.amenities})]})]}),l===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hnh nh khch sn ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsxs("button",{type:"button",onClick:x,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Kc,{className:"h-5 w-5 mr-2"}),"Ti ln hnh nh"]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"H tr JPG, PNG, GIF. Kch thc ti a 5MB."})]}),r.images&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.images})]}),s.images.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hnh nh  ti ln"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.images.map((b,v)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:b,alt:`Property ${v+1}`,className:"h-32 w-full object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>y(v),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ve,{size:16})})]},v)),e.jsx("div",{className:"h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:bg-gray-50",onClick:x,children:e.jsx(Ze,{size:24,className:"text-gray-400"})})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex justify-between",children:[l>1?e.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Quay li"}):e.jsx("div",{}),l<o?e.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 border border-transparent rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Tip theo"}):e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md text-white bg-green-600 hover:bg-green-700",children:"Hon thnh"})]})]})]})]})})},Ij=()=>{const{id:t}=ot(),s=le(),[n,r]=h.useState("rooms"),a={id:"1",name:"Vinpearl Resort & Spa",type:"Resort",location:"Nha Trang",address:"78 Trn Ph, Lc Th, Nha Trang, Khnh Ha",description:"Khu ngh dng sang trng vi view bin tuyt p, y  tin nghi cao cp. Vinpearl Resort & Spa Nha Trang l mt trong nhng khu ngh dng hng u ti Vit Nam, nm trn bi bin ring vi ct trng mn v nc bin trong xanh. Khu ngh dng cung cp cc phng ngh sang trng vi tm nhn ra bin hoc vn nhit i, nhiu nh hng phc v m thc a dng, h bi ngoi tri, spa ng cp v nhiu hot ng gii tr.",price:25e5,rating:4.8,reviewCount:124,rooms:15,bathrooms:12,amenities:["Wifi","H bi","Spa","Nh hng","Phng gym","Bi  xe","Dch v phng 24/7","iu ha"],status:"active",images:["https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg","https://images.pexels.com/photos/261102/pexels-photo-261102.jpeg","https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg","https://images.pexels.com/photos/164595/pexels-photo-164595.jpeg","https://images.pexels.com/photos/237371/pexels-photo-237371.jpeg"]},l=[{id:"r1",name:"Deluxe Ocean View",description:"Phng sang trng vi view bin tuyt p, y  tin nghi cao cp",price:25e5,capacity:2,bedType:"King size",size:"45m",amenities:["Wifi","Minibar","TV","iu ha","Bn tm"],image:"https://images.pexels.com/photos/271624/pexels-photo-271624.jpeg",status:"available"},{id:"r2",name:"Premium Suite",description:"Phng suite rng ri vi thit k c in sang trng",price:32e5,capacity:3,bedType:"King size + Single",size:"65m",amenities:["Wifi","Minibar","TV","iu ha","Phng khch ring"],image:"https://images.pexels.com/photos/164595/pexels-photo-164595.jpeg",status:"booked"},{id:"r3",name:"Family Room",description:"Phng gia nh rng ri vi y  tin nghi cho c gia nh",price:28e5,capacity:4,bedType:"2 Queen size",size:"55m",amenities:["Wifi","Minibar","TV","iu ha","2 phng ng"],image:"https://images.pexels.com/photos/237371/pexels-photo-237371.jpeg",status:"available"},{id:"r4",name:"Standard Room",description:"Phng tiu chun thoi mi vi y  tin nghi c bn",price:12e5,capacity:2,bedType:"Queen size",size:"35m",amenities:["Wifi","TV","iu ha"],image:"https://images.pexels.com/photos/271619/pexels-photo-271619.jpeg",status:"maintenance"}],i=[{id:"BK-001",guestName:"Nguyn Vn An",checkIn:"2023-10-15",checkOut:"2023-10-18",guests:2,roomName:"Deluxe Ocean View",totalAmount:75e5,status:"confirmed",createdAt:"2023-09-20"},{id:"BK-002",guestName:"Trn Th Bnh",checkIn:"2023-10-20",checkOut:"2023-10-22",guests:3,roomName:"Premium Suite",totalAmount:64e5,status:"pending",createdAt:"2023-10-01"},{id:"BK-003",guestName:"L Vn Cng",checkIn:"2023-09-25",checkOut:"2023-09-30",guests:4,roomName:"Family Room",totalAmount:84e5,status:"completed",createdAt:"2023-08-15"}],o=[{id:"rev1",guestName:"Nguyn Th Minh",rating:5,comment:"Phng rt p v sch s. View nhn ra bin tuyt vi, c bit l lc bnh minh. Nhn vin phc v rt nhit tnh v chu o. S quay li ln sau!",date:"2023-09-15",avatar:"https://randomuser.me/api/portraits/women/44.jpg"},{id:"rev2",guestName:"Trn Vn Hng",rating:4.5,comment:"Phng rng ri, thong mt v y  tin nghi. V tr khch sn rt thun tin  i tham quan cc im du lch. Ba sng phong ph. Ch c mt im tr nh l hi n vo bui ti.",date:"2023-08-20",avatar:"https://randomuser.me/api/portraits/men/32.jpg"},{id:"rev3",guestName:"L Th Hng",rating:5,comment:"Tuyt vi! Phng p, sch s, view bin tuyt p. Nhn vin thn thin v chuyn nghip.  n ngon. Chc chn s quay li v gii thiu cho bn b.",date:"2023-07-10",avatar:"https://randomuser.me/api/portraits/women/68.jpg"}],c=f=>{const j={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(f).toLocaleDateString("vi-VN",j)},d=f=>f.toLocaleString("vi-VN")+"",u=f=>Array(5).fill(0).map((j,N)=>e.jsx(fe,{className:`h-5 w-5 ${N<Math.floor(f)?"text-yellow-400 fill-current":"text-gray-300"}`},N)),m=f=>{switch(f){case"available":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"C sn"});case"booked":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:" t"});case"maintenance":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Bo tr"});case"confirmed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:" xc nhn"});case"pending":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Ch xc nhn"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:" hy"});case"completed":return e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:" hon thnh"});default:return null}},g=()=>{s(`/host/properties/edit/${t}`)},x=()=>{window.confirm("Bn c chc chn mun xa khch sn ny khng?")&&s("/host/properties")},y=()=>{s(`/host/properties/${t}/add-room`)};return e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("button",{onClick:()=>s("/host/properties"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6",children:[e.jsx(ge,{size:20,className:"mr-1"}),"Quay li danh sch khch sn"]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 h-64",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("img",{src:a.images[0],alt:a.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"grid grid-rows-2 gap-2",children:[e.jsx("img",{src:a.images[1],alt:a.name,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.images[2],alt:a.name,className:"w-full h-full object-cover"}),a.images.length>3&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("span",{className:"text-white text-lg font-medium",children:["+",a.images.length-3]})})]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),e.jsxs("div",{className:"flex items-center text-gray-600 mt-2",children:[e.jsx(Be,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:a.address})]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("div",{className:"flex mr-2",children:u(a.rating)}),e.jsxs("span",{className:"text-gray-700",children:[a.rating," (",a.reviewCount," nh gi)"]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:g,className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:18,className:"mr-2"}),"Chnh sa"]}),e.jsxs("button",{onClick:x,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center",children:[e.jsx(tt,{size:18,className:"mr-2"}),"Xa"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Thng tin c bn"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ir,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Loi hnh"}),e.jsx("p",{className:"font-medium",children:a.type})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"S phng"}),e.jsxs("p",{className:"font-medium",children:[a.rooms," phng"]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ky,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"S phng tm"}),e.jsxs("p",{className:"font-medium",children:[a.bathrooms," phng"]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 mr-2 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Gi c bn"}),e.jsxs("p",{className:"font-medium",children:[d(a.price),"/m"]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tin nghi"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.amenities.map((f,j)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:f})]},j))})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"M t"}),e.jsx("p",{className:"text-gray-700",children:a.description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>r("rooms"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="rooms"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Danh sch phng"}),e.jsx("button",{onClick:()=>r("bookings"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="bookings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"t phng"}),e.jsx("button",{onClick:()=>r("reviews"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${n==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"nh gi"})]})}),e.jsxs("div",{className:"p-6",children:[n==="rooms"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Danh sch phng"}),e.jsxs("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Plus,{size:18,className:"mr-2"}),"Thm phng mi"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(f=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:f.image,alt:f.name,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute top-4 right-4",children:m(f.status)})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:f.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-3 text-gray-600 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[f.capacity," khch"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:f.bedType})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("path",{d:"M3 9h18"}),e.jsx("path",{d:"M9 21V9"})]}),e.jsx("span",{children:f.size})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[f.amenities.slice(0,3).map((j,N)=>e.jsx("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:j},N)),f.amenities.length>3&&e.jsxs("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:["+",f.amenities.length-3]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[d(f.price),e.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"/m"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-full",title:"Chnh sa",children:e.jsx(Fe,{size:18})}),e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Xa",children:e.jsx(tt,{size:18})})]})]})]})]},f.id))})]}),n==="bookings"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-6",children:"t phng gn y"}),e.jsx("div",{className:"space-y-4",children:i.map(f=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsxs("span",{className:"mr-2",children:["t phng #",f.id]}),m(f.status)]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["t ngy: ",c(f.createdAt)]})]}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Xem chi tit"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h4",{className:"font-medium text-gray-700 flex items-center",children:[e.jsx(Ce,{size:16,className:"mr-2"}),"Thng tin khch hng"]}),e.jsx("p",{className:"text-gray-900",children:f.guestName}),e.jsxs("p",{className:"text-gray-600",children:[f.guests," khch"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h4",{className:"font-medium text-gray-700 flex items-center",children:[e.jsx(pe,{size:16,className:"mr-2"}),"Chi tit t phng"]}),e.jsx("p",{className:"text-gray-900",children:f.roomName}),e.jsxs("p",{className:"text-gray-600",children:[c(f.checkIn)," - ",c(f.checkOut)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h4",{className:"font-medium text-gray-700 flex items-center",children:[e.jsx(Se,{size:16,className:"mr-2"}),"Thng tin thanh ton"]}),e.jsx("p",{className:"text-gray-900 font-medium",children:d(f.totalAmount)})]})]})]},f.id))})]}),n==="reviews"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"nh gi t khch hng"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex mr-2",children:u(a.rating)}),e.jsxs("span",{className:"text-gray-700",children:[a.rating," (",a.reviewCount," nh gi)"]})]})]}),e.jsx("div",{className:"space-y-6",children:o.map(f=>e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("img",{src:f.avatar,alt:f.guestName,className:"w-10 h-10 rounded-full mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:f.guestName}),e.jsx("p",{className:"text-gray-500 text-sm",children:c(f.date)})]})]}),e.jsx("div",{className:"flex mb-2",children:u(f.rating)}),e.jsx("p",{className:"text-gray-700",children:f.comment})]},f.id))})]})]})]})]})})},Ho=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t),Mj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState([]),[a,l]=h.useState(!0),[i,o]=h.useState(""),[c,d]=h.useState(0),[u,m]=h.useState(0),[g,x]=h.useState(0);h.useEffect(()=>{y()},[c]);const y=async()=>{try{l(!0);const v=await me.getMyHotels(c,10);r(v.data.result.content),m(v.data.result.totalPages),x(v.data.result.totalElements)}catch(v){console.error("Error fetching hotels:",v),s("error","Li","Khng th ti danh sch khch sn")}finally{l(!1)}},f=v=>{v.preventDefault(),y()},j=()=>{t("/host/hotels/add")},N=v=>{t(`/host/hotels/${v}`)},p=v=>{t(`/host/hotels/edit/${v}`)},b=async v=>{if(window.confirm("Are you sure you want to delete this hotel?"))try{await me.deleteMyHotel(v),s("success","Thnh cng"," xa khch sn"),y()}catch(w){console.error("Error deleting hotel:",w),s("error","Error","Cannot delete hotel when it has bookings")}};return e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4 md:mb-0",children:"Manage hotels"}),e.jsxs("button",{onClick:j,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add hotel"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("form",{onSubmit:f,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search hotels...",value:i,onChange:v=>o(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx(at,{className:"absolute left-3 top-2.5 text-gray-400",size:20})]})}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Search"})]})}),a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading hotel list..."})]}):n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any hotel"}),e.jsxs("button",{onClick:j,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Add your first hotel"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(v=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:v.imageUrl||"https://via.placeholder.com/400x200?text=No+Image",alt:v.name,className:"w-full h-full object-cover"}),v.featured&&e.jsx("div",{className:"absolute top-2 right-2 bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-sm font-medium",children:"Ni bt"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:v.name}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Be,{size:16,className:"mr-2"}),e.jsx("span",{className:"text-sm truncate",children:v.address})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(fe,{size:16,className:"mr-2 text-yellow-500"}),e.jsxs("span",{className:"text-sm",children:[v.starRating," sao"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ce,{size:16,className:"mr-2"}),e.jsxs("span",{className:"text-sm",children:[v.totalRoomTypes||0," loi phng"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Se,{size:16,className:"mr-2"}),e.jsxs("span",{className:"text-sm",children:["T ",Ho(v.pricePerNight||0),"/m"]})]})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${v.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.active?"ang hot ng":"Ngng hot ng"})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>N(v.id),className:"p-2 text-gray-600 hover:text-blue-600 transition-colors",title:"Xem chi tit",children:e.jsx(ze,{size:20})}),e.jsx("button",{onClick:()=>p(v.id),className:"p-2 text-gray-600 hover:text-green-600 transition-colors",title:"Chnh sa",children:e.jsx(Fe,{size:20})}),e.jsx("button",{onClick:()=>b(v.id),className:"p-2 text-gray-600 hover:text-red-600 transition-colors",title:"Xa",children:e.jsx(tt,{size:20})})]})]})]},v.id))}),u>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>d(v=>Math.max(0,v-1)),disabled:c===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Trc"}),e.jsx("button",{onClick:()=>d(v=>Math.min(u-1,v+1)),disabled:c===u-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Sau"})]})})]})})},Lj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState(!1),[a,l]=h.useState({}),[i,o]=h.useState({name:"",description:"",address:"",city:"",country:"",phone:"",email:"",website:"",starRating:1,checkInTime:"",checkOutTime:"",imageUrl:"",pricePerNight:0,amenities:"",cancellationPolicy:"",petPolicy:""}),c=()=>{const m={};return i.name.trim()?i.name.length<2&&(m.name="Tn khch sn phi c t nht 2 k t"):m.name="Tn khch sn l bt buc",i.address.trim()||(m.address="a ch l bt buc"),i.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)&&(m.email="Email khng hp l"),i.phone&&!/^[+]?[0-9\s\-\(\)]{10,15}$/.test(i.phone)&&(m.phone="S in thoi khng hp l"),i.website&&!/^(https?:\/\/)?(www\.)?[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,}(\/.*)?$/.test(i.website)&&(m.website="Website khng hp l"),i.pricePerNight&&i.pricePerNight<=0&&(m.pricePerNight="Gi phng phi ln hn 0"),i.checkInTime&&i.checkOutTime&&i.checkInTime>=i.checkOutTime&&(m.checkOutTime="Gi tr phng phi sau gi nhn phng"),i.imageUrl&&!/^https?:\/\/.+\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i.test(i.imageUrl)&&(m.imageUrl="URL hnh nh khng hp l (ch chp nhn jpg, jpeg, png, gif, webp)"),l(m),Object.keys(m).length===0},d=m=>{const{name:g,value:x,type:y}=m.target;o(f=>({...f,[g]:y==="number"?parseFloat(x)||0:x})),a[g]&&l(f=>({...f,[g]:""}))},u=async m=>{var g,x;if(m.preventDefault(),!c()){s("error","Li","Vui lng kim tra li thng tin  nhp");return}try{r(!0);const y={...i,isFeatured:!1},f=await me.createMyHotel(y);if(f.data.success)s("success","Thnh cng"," thm khch sn mi"),t("/host/hotels");else throw new Error(f.data.message||"Khng th thm khch sn")}catch(y){console.error("Error creating hotel:",y),s("error","Li",((x=(g=y.response)==null?void 0:g.data)==null?void 0:x.message)||y.message||"Khng th thm khch sn")}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/host/hotels"),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thm khch sn mi"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"in thng tin chi tit  to khch sn mi"})]})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("form",{onSubmit:u,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(et,{className:"mr-3 text-blue-600",size:24}),"Thng tin c bn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn khch sn *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:i.name,onChange:d,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${a.name?"border-red-500":"border-gray-300"}`}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch *"}),e.jsx("input",{type:"text",name:"address",required:!0,value:i.address,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.address?"border-red-500":"border-gray-300"}`}),a.address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.address})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thnh ph"}),e.jsx("input",{type:"text",name:"city",value:i.city,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quc gia"}),e.jsx("input",{type:"text",name:"country",value:i.country,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),e.jsx("textarea",{name:"description",rows:4,value:i.description,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"M t chi tit v khch sn ca bn..."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Le,{className:"mr-3 text-green-600",size:24}),"Thng tin lin h"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),e.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.phone?"border-red-500":"border-gray-300"}`}),a.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.email?"border-red-500":"border-gray-300"}`}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",name:"website",value:i.website,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.website?"border-red-500":"border-gray-300"}`}),a.website&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.website})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(fe,{className:"mr-3 text-yellow-600",size:24}),"Chi tit khch sn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hng sao"}),e.jsx("select",{name:"starRating",value:i.starRating,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(m=>e.jsxs("option",{value:m,children:[m," sao"]},m))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi mi m (VND)"}),e.jsx("input",{type:"number",name:"pricePerNight",min:"0",step:"1000",value:i.pricePerNight,onChange:d,placeholder:"VD: 500000",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.pricePerNight?"border-red-500":"border-gray-300"}`}),a.pricePerNight&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.pricePerNight})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi nhn phng"}),e.jsx("input",{type:"time",name:"checkInTime",value:i.checkInTime,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.checkInTime?"border-red-500":"border-gray-300"}`}),a.checkInTime&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.checkInTime})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi tr phng"}),e.jsx("input",{type:"time",name:"checkOutTime",value:i.checkOutTime,onChange:d,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${a.checkOutTime?"border-red-500":"border-gray-300"}`}),a.checkOutTime&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.checkOutTime})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tin nghi khch sn"}),e.jsx("textarea",{name:"amenities",rows:3,value:i.amenities,onChange:d,placeholder:"VD: WiFi min ph, B bi, Gym, Spa, Nh hng, Bar...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chn tin nghi c sn (click  thm/b)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Wifi min ph","H bi","Spa & Massage","Nh hng","Phng gym","Bi  xe","Dch v phng 24/7","L tn 24/7","Thang my","iu ha","Tivi","T lnh mini","Kt an ton","My sy tc","Bn tm","Vi sen","Dp i trong phng","o chong tm","Bn lm vic","Gh sofa","Ban cng","Tm nhn ra bin","Tm nhn ra thnh ph","Tm nhn ra ni","Quy bar","Karaoke","Sn tennis","Sn golf","Bi bin ring","Dch v git i","Dch v a n sn bay","Cho thu xe p","Khu vui chi tr em","Phng hp","Trung tm thng mi","ATM","Ca hng lu nim"].map(m=>{const g=(i.amenities||"").split(",").map(x=>x.trim()).includes(m);return e.jsxs("button",{type:"button",onClick:()=>{const x=(i.amenities||"").split(",").map(y=>y.trim()).filter(y=>y);if(g){const y=x.filter(f=>f!==m);o(f=>({...f,amenities:y.join(", ")}))}else{const y=[...x,m];o(f=>({...f,amenities:y.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${g?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[g&&e.jsx("span",{className:"mr-1",children:""}),m]},m)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Tip: Click vo cc th  thm/b tin nghi. Bn cng c th nhp trc tip vo  text pha trn."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Pe,{className:"mr-3 text-purple-600",size:24}),"Chnh sch khch sn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chnh sch hy phng"}),e.jsx("textarea",{name:"cancellationPolicy",rows:3,value:i.cancellationPolicy,onChange:d,placeholder:"VD: Min ph hy phng trc 24 gi...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chnh sch th cng"}),e.jsx("textarea",{name:"petPolicy",rows:3,value:i.petPolicy,onChange:d,placeholder:"VD: Cho php th cng vi ph ph thu...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsx(yr,{title:"Hnh nh khch sn",imageUrl:i.imageUrl||"",onImageUrlChange:m=>o(g=>({...g,imageUrl:m})),uploadType:"hotel-image",errors:{imageUrl:a.imageUrl}}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>t("/host/hotels"),className:"w-full sm:w-auto px-8 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Hy b"}),e.jsx("button",{type:"submit",disabled:n,className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"ang x l..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{size:20,className:"mr-2"}),"To khch sn"]})})]})]})})]})},Bj=()=>{const t=le(),{id:s}=ot(),{showToast:n}=we(),[r,a]=h.useState(null),[l,i]=h.useState([]),[o,c]=h.useState(!0),[d,u]=h.useState(!1),[m,g]=h.useState(null);h.useEffect(()=>{s&&(x(),y())},[s]);const x=async()=>{try{c(!0);const w=await me.getMyHotelById(s);a(w.data.result)}catch(w){console.error("Error fetching hotel:",w),n("error","Li","Khng th ti thng tin khch sn"),t("/host/hotels")}finally{c(!1)}},y=async()=>{try{u(!0);const w=await bs.getMyHotelRoomTypes(s);i(w.data.result.content||[])}catch(w){console.error("Error fetching room types:",w)}finally{u(!1)}},f=()=>{t(`/host/hotels/edit/${s}`)},j=()=>{t(`/host/room-types/add?hotelId=${s}`)},N=w=>{t(`/host/room-types/${w}`)},p=w=>{t(`/host/room-types/edit/${w}`)},b=async(w,k)=>{if(confirm(`Bn c chc chn mun xa loi phng "${k}"?`))try{g(w),await bs.deleteMyRoomType(w),n("success","Thnh cng","Xa loi phng thnh cng"),y()}catch(C){console.error("Error deleting room type:",C),n("error","Li","Li khi xa loi phng")}finally{g(null)}},v=w=>({Single:"Ging n",Double:"Ging i",Queen:"Ging Queen",King:"Ging King",Twin:"Ging i ring bit","Sofa Bed":"Ging sofa"})[w]||w;return o?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti thng tin khch sn..."})]})})}):r?e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t("/host/hotels"),className:"mr-4 text-gray-600 hover:text-gray-900",children:e.jsx(ge,{size:24})}),e.jsx("h1",{className:"text-2xl font-bold",children:r.name})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:j,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[e.jsx(Ze,{size:20,className:"mr-2"}),"Thm loi phng"]}),e.jsxs("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[e.jsx(Fe,{size:20,className:"mr-2"}),"Chnh sa"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(et,{className:"mr-2"}),"Thng tin c bn"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(Be,{className:"w-5 h-5 text-gray-400 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"a ch"}),e.jsx("p",{className:"text-gray-600",children:r.address}),(r.city||r.country)&&e.jsx("p",{className:"text-gray-600",children:[r.city,r.country].filter(Boolean).join(", ")})]})]}),r.description&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"M t"}),e.jsx("p",{className:"text-gray-600 mt-1",children:r.description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Le,{className:"mr-2"}),"Thng tin lin h"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Le,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"S in thoi"}),e.jsx("p",{className:"text-gray-600",children:r.phone})]})]}),r.email&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(De,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Email"}),e.jsx("p",{className:"text-gray-600",children:r.email})]})]}),r.website&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Jl,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Website"}),e.jsx("p",{className:"text-gray-600",children:r.website})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Chnh sch"}),e.jsxs("div",{className:"space-y-4",children:[r.cancellationPolicy&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Chnh sch hy phng"}),e.jsx("p",{className:"text-gray-600 mt-1",children:r.cancellationPolicy})]}),r.petPolicy&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Chnh sch th cng"}),e.jsx("p",{className:"text-gray-600 mt-1",children:r.petPolicy})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Jn,{className:"mr-2"}),"Loi phng (",l.length,")"]}),e.jsxs("button",{onClick:j,className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center text-sm",children:[e.jsx(Ze,{size:16,className:"mr-1"}),"Thm loi phng"]})]}),d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"ang ti loi phng..."})]}):l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Jn,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cha c loi phng no"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bt u bng cch to loi phng u tin cho khch sn ny."}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Thm loi phng"]})})]}):e.jsx("div",{className:"space-y-4",children:l.map(w=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[w.imageUrl?e.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-16 h-16 rounded-lg object-cover"}):e.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex items-center justify-center",children:e.jsx(Jn,{className:"h-6 w-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:w.name}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[w.maxOccupancy," ngi"]}),w.bedType&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:""}),e.jsx("span",{children:v(w.bedType)})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Se,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{className:"font-medium",children:[Ho(w.pricePerNight),"/m"]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:[w.totalRooms," phng"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>N(w.id),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Xem chi tit",children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>p(w.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Chnh sa",children:e.jsx(Fe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>b(w.id,w.name),disabled:m===w.id,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Xa",children:m===w.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"}):e.jsx(Ns,{className:"h-4 w-4"})})]})]})},w.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Thng k nhanh"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"w-5 h-5 text-yellow-500 mr-2"}),e.jsx("span",{children:"Hng sao"})]}),e.jsxs("span",{className:"font-medium",children:[r.starRating," sao"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 text-blue-500 mr-2"}),e.jsx("span",{children:"Loi phng"})]}),e.jsx("span",{className:"font-medium",children:r.totalRoomTypes||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"w-5 h-5 text-green-500 mr-2"}),e.jsx("span",{children:"Gi t"})]}),e.jsxs("span",{className:"font-medium",children:[Ho(r.pricePerNight||0),"/m"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-5 h-5 text-purple-500 mr-2"}),e.jsx("span",{children:"Nhn phng"})]}),e.jsx("span",{className:"font-medium",children:r.checkInTime||"--:--"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-5 h-5 text-purple-500 mr-2"}),e.jsx("span",{children:"Tr phng"})]}),e.jsx("span",{className:"font-medium",children:r.checkOutTime||"--:--"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Trng thi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Hot ng"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.active?"ang hot ng":"Ngng hot ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Ni bt"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${r.featured?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:r.featured?"C":"Khng"})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-100 pt-20",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"Khng tm thy thng tin khch sn"})})})})},Oj=()=>{const t=le(),{id:s}=ot(),{showToast:n}=we(),[r,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState({name:"",description:"",address:"",city:"",country:"",phone:"",email:"",website:"",starRating:1,checkInTime:"",checkOutTime:"",imageUrl:"",pricePerNight:0,amenities:"",cancellationPolicy:"",petPolicy:"",active:!0,featured:!1});h.useEffect(()=>{d()},[s]);const d=async()=>{try{a(!0);const y=(await me.getMyHotelById(s)).data.result;c({name:y.name||"",description:y.description||"",address:y.address||"",city:y.city||"",country:y.country||"",phone:y.phone||"",email:y.email||"",website:y.website||"",starRating:y.starRating||1,checkInTime:y.checkInTime||"",checkOutTime:y.checkOutTime||"",imageUrl:y.imageUrl||"",pricePerNight:y.pricePerNight||0,amenities:y.amenities||"",cancellationPolicy:y.cancellationPolicy||"",petPolicy:y.petPolicy||"",active:y.active,featured:y.featured})}catch(x){console.error("Error fetching hotel:",x),n("error","Li","Khng th ti thng tin khch sn"),t("/host/hotels")}finally{a(!1)}},u=x=>{const{name:y,value:f,type:j}=x.target;c(N=>({...N,[y]:j==="number"?parseFloat(f)||0:f}))},m=x=>{const{name:y,checked:f}=x.target;c(j=>({...j,[y]:f}))},g=async x=>{x.preventDefault();try{i(!0);const{featured:y,...f}=o;await me.updateMyHotel(s,f),n("success","Thnh cng"," cp nht thng tin khch sn"),t(`/host/hotels/${s}`)}catch(y){console.error("Error updating hotel:",y),n("error","Li","Khng th cp nht thng tin khch sn")}finally{i(!1)}};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti thng tin khch sn..."})]})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t(`/host/hotels/${s}`),className:"mr-4 p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Chnh sa khch sn"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Cp nht thng tin chi tit khch sn ca bn"})]})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(et,{className:"mr-3 text-blue-600",size:24}),"Thng tin c bn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn khch sn *"}),e.jsx("input",{type:"text",name:"name",required:!0,value:o.name,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"a ch *"}),e.jsx("input",{type:"text",name:"address",required:!0,value:o.address,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thnh ph"}),e.jsx("input",{type:"text",name:"city",value:o.city,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quc gia"}),e.jsx("input",{type:"text",name:"country",value:o.country,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),e.jsx("textarea",{name:"description",rows:4,value:o.description,onChange:u,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"M t chi tit v khch sn ca bn..."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Le,{className:"mr-3 text-green-600",size:24}),"Thng tin lin h"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),e.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:o.email,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",name:"website",value:o.website,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(fe,{className:"mr-3 text-yellow-600",size:24}),"Chi tit khch sn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hng sao"}),e.jsx("select",{name:"starRating",value:o.starRating,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(x=>e.jsxs("option",{value:x,children:[x," sao"]},x))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi mi m (VND)"}),e.jsx("input",{type:"number",name:"pricePerNight",min:"0",value:o.pricePerNight,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi nhn phng"}),e.jsx("input",{type:"time",name:"checkInTime",value:o.checkInTime,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi tr phng"}),e.jsx("input",{type:"time",name:"checkOutTime",value:o.checkOutTime,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tin nghi khch sn"}),e.jsx("textarea",{name:"amenities",rows:3,value:o.amenities,onChange:u,placeholder:"VD: WiFi min ph, B bi, Gym, Spa, Nh hng, Bar...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chn tin nghi c sn (click  thm/b)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Wifi min ph","H bi","Spa & Massage","Nh hng","Phng gym","Bi  xe","Dch v phng 24/7","L tn 24/7","Thang my","iu ha","Tivi","T lnh mini","Kt an ton","My sy tc","Bn tm","Vi sen","Dp i trong phng","o chong tm","Bn lm vic","Gh sofa","Ban cng","Tm nhn ra bin","Tm nhn ra thnh ph","Tm nhn ra ni","Quy bar","Karaoke","Sn tennis","Sn golf","Bi bin ring","Dch v git i","Dch v a n sn bay","Cho thu xe p","Khu vui chi tr em","Phng hp","Trung tm thng mi","ATM","Ca hng lu nim"].map(x=>{const y=(o.amenities||"").split(",").map(f=>f.trim()).includes(x);return e.jsxs("button",{type:"button",onClick:()=>{const f=(o.amenities||"").split(",").map(j=>j.trim()).filter(j=>j);if(y){const j=f.filter(N=>N!==x);c(N=>({...N,amenities:j.join(", ")}))}else{const j=[...f,x];c(N=>({...N,amenities:j.join(", ")}))}},className:`px-3 py-1.5 text-sm rounded-full border transition-all duration-200 hover:shadow-md ${y?"bg-blue-500 text-white border-blue-500 shadow-sm":"bg-gray-50 text-gray-700 border-gray-300 hover:bg-gray-100 hover:border-gray-400"}`,children:[y&&e.jsx("span",{className:"mr-1",children:""}),x]},x)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Tip: Click vo cc th  thm/b tin nghi. Bn cng c th nhp trc tip vo  text pha trn."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Pe,{className:"mr-3 text-purple-600",size:24}),"Chnh sch khch sn"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chnh sch hy phng"}),e.jsx("textarea",{name:"cancellationPolicy",rows:3,value:o.cancellationPolicy,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chnh sch th cng"}),e.jsx("textarea",{name:"petPolicy",rows:3,value:o.petPolicy,onChange:u,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsx(yr,{title:"Hnh nh khch sn",imageUrl:o.imageUrl||"",onImageUrlChange:x=>c(y=>({...y,imageUrl:x})),uploadType:"hotel-image"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-6 flex items-center text-gray-900",children:[e.jsx(Pe,{className:"mr-3 text-orange-600",size:24}),"Hotel Status"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"active",name:"active",checked:o.active,onChange:m,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-900",children:"ang hot ng"})]}),o.featured&&e.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("div",{className:"h-4 w-4 bg-yellow-500 rounded mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Featured Hotels"}),e.jsx("p",{className:"text-xs text-yellow-600",children:"This status can only be changed by the administrator"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>t(`/host/hotels/${s}`),className:"w-full sm:w-auto px-8 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Hy b"}),e.jsx("button",{type:"submit",disabled:l,className:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-3 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{size:20,className:"mr-2"}),"Lu thay i"]})})]})]})})]})},zj=()=>{const t=le(),{showToast:s}=we(),[n,r]=h.useState([]),[a,l]=h.useState([]),[i,o]=h.useState(!0),[c,d]=h.useState(0),[u,m]=h.useState(0),[g,x]=h.useState(0),[y,f]=h.useState(""),[j,N]=h.useState(null),p=10,b=async(R=0)=>{try{o(!0);let I;y?I=await bs.getMyHotelRoomTypes(y,R,p):I=await bs.getMyRoomTypes(R,p),r(I.data.result.content),m(I.data.result.totalPages),x(I.data.result.totalElements)}catch(I){console.error("Error fetching room types:",I),s("error","Li","Li khi ti danh sch loi phng")}finally{o(!1)}},v=async()=>{try{const R=await me.getMyHotels(0,100);l(R.data.result.content)}catch(R){console.error("Error fetching hotels:",R)}};h.useEffect(()=>{v()},[]),h.useEffect(()=>{a.length>0&&b()},[y,a]);const w=R=>{d(R),b(R)},k=()=>{t("/host/room-types/add")},C=R=>{t(`/host/room-types/${R}`)},S=R=>{t(`/host/room-types/edit/${R}`)},P=async(R,I)=>{if(confirm(`Bn c chc chn mun xa loi phng "${I}"?`))try{N(R),await bs.deleteMyRoomType(R),s("success","Thnh cng","Xa loi phng thnh cng"),b(c)}catch(U){console.error("Error deleting room type:",U),s("error","Li","Li khi xa loi phng")}finally{N(null)}},T=R=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R),E=R=>({Single:"Ging n",Double:"Ging i",Queen:"Ging Queen",King:"Ging King",Twin:"Ging i ring bit","Sofa Bed":"Ging sofa"})[R]||R;return i&&n.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Qun l loi phng"}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Tng cng ",g," loi phng"]})]}),e.jsxs("button",{onClick:k,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[e.jsx(Ze,{className:"h-5 w-5 mr-2"}),"Thm loi phng"]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lc theo khch sn"}),e.jsxs("select",{value:y,onChange:R=>f(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Tt c khch sn"}),a.map(R=>e.jsx("option",{value:R.id,children:R.name},R.id))]})]})})}),e.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Jn,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cha c loi phng no"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bt u bng cch to loi phng u tin ca bn."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:k,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ze,{className:"h-5 w-5 mr-2"}),"Thm loi phng"]})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loi phng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khch sn"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sc cha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gi/m"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phng"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[R.imageUrl?e.jsx("img",{src:R.imageUrl,alt:R.name,className:"h-10 w-10 rounded-lg object-cover mr-3"}):e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center mr-3",children:e.jsx(Jn,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),e.jsx("div",{className:"text-sm text-gray-500",children:R.bedType?E(R.bedType):"Cha cp nht"})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(kt,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-900",children:R.hotelName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[R.maxOccupancy," ngi"]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:T(R.pricePerNight)})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:[R.availableRooms,"/",R.totalRooms]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Trng/Tng"})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>C(R.id),className:"text-blue-600 hover:text-blue-900",title:"Xem chi tit",children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>S(R.id),className:"text-yellow-600 hover:text-yellow-900",title:"Chnh sa",children:e.jsx(Fe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>P(R.id,R.name),disabled:j===R.id,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"Xa",children:j===R.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(Ns,{className:"h-4 w-4"})})]})})]},R.id))})]})}),u>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>w(c-1),disabled:c===0,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),e.jsx("button",{onClick:()=>w(c+1),disabled:c===u-1,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Hin th"," ",e.jsx("span",{className:"font-medium",children:c*p+1})," ","n"," ",e.jsx("span",{className:"font-medium",children:Math.min((c+1)*p,g)})," ","ca"," ",e.jsx("span",{className:"font-medium",children:g})," ","kt qu"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>w(c-1),disabled:c===0,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),Array.from({length:u},(R,I)=>e.jsx("button",{onClick:()=>w(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${I===c?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:I+1},I)),e.jsx("button",{onClick:()=>w(c+1),disabled:c===u-1,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})})]})]})]})})]})})},Hj=()=>{const t=le(),{showToast:s}=we(),[n]=zc(),[r,a]=h.useState(!1),[l,i]=h.useState([]),[o,c]=h.useState([]),d=n.get("hotelId"),[u,m]=h.useState(null),[g,x]=h.useState({name:"",description:"",maxOccupancy:1,bedType:"",roomSize:0,pricePerNight:0,totalRooms:1,imageUrl:"",amenities:"",hotelId:d||""}),y=["WiFi min ph","iu ha khng kh","TV mn hnh phng","Minibar","Kt an ton","My sy tc","Bn lm vic","Gh sofa","Ban cng","Tm nhn ra bin","Tm nhn ra thnh ph","Tm nhn ra ni","Phng tm ring","Bn tm","Vi sen"," v sinh c nhn","Khn tm","Dp i trong phng","o chong tm","My pha c ph","m un nc","T lnh mini","My lnh","Qut trn","Ca s m c","Rm che","Ging i","Ging n","Ga tri ging","Gi bng","Chn m","n c sch"," cm in","My ht bi","in thoi","Radio","Loa Bluetooth","Sc in thoi","Internet tc  cao"];h.useEffect(()=>{f()},[]),h.useEffect(()=>{if(d&&l.length>0){const w=l.find(k=>k.id===d);w&&m(w)}},[d,l]);const f=async()=>{try{const w=await me.getMyHotels(0,100);i(w.data.result.content)}catch(w){console.error("Error fetching hotels:",w),s("error","Li khi ti danh sch khch sn")}},j=w=>{const{name:k,value:C}=w.target;x(S=>({...S,[k]:C}))},N=w=>{const{name:k,value:C}=w.target;x(S=>({...S,[k]:parseFloat(C)||0}))},p=w=>{c(k=>{const C=k.includes(w)?k.filter(S=>S!==w):[...k,w];return x(S=>({...S,amenities:C.join(", ")})),C})},b=w=>{const k=w.target.value;x(C=>({...C,amenities:k})),c(k.split(",").map(C=>C.trim()).filter(C=>C))},v=async w=>{if(w.preventDefault(),!g.hotelId){s("error","Vui lng chn khch sn");return}if(!g.name.trim()){s("error","Vui lng nhp tn loi phng");return}if(g.pricePerNight<=0){s("error","Vui lng nhp gi phng hp l");return}if(g.totalRooms<=0){s("error","Vui lng nhp s lng phng hp l");return}try{a(!0),await bs.createMyRoomType(g),s("success","To loi phng thnh cng"),t(d?`/host/hotels/${d}`:"/host/room-types")}catch(k){console.error("Error creating room type:",k),s("error","Li khi to loi phng")}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>t(d?`/host/hotels/${d}`:"/host/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thm loi phng mi"}),e.jsx("p",{className:"mt-2 text-gray-600",children:d&&u?`To loi phng mi cho khch sn "${u.name}"`:"To loi phng mi cho khch sn ca bn"})]})]})})}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:e.jsx(et,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chn khch sn"}),d&&u&&e.jsx("span",{className:"ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:" chn t khch sn"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khch sn *"}),d&&u?e.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 bg-gray-50 rounded-lg text-gray-700",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(et,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("span",{className:"font-medium",children:u.name}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"( c chn)"})]})}):e.jsxs("select",{name:"hotelId",value:g.hotelId,onChange:j,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Chn khch sn"}),l.map(w=>e.jsx("option",{value:w.id,children:w.name},w.id))]}),d&&u&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Bn ang to loi phng cho khch sn ny. Nu mun chn khch sn khc, vui lng quay li trang danh sch loi phng."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:e.jsx(Ct,{className:"h-5 w-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thng tin c bn"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn loi phng *"}),e.jsx("input",{type:"text",name:"name",value:g.name,onChange:j,placeholder:"VD: Phng Deluxe",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi ging"}),e.jsxs("select",{name:"bedType",value:g.bedType,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Chn loi ging"}),e.jsx("option",{value:"Single",children:"Ging n"}),e.jsx("option",{value:"Double",children:"Ging i"}),e.jsx("option",{value:"Queen",children:"Ging Queen"}),e.jsx("option",{value:"King",children:"Ging King"}),e.jsx("option",{value:"Twin",children:"Ging i ring bit"}),e.jsx("option",{value:"Sofa Bed",children:"Ging sofa"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sc cha ti a *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"maxOccupancy",value:g.maxOccupancy,onChange:N,min:"1",max:"10",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Din tch (m)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"roomSize",value:g.roomSize,onChange:N,min:"1",step:"0.1",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),e.jsx("textarea",{name:"description",value:g.description,onChange:j,rows:4,placeholder:"M t chi tit v loi phng...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:e.jsx(Se,{className:"h-5 w-5 text-yellow-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gi & S lng"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi mi m (VN) *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"pricePerNight",value:g.pricePerNight,onChange:N,min:"0",step:"1000",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tng s phng *"}),e.jsx("input",{type:"number",name:"totalRooms",value:g.totalRooms,onChange:N,min:"1",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:e.jsx(Tn,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Hnh nh"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL hnh nh"}),e.jsx("input",{type:"url",name:"imageUrl",value:g.imageUrl,onChange:j,placeholder:"https://example.com/room-image.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg mr-3",children:e.jsx(Qt,{className:"h-5 w-5 text-indigo-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tin nghi"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chn tin nghi c sn:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((w,k)=>e.jsxs("button",{type:"button",onClick:()=>p(w),className:`px-3 py-1 rounded-full text-sm transition-all ${o.includes(w)?"bg-blue-100 text-blue-800 border-2 border-blue-300":"bg-gray-100 text-gray-700 border-2 border-transparent hover:bg-gray-200"}`,children:[o.includes(w)&&" ",w]},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hoc nhp tin nghi (phn cch bng du phy):"}),e.jsx("textarea",{name:"amenities",value:g.amenities,onChange:b,rows:3,placeholder:"WiFi min ph, iu ha khng kh, TV mn hnh phng...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>t(d?`/host/hotels/${d}`:"/host/room-types"),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Hy"}),e.jsx("button",{type:"submit",disabled:r,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"ang to..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-5 w-5 mr-2"}),"To loi phng"]})})]})})]})]})})},Fj=()=>{const{id:t}=ot(),s=le(),{showToast:n}=we(),[r,a]=h.useState(null),[l,i]=h.useState(!0),[o,c]=h.useState(!1);h.useEffect(()=>{t&&d()},[t]);const d=async()=>{try{i(!0);const f=await bs.getMyRoomTypeById(t);a(f.data.result)}catch(f){console.error("Error fetching room type:",f),n("error","Li khi ti thng tin loi phng"),s("/host/room-types")}finally{i(!1)}},u=()=>{s(`/host/room-types/edit/${t}`)},m=async()=>{if(r&&confirm(`Bn c chc chn mun xa loi phng "${r.name}"?`))try{c(!0),await bs.deleteMyRoomType(t),n("success","Xa loi phng thnh cng"),s("/host/room-types")}catch(f){console.error("Error deleting room type:",f),n("error","Li khi xa loi phng")}finally{c(!1)}},g=f=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(f),x=f=>new Date(f).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),y=f=>({Single:"Ging n",Double:"Ging i",Queen:"Ging Queen",King:"Ging King",Twin:"Ging i ring bit","Sofa Bed":"Ging sofa"})[f]||f;return l?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})})}):r?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>s("/host/room-types"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.name}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Chi tit loi phng"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:u,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Chnh sa"]}),e.jsx("button",{onClick:m,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"ang xa..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Xa"]})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.imageUrl&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.jsx("img",{src:r.imageUrl,alt:r.name,className:"w-full h-64 object-cover"})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:e.jsx(Jn,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thng tin c bn"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn loi phng"}),e.jsx("p",{className:"text-gray-900",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Loi ging"}),e.jsx("p",{className:"text-gray-900",children:r.bedType?y(r.bedType):"Cha cp nht"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sc cha ti a"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsxs("p",{className:"text-gray-900",children:[r.maxOccupancy," ngi"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Din tch"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ir,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("p",{className:"text-gray-900",children:r.roomSize?`${r.roomSize} m`:"Cha cp nht"})]})]})]}),r.description&&e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:r.description})]})]}),r.amenities&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:e.jsx(Qt,{className:"h-5 w-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tin nghi"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.amenities.split(",").map((f,j)=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:f.trim()},j))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:e.jsx(kt,{className:"h-5 w-5 text-yellow-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Khch sn"})]}),e.jsx("p",{className:"text-gray-900 font-medium",children:r.hotelName})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:e.jsx(Se,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Gi & S lng"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gi mi m"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:g(r.pricePerNight)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S phng"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-900",children:"Tng cng:"}),e.jsx("span",{className:"font-medium",children:r.totalRooms})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-900",children:"C sn:"}),e.jsx("span",{className:"font-medium text-green-600",children:r.availableRooms})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-900",children:" t:"}),e.jsx("span",{className:"font-medium text-orange-600",children:r.totalRooms-r.availableRooms})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg mr-3",children:e.jsx(pe,{className:"h-5 w-5 text-gray-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Thng tin"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Ngy to:"}),e.jsx("span",{className:"text-gray-900",children:x(r.createdAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Cp nht ln cui:"}),e.jsx("span",{className:"text-gray-900",children:x(r.updatedAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ID:"}),e.jsx("span",{className:"text-gray-900 text-xs font-mono",children:r.id})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Khng tm thy loi phng"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loi phng khng tn ti hoc bn khng c quyn truy cp."}),e.jsxs("button",{onClick:()=>s("/host/room-types"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Quay li"]})]})})})},Vj=()=>{const{id:t}=ot(),s=le(),{showToast:n}=we(),[r,a]=h.useState(!0),[l,i]=h.useState(!1),[o,c]=h.useState([]),[d,u]=h.useState([]),[m,g]=h.useState(null),[x,y]=h.useState({name:"",description:"",maxOccupancy:1,bedType:"",roomSize:0,pricePerNight:0,totalRooms:1,imageUrl:"",amenities:"",hotelId:""}),f=["WiFi min ph","iu ha khng kh","TV mn hnh phng","Minibar","Kt an ton","My sy tc","Bn lm vic","Gh sofa","Ban cng","Tm nhn ra bin","Tm nhn ra thnh ph","Tm nhn ra ni","Phng tm ring","Bn tm","Vi sen"," v sinh c nhn","Khn tm","Dp i trong phng","o chong tm","My pha c ph","m un nc","T lnh mini","My lnh","Qut trn","Ca s m c","Rm che","Ging i","Ging n","Ga tri ging","Gi bng","Chn m","n c sch"," cm in","My ht bi","in thoi","Radio","Loa Bluetooth","Sc in thoi","Internet tc  cao"];h.useEffect(()=>{t&&(j(),N())},[t]);const j=async()=>{try{a(!0);const S=(await bs.getMyRoomTypeById(t)).data.result;g(S),y({name:S.name,description:S.description||"",maxOccupancy:S.maxOccupancy,bedType:S.bedType||"",roomSize:S.roomSize||0,pricePerNight:S.pricePerNight,totalRooms:S.totalRooms,imageUrl:S.imageUrl||"",amenities:S.amenities||"",hotelId:S.hotelId}),S.amenities&&u(S.amenities.split(",").map(P=>P.trim()))}catch(C){console.error("Error fetching room type:",C),n("error","Li khi ti thng tin loi phng"),s("/host/room-types")}finally{a(!1)}},N=async()=>{try{const C=await me.getMyHotels(0,100);c(C.data.result.content)}catch(C){console.error("Error fetching hotels:",C)}},p=C=>{const{name:S,value:P}=C.target;y(T=>({...T,[S]:P}))},b=C=>{const{name:S,value:P}=C.target;y(T=>({...T,[S]:parseFloat(P)||0}))},v=C=>{u(S=>{const P=S.includes(C)?S.filter(T=>T!==C):[...S,C];return y(T=>({...T,amenities:P.join(", ")})),P})},w=C=>{const S=C.target.value;y(P=>({...P,amenities:S})),u(S.split(",").map(P=>P.trim()).filter(P=>P))},k=async C=>{if(C.preventDefault(),!x.name.trim()){n("error","Vui lng nhp tn loi phng");return}if(x.pricePerNight<=0){n("error","Vui lng nhp gi phng hp l");return}if(x.totalRooms<=0){n("error","Vui lng nhp s lng phng hp l");return}try{i(!0),await bs.updateMyRoomType(t,x),n("success","Cp nht loi phng thnh cng"),s(`/host/room-types/${t}`)}catch(S){console.error("Error updating room type:",S),n("error","Li khi cp nht loi phng")}finally{i(!1)}};return r?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})})})}):m?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>s(`/host/room-types/${t}`),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ge,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Chnh sa loi phng"}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Cp nht thng tin loi phng: ",m.name]})]})]})})}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:e.jsx(et,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Khch sn"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khch sn"}),e.jsx("input",{type:"text",value:m.hotelName,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Khng th thay i khch sn cho loi phng  tn ti"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg mr-3",children:e.jsx(Ct,{className:"h-5 w-5 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thng tin c bn"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn loi phng *"}),e.jsx("input",{type:"text",name:"name",value:x.name,onChange:p,placeholder:"VD: Phng Deluxe",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loi ging"}),e.jsxs("select",{name:"bedType",value:x.bedType,onChange:p,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Chn loi ging"}),e.jsx("option",{value:"Single",children:"Ging n"}),e.jsx("option",{value:"Double",children:"Ging i"}),e.jsx("option",{value:"Queen",children:"Ging Queen"}),e.jsx("option",{value:"King",children:"Ging King"}),e.jsx("option",{value:"Twin",children:"Ging i ring bit"}),e.jsx("option",{value:"Sofa Bed",children:"Ging sofa"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sc cha ti a *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"maxOccupancy",value:x.maxOccupancy,onChange:b,min:"1",max:"10",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Din tch (m)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"roomSize",value:x.roomSize,onChange:b,min:"1",step:"0.1",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"M t"}),e.jsx("textarea",{name:"description",value:x.description,onChange:p,rows:4,placeholder:"M t chi tit v loi phng...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg mr-3",children:e.jsx(Se,{className:"h-5 w-5 text-yellow-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gi & S lng"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gi mi m (VN) *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"pricePerNight",value:x.pricePerNight,onChange:b,min:"0",step:"1000",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tng s phng *"}),e.jsx("input",{type:"number",name:"totalRooms",value:x.totalRooms,onChange:b,min:"1",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Hin c ",m.availableRooms," phng trng / ",m.totalRooms," tng s phng"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg mr-3",children:e.jsx(Tn,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Hnh nh"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL hnh nh"}),e.jsx("input",{type:"url",name:"imageUrl",value:x.imageUrl,onChange:p,placeholder:"https://example.com/room-image.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),x.imageUrl&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:x.imageUrl,alt:"Preview",className:"w-32 h-24 object-cover rounded-lg",onError:C=>{C.currentTarget.style.display="none"}})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg mr-3",children:e.jsx(Qt,{className:"h-5 w-5 text-indigo-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tin nghi"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Chn tin nghi c sn:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((C,S)=>e.jsxs("button",{type:"button",onClick:()=>v(C),className:`px-3 py-1 rounded-full text-sm transition-all ${d.includes(C)?"bg-blue-100 text-blue-800 border-2 border-blue-300":"bg-gray-100 text-gray-700 border-2 border-transparent hover:bg-gray-200"}`,children:[d.includes(C)&&" ",C]},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hoc nhp tin nghi (phn cch bng du phy):"}),e.jsx("textarea",{name:"amenities",value:x.amenities,onChange:w,rows:3,placeholder:"WiFi min ph, iu ha khng kh, TV mn hnh phng...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>s(`/host/room-types/${t}`),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Hy"}),e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-5 w-5 mr-2"}),"Lu thay i"]})})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Khng tm thy loi phng"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loi phng khng tn ti hoc bn khng c quyn truy cp."}),e.jsxs("button",{onClick:()=>s("/host/room-types"),className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Quay li"]})]})})})},ct=({children:t})=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Rx,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8 pt-24",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:t})}),e.jsx(Dx,{})]}),$j=({children:t})=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Rx,{}),e.jsx("main",{className:"flex-grow pt-16",children:t}),e.jsx(Dx,{})]});function Uj(){return e.jsx(Vy,{children:e.jsx(fb,{children:e.jsx(af,{children:e.jsxs(Xp,{children:[e.jsx(ae,{path:"/",element:e.jsx($j,{children:e.jsx(Nb,{})})}),e.jsx(ae,{path:"/login",element:e.jsx(ct,{children:e.jsx(vb,{})})}),e.jsx(ae,{path:"/register",element:e.jsx(ct,{children:e.jsx(wb,{})})}),e.jsx(ae,{path:"/forgot-password",element:e.jsx(ct,{children:e.jsx(kb,{})})}),e.jsx(ae,{path:"/reset-password",element:e.jsx(ct,{children:e.jsx(Cb,{})})}),e.jsx(ae,{path:"/email-verification",element:e.jsx(ct,{children:e.jsx(Sb,{})})}),e.jsx(ae,{path:"/about",element:e.jsx(ct,{children:e.jsx(Eb,{})})}),e.jsx(ae,{path:"/contact",element:e.jsx(ct,{children:e.jsx(Rb,{})})}),e.jsx(ae,{path:"/hotels",element:e.jsx(ct,{children:e.jsx(Db,{})})}),e.jsx(ae,{path:"/hotels/:id",element:e.jsx(ct,{children:e.jsx(Bb,{})})}),e.jsx(ae,{path:"/profile",element:e.jsx(de,{requireAuth:!0,children:e.jsx(ct,{children:e.jsx(Tb,{})})})}),e.jsx(ae,{path:"/bookings",element:e.jsx(de,{requireAuth:!0,children:e.jsx(ct,{children:e.jsx(Ob,{})})})}),e.jsx(ae,{path:"/bookings/my",element:e.jsx(de,{requireAuth:!0,children:e.jsx(ct,{children:e.jsx(Yb,{})})})}),e.jsx(ae,{path:"/bookings/:id",element:e.jsx(de,{requireAuth:!0,children:e.jsx(ct,{children:e.jsx(zb,{})})})}),e.jsx(ae,{path:"/bookings/confirmation/:bookingId",element:e.jsx(de,{requireAuth:!0,children:e.jsx(ct,{children:e.jsx(Hb,{})})})}),e.jsx(ae,{path:"/booking",element:e.jsx(de,{requireAuth:!0,children:e.jsx(ct,{children:e.jsx(Gb,{})})})}),e.jsx(ae,{path:"/my-reviews",element:e.jsx(de,{requireAuth:!0,children:e.jsx(ct,{children:e.jsx(Wb,{})})})}),e.jsx(ae,{path:"/payment/return",element:e.jsx(ct,{children:e.jsx(Qb,{})})}),e.jsx(ae,{path:"/admin",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Xb,{})})})}),e.jsx(ae,{path:"/admin/commissions",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Jb,{})})})}),e.jsx(ae,{path:"/admin/invoices",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Zb,{})})})}),e.jsx(ae,{path:"/admin/invoices/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(ej,{})})})}),e.jsx(ae,{path:"/admin/promotions",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(rj,{})})})}),e.jsx(ae,{path:"/admin/analytics",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(aj,{})})})}),e.jsx(ae,{path:"/admin/commission-payments",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(lj,{})})})}),e.jsx(ae,{path:"/admin/commission-payments/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(ij,{})})})}),e.jsx(ae,{path:"/admin/commission-payments/create",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(oj,{})})})}),e.jsx(ae,{path:"/admin/bookings",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(cj,{})})})}),e.jsx(ae,{path:"/admin/bookings/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(dj,{})})})}),e.jsx(ae,{path:"/admin/hotels",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(mj,{})})})}),e.jsx(ae,{path:"/admin/hotels/add",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(xj,{})})})}),e.jsx(ae,{path:"/admin/hotels/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(uj,{})})})}),e.jsx(ae,{path:"/admin/hotels/edit/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(gj,{})})})}),e.jsx(ae,{path:"/admin/room-types",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(pj,{})})})}),e.jsx(ae,{path:"/admin/room-types/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(fj,{})})})}),e.jsx(ae,{path:"/admin/room-types/edit/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(yj,{})})})}),e.jsx(ae,{path:"/admin/room-types/add",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(bj,{})})})}),e.jsx(ae,{path:"/admin/users",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(jj,{})})})}),e.jsx(ae,{path:"/admin/users/add",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(wj,{})})})}),e.jsx(ae,{path:"/admin/users/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Nj,{})})})}),e.jsx(ae,{path:"/admin/users/edit/:id",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(vj,{})})})}),e.jsx(ae,{path:"/admin/reviews",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(kj,{})})})}),e.jsx(ae,{path:"/admin/settings",element:e.jsx(de,{requiredRole:"ADMIN",children:e.jsx(xe,{type:"admin",children:e.jsx(Cj,{})})})}),e.jsx(ae,{path:"/host",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Sj,{})})})}),e.jsx(ae,{path:"/host/properties",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Pj,{})})})}),e.jsx(ae,{path:"/host/properties/add",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Aj,{})})})}),e.jsx(ae,{path:"/host/properties/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Ij,{})})})}),e.jsx(ae,{path:"/host/hotels",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Mj,{})})})}),e.jsx(ae,{path:"/host/hotels/add",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Lj,{})})})}),e.jsx(ae,{path:"/host/hotels/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Bj,{})})})}),e.jsx(ae,{path:"/host/hotels/edit/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Oj,{})})})}),e.jsx(ae,{path:"/host/room-types",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(zj,{})})})}),e.jsx(ae,{path:"/host/room-types/add",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Hj,{})})})}),e.jsx(ae,{path:"/host/room-types/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Fj,{})})})}),e.jsx(ae,{path:"/host/room-types/edit/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Vj,{})})})}),e.jsx(ae,{path:"/host/bookings",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Ej,{})})})}),e.jsx(ae,{path:"/host/bookings/:id",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Rj,{})})})}),e.jsx(ae,{path:"/host/analytics",element:e.jsx(de,{requiredRole:"HOST",children:e.jsx(xe,{type:"host",children:e.jsx(Dj,{})})})}),e.jsx(ae,{path:"*",element:e.jsx(Po,{to:"/",replace:!0})})]})})})})}Vh(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(Uj,{})}));
